(self.webpackChunkapp=self.webpackChunkapp||[]).push([[6038],{6038:(li,ei,St)=>{"use strict";St.d(ei,{J:()=>A});var Gt=St(467),ye=St(5233),Ee=St(5499),jt=St(1075),ot=St(8141),qt=St(4321),et=St(4438),V=St(3656),Ue=St(3871),he=St(170),ce=St(2496),Ce=St(7291),xt=St(9503),wt=St(369),ae=St(177);const q=["canvas"],be=["inputalert"];function at(pt,qe){if(1&pt){const At=et.RV6();et.j41(0,"app-results",11),et.bIt("filterEmmiter",function(){et.eBV(At);const $=et.XpG();return et.Njj($.sendOutput())}),et.k0s()}if(2&pt){const At=et.XpG();et.Y8G("resultData",At.finalOutput)}}let A=(()=>{var pt;class qe{constructor(F,$,X,vt,Et,Tt,Vt,Jt,we){this.plt=F,this.alertCtrl=$,this._common=X,this._alert=vt,this.modalCtrl=Et,this._countries=Tt,this._storageService=Vt,this._admob=Jt,this.storage=we,this.undoStack=[],this.points=[],this.lines=[],this.labelPosition=null,this.lineLabel="line",this.drag_point=-1,this.pointSize=4,this.isDrawing=!0,this.tolerance=10,this.trianglesInput=[],this.triangleAreaInFeet=[],this.sumOfAllArea=0,this.isWrongInput=!1,this.input_unit="Meter",this.isResult=!1}ionViewWillEnter(){var F=this;return(0,Gt.A)(function*(){if(F.isResult){const $=yield F.storage.get("result"),X=yield F.storage.get("countryResult");(F.countrySelectedUnits.length!=X.length||F.universalUnits.length!=$.length)&&F.calculate()}F._storageService.reCalData.subscribe($=>{F.isResult&&F.calculate()})})()}ngOnInit(){var F=this;return(0,Gt.A)(function*(){const $=yield F.storage.get("resultCount");F._admob.checkEligibleForAdView($,8)||F.storage.set("resultCount",$+1)})()}ngAfterViewInit(){this.canvas=this.canvasElement.nativeElement,this.canvasWidth=this.plt.width(),this.canvasHeight=.5*this.plt.height(),this.canvas.width=this.plt.width(),this.canvas.height=.5*this.plt.height(),this.draw()}draw(){new Ee.Project(this.canvas)}saveState(){this.undoStack.push({points:this.points.map(F=>({...F})),lines:this.lines.map(F=>({start:{...F.start},end:{...F.end}})),labelPosition:this.labelPosition?{...this.labelPosition}:null})}undo(){if(console.log("UNDO",this.undoStack),this.undoStack.length>0){const F=this.undoStack.pop();this.points=F.points,this.lines=F.lines,this.labelPosition=F.labelPosition,this.redraw()}}redraw(){this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height);for(var F=0;F<this.points.length;F++)this.drawlines(this.points[F].x,this.points[F].y)}onMouseDown(F){var $=this;return(0,Gt.A)(function*(){if($.isDrawing){var X=yield $.getPosition(F);$.drag_point=yield $.getPointAt(X.x,X.y),-1==$.drag_point?($.drawlines(X.x,X.y),$.points.push(X)):0==$.drag_point&&($.drawlines($.points[0].x,$.points[0].y),$.isDrawing=!1,$.autoDrawDiagonals(),$.onLineClick(F))}else $.isDrawing||$.onLineClick(F)})()}onMouseUp(F){var $=this;return(0,Gt.A)(function*(){$.drag_point=-1})()}getPosition(F){var $,X,vt=this.canvas.getBoundingClientRect();return this.ctx=this.canvas.getContext("2d"),{x:(null===($=F.changedTouches[0])||void 0===$?void 0:$.clientX)-vt.left,y:(null===(X=F.changedTouches[0])||void 0===X?void 0:X.clientY)-vt.top}}getPointAt(F,$){var X=this;return(0,Gt.A)(function*(){if(0==X.points.length){for(var vt=0;vt<X.points.length;vt++)if(Math.abs(X.points[vt].x-F)<X.pointSize&&Math.abs(X.points[vt].y-$)<X.pointSize)return vt;return-1}{let Tt={x:X.points[0].x,y:X.points[0].y};var Et={x:F,y:$};return(yield X.isClose(Tt,Et,20))?(X.drag_point=0,0):(X.drag_point=-1,-1)}})()}drawlines(F,$){if(this.drawImages(F,$),this.points.length>0){var X=this.points[this.points.length-1];this.ctx.beginPath(),this.ctx.moveTo(X.x,X.y),this.ctx.lineTo(F,$),this.lines.push({startPoint:this.points[this.points.length-1],endPoint:{x:F,y:$},lineType:"line",position:this.points.length}),this.ctx.strokeStyle="blue",this.ctx.stroke()}}drawImages(F,$){this.saveState(),this.ctx.beginPath(),this.ctx.arc(F,$,this.pointSize,0,2*Math.PI,!0),this.ctx.strokeStyle="blue",this.ctx.fill()}autoDrawDiagonals(){if(this.points.length>3){var F=this.points[0];let $=[];this.points.map((X,vt)=>{vt>1&&vt<this.points.length-1&&($.push(X),this.drawDiagonalLines(F,X,vt))})}}drawDiagonalLines(F,$,X){this.ctx.beginPath(),this.ctx.moveTo($.x,$.y),this.ctx.lineTo(F.x,F.y),this.lines.push({startPoint:{x:F.x,y:F.y},endPoint:{x:$.x,y:$.y},lineType:"diagonal",position:X-1}),this.ctx.strokeStyle="green",this.ctx.stroke()}isClose(F,$,X){const vt=F.x-$.x,Et=F.y-$.y;return Math.sqrt(vt*vt+Et*Et)<X}isPointCloseToLineSegment(F,$,X,vt){const Vt=X.x-$.x,Jt=X.y-$.y,ee=Vt*Vt+Jt*Jt,_t=0!==ee?((F.x-$.x)*Vt+(F.y-$.y)*Jt)/ee:-1;let Re,ut;_t<0?(Re=$.x,ut=$.y):_t>1?(Re=X.x,ut=X.y):(Re=$.x+_t*Vt,ut=$.y+_t*Jt);const ue=F.x-Re,ke=F.y-ut;return Math.sqrt(ue*ue+ke*ke)<vt}onLineClick(F){var $,X;const vt=this.canvas.getBoundingClientRect(),Vt={x:(null===($=F.changedTouches[0])||void 0===$?void 0:$.clientX)-vt.left,y:(null===(X=F.changedTouches[0])||void 0===X?void 0:X.clientY)-vt.top};for(let Jt=0;Jt<this.lines.length;Jt++)if(this.isPointCloseToLineSegment(Vt,this.lines[Jt].startPoint,this.lines[Jt].endPoint,this.tolerance))return this.selectedLine=Jt,void this.inputForm()}displayLengthOnLine(F,$,X){const vt=(F.x+$.x)/2,Et=(F.y+$.y)/2;this.labelPosition={x:vt,y:Et},this.clearText(),this.ctx.fillText(X,vt-5,Et)}clearText(){if(this.labelPosition){const F=this.ctx.measureText(this.lineLabel).width+6,$=10;this.ctx.clearRect(this.labelPosition.x-F/2,this.labelPosition.y-$,F,1.2*$)}}inputForm(){var F=this;return(0,Gt.A)(function*(){var $,vt;yield(yield F.alertCtrl.create({header:"Length in meter",inputs:[{type:"number",name:"length",value:null===($=F.lines[F.selectedLine])||void 0===$?void 0:$.length,placeholder:"Enter Length"}],buttons:[{text:"Cancel",role:"cancel",cssClass:"secondary",handler:()=>{console.log("Confirm Cancel")}},{text:"Ok",handler:(vt=(0,Gt.A)(function*(Et){F.lines[F.selectedLine].length=Et.length,yield F.displayLengthOnLine(F.lines[F.selectedLine].startPoint,F.lines[F.selectedLine].endPoint,Et.length),F.lineLabel=Et.length}),function(Tt){return vt.apply(this,arguments)})}]})).present()})()}validateInput(){var F=this;return(0,Gt.A)(function*(){if(!(F.lines.length>0))return yield F._alert.errorAlert("Draw a shape","Any geometric shape & get it's area."),!1;for(const $ of F.lines)return"length"in $||(yield F._alert.errorAlert("Diagram not completed","Please complete the diagram by connecting to first point."),!1)})()}calculate(){var F=this;return(0,Gt.A)(function*(){if(yield F.validateInput()){F.sumOfAllArea=0,F.triangleAreaInFeet=[],F.trianglesInput=[];let X=(F.lines.length-1)/2;yield F.lines.map((Tt,Vt)=>{Vt<X&&F.trianglesInput.push({a:null,b:null,c:null})});let vt=yield F.lines.filter(Tt=>"line"===Tt.lineType),Et=yield F.lines.filter(Tt=>"diagonal"===Tt.lineType);X>1?yield F.trianglesInput.map((Tt,Vt)=>{0==Vt?(Tt.a=vt[Vt].length,Tt.b=vt[Vt+1].length,Tt.c=Et[Vt].length):Vt==F.trianglesInput.length-1?(Tt.a=Et[Et.length-1].length,Tt.b=vt[vt.length-2].length,Tt.c=vt[vt.length-1].length):(Tt.a=Et[Vt-1].length,Tt.b=vt[Vt+1].length,Tt.c=Et[Vt].length)}):(F.trianglesInput[0].a=F.lines[0].length,F.trianglesInput[0].b=F.lines[1].length,F.trianglesInput[0].c=F.lines[2].length),F.trianglesInput.map(function(){var Tt=(0,Gt.A)(function*(Vt,Jt){yield F.calculateAreaOfEachTriangle(Vt),Jt===F.trianglesInput.length-1&&F.calculateTotalAreaOfAllTriangle()});return function(Vt,Jt){return Tt.apply(this,arguments)}}())}})()}decCtrl(F){return F.toLocaleString("en",{useGrouping:!1,minimumFractionDigits:0,maximumFractionDigits:4})}calculateAreaOfEachTriangle(F){var $=this;return(0,Gt.A)(function*(){const X=(Number(F.a)+Number(F.b)+Number(F.c))/2,vt=X*(X-Number(F.a))*(X-Number(F.b))*(X-Number(F.c));$.result=yield Math.sqrt(vt),$.result=$.decCtrl($.result),$.triangleAreaInFeet.push($.result)})()}calculateTotalAreaOfAllTriangle(){var F=this;return(0,Gt.A)(function*(){yield F.triangleAreaInFeet.map($=>{F.sumOfAllArea+=parseFloat($)}),F._common.getAllOtherUnits(F.sumOfAllArea,F.input_unit).then(function(){var $=(0,Gt.A)(function*(X){F.otherUnits=X,F.isWrongInput=isNaN(F.otherUnits.result),F.isWrongInput?yield F._alert.errorAlert("Please check input","Check the length of each sides and diagonals."):("Meter"==F.input_unit?(F.sqr_ft=F.otherUnits.result,F.sqr_mtr=F.sumOfAllArea,F.bkdk=yield F._common.bkdkFromSqrMtr(F.sumOfAllArea),F.rapd=yield F._common.rapdFromSqrMtr(F.sumOfAllArea),F.universalUnits=yield F._countries.universalUnitConversion(F.sqr_ft),F.countrySelectedUnits=yield F._countries.convertToCountrySelectedUnits(F.sqr_ft),F.sendOutput()):(F.bkdk=yield F._common.bkdk(F.sumOfAllArea),F.rapd=yield F._common.rapd(F.sumOfAllArea),F.sqr_mtr=F.otherUnits.result,F.sqr_ft=F.sumOfAllArea,F.sendOutput()),setTimeout(()=>{F.content.scrollToBottom(500)},50))});return function(X){return $.apply(this,arguments)}}())})()}sendOutput(){var F=this;return(0,Gt.A)(function*(){F.finalOutput={sqr_ft:F.sqr_ft,sqr_mtr:F.sqr_mtr,bkdk:F.bkdk,rapd:F.rapd,universalUnits:F.universalUnits,countrySelectedUnits:F.countrySelectedUnits,title:"Total area"},F.isResult=!0})()}reset(){var F=this;return(0,Gt.A)(function*(){F.points.length>0?(F.sumOfAllArea=0,F.triangleAreaInFeet=[],F.result=null,F.isResult=!1,F.ctx.clearRect(0,0,F.canvas.width,F.canvas.height),F.isDrawing=!0,F.points=[],F.lines=[]):yield F._alert.errorAlert("Already reset","Nothing is there to clear or reset.")})()}openYoutube(){var F=this;return(0,Gt.A)(function*(){const $=yield F.modalCtrl.create({component:qt.W,componentProps:{videoId:5}});return $.onDidDismiss().then(function(){var X=(0,Gt.A)(function*(vt){null!==vt.data&&console.log(vt.data)});return function(vt){return X.apply(this,arguments)}}()),yield $.present()})()}}return(pt=qe).\u0275fac=function(F){return new(F||pt)(et.rXU(V.OD),et.rXU(jt.hG),et.rXU(Ue.h),et.rXU(he.V),et.rXU(jt.W3),et.rXU(ce.C),et.rXU(Ce.n),et.rXU(xt.D),et.rXU(wt.w))},pt.\u0275cmp=et.VBU({type:pt,selectors:[["app-draw-blueprint"]],viewQuery:function(F,$){if(1&F&&(et.GBs(ye._,5),et.GBs(ot.y,5),et.GBs(jt.W9,5),et.GBs(q,5),et.GBs(be,5)),2&F){let X;et.mGM(X=et.lsd())&&($.naapiheader=X.first),et.mGM(X=et.lsd())&&($.resultComp=X.first),et.mGM(X=et.lsd())&&($.content=X.first),et.mGM(X=et.lsd())&&($.canvasElement=X.first),et.mGM(X=et.lsd())&&($.inputalert=X.first)}},decls:16,vars:6,consts:[["canvas",""],[3,"pageName"],[3,"touchstart","touchend"],[1,"ion-text-right",2,"margin-top","-10px","margin-right","0px"],["fill","clear",2,"border","1px solid #a0a0a0","border-radius","5px",3,"click"],["color","danger","name","logo-youtube"],["type","submit",2,"--background","#2cb74c",3,"click"],["name","calculator-outline"],["fill","solid","type","submit","color","danger",3,"click"],["name","refresh-outline"],[3,"resultData","filterEmmiter",4,"ngIf"],[3,"filterEmmiter","resultData"]],template:function(F,$){if(1&F){const X=et.RV6();et.nrm(0,"app-naapi-header",1),et.j41(1,"ion-content")(2,"canvas",2,0),et.bIt("touchstart",function(Et){return et.eBV(X),et.Njj($.onMouseDown(Et))})("touchend",function(Et){return et.eBV(X),et.Njj($.onMouseUp(Et))}),et.k0s(),et.j41(4,"ion-grid",3)(5,"ion-button",4),et.bIt("click",function(){return et.eBV(X),et.Njj($.openYoutube())}),et.nrm(6,"ion-icon",5),et.k0s(),et.j41(7,"ion-button",6),et.bIt("click",function(){return et.eBV(X),et.Njj($.calculate())}),et.nrm(8,"ion-icon",7),et.j41(9,"ion-label"),et.EFF(10,"\xa0Calculate"),et.k0s()(),et.j41(11,"ion-button",8),et.bIt("click",function(){return et.eBV(X),et.Njj($.reset())}),et.nrm(12,"ion-icon",9),et.j41(13,"ion-label"),et.EFF(14,"\xa0Reset"),et.k0s()()(),et.DNE(15,at,1,1,"app-results",10),et.k0s()}2&F&&(et.Y8G("pageName","Draw shape"),et.R7$(2),et.xc7("width",$.canvasWidth,"px")("height",$.canvasHeight,"px"),et.R7$(13),et.Y8G("ngIf",$.isResult))},dependencies:[ae.bT,jt.Jm,jt.W9,jt.lO,jt.iq,jt.he,ye._,ot.y],styles:["p[_ngcontent-%COMP%]{font-family:Lato}canvas[_ngcontent-%COMP%]{outline:1px solid grey;padding:0;margin:0}"]}),qe})()},5111:function(li,ei){!function(St){"use strict";var Gt=[509,0,227,0,150,4,294,9,1368,2,2,1,6,3,41,2,5,0,166,1,574,3,9,9,370,1,81,2,71,10,50,3,123,2,54,14,32,10,3,1,11,3,46,10,8,0,46,9,7,2,37,13,2,9,6,1,45,0,13,2,49,13,9,3,2,11,83,11,7,0,3,0,158,11,6,9,7,3,56,1,2,6,3,1,3,2,10,0,11,1,3,6,4,4,193,17,10,9,5,0,82,19,13,9,214,6,3,8,28,1,83,16,16,9,82,12,9,9,84,14,5,9,243,14,166,9,71,5,2,1,3,3,2,0,2,1,13,9,120,6,3,6,4,0,29,9,41,6,2,3,9,0,10,10,47,15,406,7,2,7,17,9,57,21,2,13,123,5,4,0,2,1,2,6,2,0,9,9,49,4,2,1,2,4,9,9,330,3,10,1,2,0,49,6,4,4,14,9,5351,0,7,14,13835,9,87,9,39,4,60,6,26,9,1014,0,2,54,8,3,82,0,12,1,19628,1,4706,45,3,22,543,4,4,5,9,7,3,6,31,3,149,2,1418,49,513,54,5,49,9,0,15,0,23,4,2,14,1361,6,2,16,3,6,2,1,2,4,101,0,161,6,10,9,357,0,62,13,499,13,983,6,110,6,6,9,4759,9,787719,239],ye=[0,11,2,25,2,18,2,1,2,14,3,13,35,122,70,52,268,28,4,48,48,31,14,29,6,37,11,29,3,35,5,7,2,4,43,157,19,35,5,35,5,39,9,51,13,10,2,14,2,6,2,1,2,10,2,14,2,6,2,1,68,310,10,21,11,7,25,5,2,41,2,8,70,5,3,0,2,43,2,1,4,0,3,22,11,22,10,30,66,18,2,1,11,21,11,25,71,55,7,1,65,0,16,3,2,2,2,28,43,28,4,28,36,7,2,27,28,53,11,21,11,18,14,17,111,72,56,50,14,50,14,35,349,41,7,1,79,28,11,0,9,21,43,17,47,20,28,22,13,52,58,1,3,0,14,44,33,24,27,35,30,0,3,0,9,34,4,0,13,47,15,3,22,0,2,0,36,17,2,24,20,1,64,6,2,0,2,3,2,14,2,9,8,46,39,7,3,1,3,21,2,6,2,1,2,4,4,0,19,0,13,4,159,52,19,3,21,2,31,47,21,1,2,0,185,46,42,3,37,47,21,0,60,42,14,0,72,26,38,6,186,43,117,63,32,7,3,0,3,7,2,1,2,23,16,0,2,0,95,7,3,38,17,0,2,0,29,0,11,39,8,0,22,0,12,45,20,0,19,72,264,8,2,36,18,0,50,29,113,6,2,1,2,37,22,0,26,5,2,1,2,31,15,0,328,18,16,0,2,12,2,33,125,0,80,921,103,110,18,195,2637,96,16,1071,18,5,4026,582,8634,568,8,30,18,78,18,29,19,47,17,3,32,20,6,18,689,63,129,74,6,0,67,12,65,1,2,0,29,6135,9,1237,43,8,8936,3,2,6,2,1,2,290,16,0,30,2,3,0,15,3,9,395,2309,106,6,12,4,8,8,9,5991,84,2,70,2,1,3,0,3,1,3,3,2,11,2,0,2,6,2,64,2,3,3,7,2,6,2,27,2,3,2,4,2,0,4,6,2,339,3,24,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,7,1845,30,7,5,262,61,147,44,11,6,17,0,322,29,19,43,485,27,757,6,2,3,2,1,2,14,2,196,60,67,8,0,1205,3,2,26,2,1,2,0,3,0,2,9,2,3,2,0,2,0,7,0,5,0,2,0,2,0,2,2,2,1,2,0,3,0,2,0,2,0,2,0,2,0,2,1,2,0,3,3,2,6,2,3,2,3,2,0,2,9,2,16,6,2,2,4,2,16,4421,42719,33,4153,7,221,3,5761,15,7472,16,621,2467,541,1507,4938,6,4191],bi="\xaa\xb5\xba\xc0-\xd6\xd8-\xf6\xf8-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ec\u02ee\u0370-\u0374\u0376\u0377\u037a-\u037d\u037f\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u048a-\u052f\u0531-\u0556\u0559\u0560-\u0588\u05d0-\u05ea\u05ef-\u05f2\u0620-\u064a\u066e\u066f\u0671-\u06d3\u06d5\u06e5\u06e6\u06ee\u06ef\u06fa-\u06fc\u06ff\u0710\u0712-\u072f\u074d-\u07a5\u07b1\u07ca-\u07ea\u07f4\u07f5\u07fa\u0800-\u0815\u081a\u0824\u0828\u0840-\u0858\u0860-\u086a\u0870-\u0887\u0889-\u088e\u08a0-\u08c9\u0904-\u0939\u093d\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098c\u098f\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bd\u09ce\u09dc\u09dd\u09df-\u09e1\u09f0\u09f1\u09fc\u0a05-\u0a0a\u0a0f\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32\u0a33\u0a35\u0a36\u0a38\u0a39\u0a59-\u0a5c\u0a5e\u0a72-\u0a74\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2\u0ab3\u0ab5-\u0ab9\u0abd\u0ad0\u0ae0\u0ae1\u0af9\u0b05-\u0b0c\u0b0f\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32\u0b33\u0b35-\u0b39\u0b3d\u0b5c\u0b5d\u0b5f-\u0b61\u0b71\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99\u0b9a\u0b9c\u0b9e\u0b9f\u0ba3\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bd0\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c39\u0c3d\u0c58-\u0c5a\u0c5d\u0c60\u0c61\u0c80\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbd\u0cdd\u0cde\u0ce0\u0ce1\u0cf1\u0cf2\u0d04-\u0d0c\u0d0e-\u0d10\u0d12-\u0d3a\u0d3d\u0d4e\u0d54-\u0d56\u0d5f-\u0d61\u0d7a-\u0d7f\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0e01-\u0e30\u0e32\u0e33\u0e40-\u0e46\u0e81\u0e82\u0e84\u0e86-\u0e8a\u0e8c-\u0ea3\u0ea5\u0ea7-\u0eb0\u0eb2\u0eb3\u0ebd\u0ec0-\u0ec4\u0ec6\u0edc-\u0edf\u0f00\u0f40-\u0f47\u0f49-\u0f6c\u0f88-\u0f8c\u1000-\u102a\u103f\u1050-\u1055\u105a-\u105d\u1061\u1065\u1066\u106e-\u1070\u1075-\u1081\u108e\u10a0-\u10c5\u10c7\u10cd\u10d0-\u10fa\u10fc-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u1380-\u138f\u13a0-\u13f5\u13f8-\u13fd\u1401-\u166c\u166f-\u167f\u1681-\u169a\u16a0-\u16ea\u16ee-\u16f8\u1700-\u1711\u171f-\u1731\u1740-\u1751\u1760-\u176c\u176e-\u1770\u1780-\u17b3\u17d7\u17dc\u1820-\u1878\u1880-\u18a8\u18aa\u18b0-\u18f5\u1900-\u191e\u1950-\u196d\u1970-\u1974\u1980-\u19ab\u19b0-\u19c9\u1a00-\u1a16\u1a20-\u1a54\u1aa7\u1b05-\u1b33\u1b45-\u1b4c\u1b83-\u1ba0\u1bae\u1baf\u1bba-\u1be5\u1c00-\u1c23\u1c4d-\u1c4f\u1c5a-\u1c7d\u1c80-\u1c88\u1c90-\u1cba\u1cbd-\u1cbf\u1ce9-\u1cec\u1cee-\u1cf3\u1cf5\u1cf6\u1cfa\u1d00-\u1dbf\u1e00-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u2071\u207f\u2090-\u209c\u2102\u2107\u210a-\u2113\u2115\u2118-\u211d\u2124\u2126\u2128\u212a-\u2139\u213c-\u213f\u2145-\u2149\u214e\u2160-\u2188\u2c00-\u2ce4\u2ceb-\u2cee\u2cf2\u2cf3\u2d00-\u2d25\u2d27\u2d2d\u2d30-\u2d67\u2d6f\u2d80-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303c\u3041-\u3096\u309b-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312f\u3131-\u318e\u31a0-\u31bf\u31f0-\u31ff\u3400-\u4dbf\u4e00-\ua48c\ua4d0-\ua4fd\ua500-\ua60c\ua610-\ua61f\ua62a\ua62b\ua640-\ua66e\ua67f-\ua69d\ua6a0-\ua6ef\ua717-\ua71f\ua722-\ua788\ua78b-\ua7ca\ua7d0\ua7d1\ua7d3\ua7d5-\ua7d9\ua7f2-\ua801\ua803-\ua805\ua807-\ua80a\ua80c-\ua822\ua840-\ua873\ua882-\ua8b3\ua8f2-\ua8f7\ua8fb\ua8fd\ua8fe\ua90a-\ua925\ua930-\ua946\ua960-\ua97c\ua984-\ua9b2\ua9cf\ua9e0-\ua9e4\ua9e6-\ua9ef\ua9fa-\ua9fe\uaa00-\uaa28\uaa40-\uaa42\uaa44-\uaa4b\uaa60-\uaa76\uaa7a\uaa7e-\uaaaf\uaab1\uaab5\uaab6\uaab9-\uaabd\uaac0\uaac2\uaadb-\uaadd\uaae0-\uaaea\uaaf2-\uaaf4\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e\uab30-\uab5a\uab5c-\uab69\uab70-\uabe2\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\uf900-\ufa6d\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d\ufb1f-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40\ufb41\ufb43\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe70-\ufe74\ufe76-\ufefc\uff21-\uff3a\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc",jt={3:"abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile",5:"class enum extends super const export import",6:"enum",strict:"implements interface let package private protected public static yield",strictBind:"eval arguments"},ot="break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this",qt={5:ot,"5module":ot+" export import",6:ot+" const class extends export import super"},et=/^in(stanceof)?$/,V=new RegExp("["+bi+"]"),Ue=new RegExp("["+bi+"\u200c\u200d\xb7\u0300-\u036f\u0387\u0483-\u0487\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u0669\u0670\u06d6-\u06dc\u06df-\u06e4\u06e7\u06e8\u06ea-\u06ed\u06f0-\u06f9\u0711\u0730-\u074a\u07a6-\u07b0\u07c0-\u07c9\u07eb-\u07f3\u07fd\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0859-\u085b\u0898-\u089f\u08ca-\u08e1\u08e3-\u0903\u093a-\u093c\u093e-\u094f\u0951-\u0957\u0962\u0963\u0966-\u096f\u0981-\u0983\u09bc\u09be-\u09c4\u09c7\u09c8\u09cb-\u09cd\u09d7\u09e2\u09e3\u09e6-\u09ef\u09fe\u0a01-\u0a03\u0a3c\u0a3e-\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a66-\u0a71\u0a75\u0a81-\u0a83\u0abc\u0abe-\u0ac5\u0ac7-\u0ac9\u0acb-\u0acd\u0ae2\u0ae3\u0ae6-\u0aef\u0afa-\u0aff\u0b01-\u0b03\u0b3c\u0b3e-\u0b44\u0b47\u0b48\u0b4b-\u0b4d\u0b55-\u0b57\u0b62\u0b63\u0b66-\u0b6f\u0b82\u0bbe-\u0bc2\u0bc6-\u0bc8\u0bca-\u0bcd\u0bd7\u0be6-\u0bef\u0c00-\u0c04\u0c3c\u0c3e-\u0c44\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0c66-\u0c6f\u0c81-\u0c83\u0cbc\u0cbe-\u0cc4\u0cc6-\u0cc8\u0cca-\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0ce6-\u0cef\u0cf3\u0d00-\u0d03\u0d3b\u0d3c\u0d3e-\u0d44\u0d46-\u0d48\u0d4a-\u0d4d\u0d57\u0d62\u0d63\u0d66-\u0d6f\u0d81-\u0d83\u0dca\u0dcf-\u0dd4\u0dd6\u0dd8-\u0ddf\u0de6-\u0def\u0df2\u0df3\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0e50-\u0e59\u0eb1\u0eb4-\u0ebc\u0ec8-\u0ece\u0ed0-\u0ed9\u0f18\u0f19\u0f20-\u0f29\u0f35\u0f37\u0f39\u0f3e\u0f3f\u0f71-\u0f84\u0f86\u0f87\u0f8d-\u0f97\u0f99-\u0fbc\u0fc6\u102b-\u103e\u1040-\u1049\u1056-\u1059\u105e-\u1060\u1062-\u1064\u1067-\u106d\u1071-\u1074\u1082-\u108d\u108f-\u109d\u135d-\u135f\u1369-\u1371\u1712-\u1715\u1732-\u1734\u1752\u1753\u1772\u1773\u17b4-\u17d3\u17dd\u17e0-\u17e9\u180b-\u180d\u180f-\u1819\u18a9\u1920-\u192b\u1930-\u193b\u1946-\u194f\u19d0-\u19da\u1a17-\u1a1b\u1a55-\u1a5e\u1a60-\u1a7c\u1a7f-\u1a89\u1a90-\u1a99\u1ab0-\u1abd\u1abf-\u1ace\u1b00-\u1b04\u1b34-\u1b44\u1b50-\u1b59\u1b6b-\u1b73\u1b80-\u1b82\u1ba1-\u1bad\u1bb0-\u1bb9\u1be6-\u1bf3\u1c24-\u1c37\u1c40-\u1c49\u1c50-\u1c59\u1cd0-\u1cd2\u1cd4-\u1ce8\u1ced\u1cf4\u1cf7-\u1cf9\u1dc0-\u1dff\u200c\u200d\u203f\u2040\u2054\u20d0-\u20dc\u20e1\u20e5-\u20f0\u2cef-\u2cf1\u2d7f\u2de0-\u2dff\u302a-\u302f\u3099\u309a\u30fb\ua620-\ua629\ua66f\ua674-\ua67d\ua69e\ua69f\ua6f0\ua6f1\ua802\ua806\ua80b\ua823-\ua827\ua82c\ua880\ua881\ua8b4-\ua8c5\ua8d0-\ua8d9\ua8e0-\ua8f1\ua8ff-\ua909\ua926-\ua92d\ua947-\ua953\ua980-\ua983\ua9b3-\ua9c0\ua9d0-\ua9d9\ua9e5\ua9f0-\ua9f9\uaa29-\uaa36\uaa43\uaa4c\uaa4d\uaa50-\uaa59\uaa7b-\uaa7d\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uaaeb-\uaaef\uaaf5\uaaf6\uabe3-\uabea\uabec\uabed\uabf0-\uabf9\ufb1e\ufe00-\ufe0f\ufe20-\ufe2f\ufe33\ufe34\ufe4d-\ufe4f\uff10-\uff19\uff3f\uff65]");function he(i,a){for(var m=65536,I=0;I<a.length;I+=2){if((m+=a[I])>i)return!1;if((m+=a[I+1])>=i)return!0}return!1}function ce(i,a){return i<65?36===i:i<91||(i<97?95===i:i<123||(i<=65535?i>=170&&V.test(String.fromCharCode(i)):!1!==a&&he(i,ye)))}function Ce(i,a){return i<48?36===i:i<58||!(i<65)&&(i<91||(i<97?95===i:i<123||(i<=65535?i>=170&&Ue.test(String.fromCharCode(i)):!1!==a&&(he(i,ye)||he(i,Gt)))))}var xt=function(a,m){void 0===m&&(m={}),this.label=a,this.keyword=m.keyword,this.beforeExpr=!!m.beforeExpr,this.startsExpr=!!m.startsExpr,this.isLoop=!!m.isLoop,this.isAssign=!!m.isAssign,this.prefix=!!m.prefix,this.postfix=!!m.postfix,this.binop=m.binop||null,this.updateContext=null};function wt(i,a){return new xt(i,{beforeExpr:!0,binop:a})}var ae={beforeExpr:!0},q={startsExpr:!0},be={};function at(i,a){return void 0===a&&(a={}),a.keyword=i,be[i]=new xt(i,a)}var A={num:new xt("num",q),regexp:new xt("regexp",q),string:new xt("string",q),name:new xt("name",q),privateId:new xt("privateId",q),eof:new xt("eof"),bracketL:new xt("[",{beforeExpr:!0,startsExpr:!0}),bracketR:new xt("]"),braceL:new xt("{",{beforeExpr:!0,startsExpr:!0}),braceR:new xt("}"),parenL:new xt("(",{beforeExpr:!0,startsExpr:!0}),parenR:new xt(")"),comma:new xt(",",ae),semi:new xt(";",ae),colon:new xt(":",ae),dot:new xt("."),question:new xt("?",ae),questionDot:new xt("?."),arrow:new xt("=>",ae),template:new xt("template"),invalidTemplate:new xt("invalidTemplate"),ellipsis:new xt("...",ae),backQuote:new xt("`",q),dollarBraceL:new xt("${",{beforeExpr:!0,startsExpr:!0}),eq:new xt("=",{beforeExpr:!0,isAssign:!0}),assign:new xt("_=",{beforeExpr:!0,isAssign:!0}),incDec:new xt("++/--",{prefix:!0,postfix:!0,startsExpr:!0}),prefix:new xt("!/~",{beforeExpr:!0,prefix:!0,startsExpr:!0}),logicalOR:wt("||",1),logicalAND:wt("&&",2),bitwiseOR:wt("|",3),bitwiseXOR:wt("^",4),bitwiseAND:wt("&",5),equality:wt("==/!=/===/!==",6),relational:wt("</>/<=/>=",7),bitShift:wt("<</>>/>>>",8),plusMin:new xt("+/-",{beforeExpr:!0,binop:9,prefix:!0,startsExpr:!0}),modulo:wt("%",10),star:wt("*",10),slash:wt("/",10),starstar:new xt("**",{beforeExpr:!0}),coalesce:wt("??",1),_break:at("break"),_case:at("case",ae),_catch:at("catch"),_continue:at("continue"),_debugger:at("debugger"),_default:at("default",ae),_do:at("do",{isLoop:!0,beforeExpr:!0}),_else:at("else",ae),_finally:at("finally"),_for:at("for",{isLoop:!0}),_function:at("function",q),_if:at("if"),_return:at("return",ae),_switch:at("switch"),_throw:at("throw",ae),_try:at("try"),_var:at("var"),_const:at("const"),_while:at("while",{isLoop:!0}),_with:at("with"),_new:at("new",{beforeExpr:!0,startsExpr:!0}),_this:at("this",q),_super:at("super",q),_class:at("class",q),_extends:at("extends",ae),_export:at("export"),_import:at("import",q),_null:at("null",q),_true:at("true",q),_false:at("false",q),_in:at("in",{beforeExpr:!0,binop:7}),_instanceof:at("instanceof",{beforeExpr:!0,binop:7}),_typeof:at("typeof",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_void:at("void",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_delete:at("delete",{beforeExpr:!0,prefix:!0,startsExpr:!0})},pt=/\r\n?|\n|\u2028|\u2029/,qe=new RegExp(pt.source,"g");function At(i){return 10===i||13===i||8232===i||8233===i}function F(i,a,m){void 0===m&&(m=i.length);for(var I=a;I<m;I++){var L=i.charCodeAt(I);if(At(L))return I<m-1&&13===L&&10===i.charCodeAt(I+1)?I+2:I+1}return-1}var $=/[\u1680\u2000-\u200a\u202f\u205f\u3000\ufeff]/,X=/(?:\s|\/\/.*|\/\*[^]*?\*\/)*/g,vt=Object.prototype,Et=vt.hasOwnProperty,Tt=vt.toString,Vt=Object.hasOwn||function(i,a){return Et.call(i,a)},Jt=Array.isArray||function(i){return"[object Array]"===Tt.call(i)},we=Object.create(null);function ee(i){return we[i]||(we[i]=new RegExp("^(?:"+i.replace(/ /g,"|")+")$"))}function _t(i){return i<=65535?String.fromCharCode(i):(i-=65536,String.fromCharCode(55296+(i>>10),56320+(1023&i)))}var Re=/(?:[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/,ut=function(a,m){this.line=a,this.column=m};ut.prototype.offset=function(a){return new ut(this.line,this.column+a)};var ue=function(a,m,I){this.start=m,this.end=I,null!==a.sourceFile&&(this.source=a.sourceFile)};function ke(i,a){for(var m=1,I=0;;){var L=F(i,I,a);if(L<0)return new ut(m,a-I);++m,I=L}}var Rt={ecmaVersion:null,sourceType:"script",onInsertedSemicolon:null,onTrailingComma:null,allowReserved:null,allowReturnOutsideFunction:!1,allowImportExportEverywhere:!1,allowAwaitOutsideFunction:null,allowSuperOutsideMethod:null,allowHashBang:!1,checkPrivateFields:!0,locations:!1,onToken:null,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null,preserveParens:!1},Ie=!1;function wi(i){var a={};for(var m in Rt)a[m]=i&&Vt(i,m)?i[m]:Rt[m];if("latest"===a.ecmaVersion?a.ecmaVersion=1e8:null==a.ecmaVersion?(!Ie&&"object"==typeof console&&console.warn&&(Ie=!0,console.warn("Since Acorn 8.0.0, options.ecmaVersion is required.\nDefaulting to 2020, but this will stop working in the future.")),a.ecmaVersion=11):a.ecmaVersion>=2015&&(a.ecmaVersion-=2009),null==a.allowReserved&&(a.allowReserved=a.ecmaVersion<5),(!i||null==i.allowHashBang)&&(a.allowHashBang=a.ecmaVersion>=14),Jt(a.onToken)){var I=a.onToken;a.onToken=function(L){return I.push(L)}}return Jt(a.onComment)&&(a.onComment=function Ri(i,a){return function(m,I,L,W,j,st){var ht={type:m?"Block":"Line",value:I,start:L,end:W};i.locations&&(ht.loc=new ue(this,j,st)),i.ranges&&(ht.range=[L,W]),a.push(ht)}}(a,a.onComment)),a}function We(i,a){return 2|(i?4:0)|(a?8:0)}var Wt=function(a,m,I){this.options=a=wi(a),this.sourceFile=a.sourceFile,this.keywords=ee(qt[a.ecmaVersion>=6?6:"module"===a.sourceType?"5module":5]);var L="";!0!==a.allowReserved&&(L=jt[a.ecmaVersion>=6?6:5===a.ecmaVersion?5:3],"module"===a.sourceType&&(L+=" await")),this.reservedWords=ee(L);var W=(L?L+" ":"")+jt.strict;this.reservedWordsStrict=ee(W),this.reservedWordsStrictBind=ee(W+" "+jt.strictBind),this.input=String(m),this.containsEsc=!1,I?(this.pos=I,this.lineStart=this.input.lastIndexOf("\n",I-1)+1,this.curLine=this.input.slice(0,this.lineStart).split(pt).length):(this.pos=this.lineStart=0,this.curLine=1),this.type=A.eof,this.value=null,this.start=this.end=this.pos,this.startLoc=this.endLoc=this.curPosition(),this.lastTokEndLoc=this.lastTokStartLoc=null,this.lastTokStart=this.lastTokEnd=this.pos,this.context=this.initialContext(),this.exprAllowed=!0,this.inModule="module"===a.sourceType,this.strict=this.inModule||this.strictDirective(this.pos),this.potentialArrowAt=-1,this.potentialArrowInForAwait=!1,this.yieldPos=this.awaitPos=this.awaitIdentPos=0,this.labels=[],this.undefinedExports=Object.create(null),0===this.pos&&a.allowHashBang&&"#!"===this.input.slice(0,2)&&this.skipLineComment(2),this.scopeStack=[],this.enterScope(1),this.regexpState=null,this.privateNameStack=[]},zt={inFunction:{configurable:!0},inGenerator:{configurable:!0},inAsync:{configurable:!0},canAwait:{configurable:!0},allowSuper:{configurable:!0},allowDirectSuper:{configurable:!0},treatFunctionsAsVar:{configurable:!0},allowNewDotTarget:{configurable:!0},inClassStaticBlock:{configurable:!0}};Wt.prototype.parse=function(){var a=this.options.program||this.startNode();return this.nextToken(),this.parseTopLevel(a)},zt.inFunction.get=function(){return(2&this.currentVarScope().flags)>0},zt.inGenerator.get=function(){return(8&this.currentVarScope().flags)>0&&!this.currentVarScope().inClassFieldInit},zt.inAsync.get=function(){return(4&this.currentVarScope().flags)>0&&!this.currentVarScope().inClassFieldInit},zt.canAwait.get=function(){for(var i=this.scopeStack.length-1;i>=0;i--){var a=this.scopeStack[i];if(a.inClassFieldInit||256&a.flags)return!1;if(2&a.flags)return(4&a.flags)>0}return this.inModule&&this.options.ecmaVersion>=13||this.options.allowAwaitOutsideFunction},zt.allowSuper.get=function(){var i=this.currentThisScope();return(64&i.flags)>0||i.inClassFieldInit||this.options.allowSuperOutsideMethod},zt.allowDirectSuper.get=function(){return(128&this.currentThisScope().flags)>0},zt.treatFunctionsAsVar.get=function(){return this.treatFunctionsAsVarInScope(this.currentScope())},zt.allowNewDotTarget.get=function(){var i=this.currentThisScope();return(258&i.flags)>0||i.inClassFieldInit},zt.inClassStaticBlock.get=function(){return(256&this.currentVarScope().flags)>0},Wt.extend=function(){for(var a=[],m=arguments.length;m--;)a[m]=arguments[m];for(var I=this,L=0;L<a.length;L++)I=a[L](I);return I},Wt.parse=function(a,m){return new this(m,a).parse()},Wt.parseExpressionAt=function(a,m,I){var L=new this(I,a,m);return L.nextToken(),L.parseExpression()},Wt.tokenizer=function(a,m){return new this(m,a)},Object.defineProperties(Wt.prototype,zt);var oe=Wt.prototype,Kt=/^(?:'((?:\\.|[^'\\])*?)'|"((?:\\.|[^"\\])*?)")/;oe.strictDirective=function(i){if(this.options.ecmaVersion<5)return!1;for(;;){X.lastIndex=i,i+=X.exec(this.input)[0].length;var a=Kt.exec(this.input.slice(i));if(!a)return!1;if("use strict"===(a[1]||a[2])){X.lastIndex=i+a[0].length;var m=X.exec(this.input),I=m.index+m[0].length,L=this.input.charAt(I);return";"===L||"}"===L||pt.test(m[0])&&!(/[(`.[+\-/*%<>=,?^&]/.test(L)||"!"===L&&"="===this.input.charAt(I+1))}X.lastIndex=i+=a[0].length,i+=X.exec(this.input)[0].length,";"===this.input[i]&&i++}},oe.eat=function(i){return this.type===i&&(this.next(),!0)},oe.isContextual=function(i){return this.type===A.name&&this.value===i&&!this.containsEsc},oe.eatContextual=function(i){return!!this.isContextual(i)&&(this.next(),!0)},oe.expectContextual=function(i){this.eatContextual(i)||this.unexpected()},oe.canInsertSemicolon=function(){return this.type===A.eof||this.type===A.braceR||pt.test(this.input.slice(this.lastTokEnd,this.start))},oe.insertSemicolon=function(){if(this.canInsertSemicolon())return this.options.onInsertedSemicolon&&this.options.onInsertedSemicolon(this.lastTokEnd,this.lastTokEndLoc),!0},oe.semicolon=function(){!this.eat(A.semi)&&!this.insertSemicolon()&&this.unexpected()},oe.afterTrailingComma=function(i,a){if(this.type===i)return this.options.onTrailingComma&&this.options.onTrailingComma(this.lastTokStart,this.lastTokStartLoc),a||this.next(),!0},oe.expect=function(i){this.eat(i)||this.unexpected()},oe.unexpected=function(i){this.raise(null!=i?i:this.start,"Unexpected token")};var Xe=function(){this.shorthandAssign=this.trailingComma=this.parenthesizedAssign=this.parenthesizedBind=this.doubleProto=-1};oe.checkPatternErrors=function(i,a){if(i){i.trailingComma>-1&&this.raiseRecoverable(i.trailingComma,"Comma is not permitted after the rest element");var m=a?i.parenthesizedAssign:i.parenthesizedBind;m>-1&&this.raiseRecoverable(m,a?"Assigning to rvalue":"Parenthesized pattern")}},oe.checkExpressionErrors=function(i,a){if(!i)return!1;var m=i.shorthandAssign,I=i.doubleProto;if(!a)return m>=0||I>=0;m>=0&&this.raise(m,"Shorthand property assignments are valid only in destructuring patterns"),I>=0&&this.raiseRecoverable(I,"Redefinition of __proto__ property")},oe.checkYieldAwaitInDefaultParams=function(){this.yieldPos&&(!this.awaitPos||this.yieldPos<this.awaitPos)&&this.raise(this.yieldPos,"Yield expression cannot be a default value"),this.awaitPos&&this.raise(this.awaitPos,"Await expression cannot be a default value")},oe.isSimpleAssignTarget=function(i){return"ParenthesizedExpression"===i.type?this.isSimpleAssignTarget(i.expression):"Identifier"===i.type||"MemberExpression"===i.type};var rt=Wt.prototype;rt.parseTopLevel=function(i){var a=Object.create(null);for(i.body||(i.body=[]);this.type!==A.eof;){var m=this.parseStatement(null,!0,a);i.body.push(m)}if(this.inModule)for(var I=0,L=Object.keys(this.undefinedExports);I<L.length;I+=1){var W=L[I];this.raiseRecoverable(this.undefinedExports[W].start,"Export '"+W+"' is not defined")}return this.adaptDirectivePrologue(i.body),this.next(),i.sourceType=this.options.sourceType,this.finishNode(i,"Program")};var t={kind:"loop"},e={kind:"switch"};rt.isLet=function(i){if(this.options.ecmaVersion<6||!this.isContextual("let"))return!1;X.lastIndex=this.pos;var a=X.exec(this.input),m=this.pos+a[0].length,I=this.input.charCodeAt(m);if(91===I||92===I)return!0;if(i)return!1;if(123===I||I>55295&&I<56320)return!0;if(ce(I,!0)){for(var L=m+1;Ce(I=this.input.charCodeAt(L),!0);)++L;if(92===I||I>55295&&I<56320)return!0;var W=this.input.slice(m,L);if(!et.test(W))return!0}return!1},rt.isAsyncFunction=function(){if(this.options.ecmaVersion<8||!this.isContextual("async"))return!1;X.lastIndex=this.pos;var m,i=X.exec(this.input),a=this.pos+i[0].length;return!(pt.test(this.input.slice(this.pos,a))||"function"!==this.input.slice(a,a+8)||a+8!==this.input.length&&(Ce(m=this.input.charCodeAt(a+8))||m>55295&&m<56320))},rt.parseStatement=function(i,a,m){var W,I=this.type,L=this.startNode();switch(this.isLet(i)&&(I=A._var,W="let"),I){case A._break:case A._continue:return this.parseBreakContinueStatement(L,I.keyword);case A._debugger:return this.parseDebuggerStatement(L);case A._do:return this.parseDoStatement(L);case A._for:return this.parseForStatement(L);case A._function:return i&&(this.strict||"if"!==i&&"label"!==i)&&this.options.ecmaVersion>=6&&this.unexpected(),this.parseFunctionStatement(L,!1,!i);case A._class:return i&&this.unexpected(),this.parseClass(L,!0);case A._if:return this.parseIfStatement(L);case A._return:return this.parseReturnStatement(L);case A._switch:return this.parseSwitchStatement(L);case A._throw:return this.parseThrowStatement(L);case A._try:return this.parseTryStatement(L);case A._const:case A._var:return W=W||this.value,i&&"var"!==W&&this.unexpected(),this.parseVarStatement(L,W);case A._while:return this.parseWhileStatement(L);case A._with:return this.parseWithStatement(L);case A.braceL:return this.parseBlock(!0,L);case A.semi:return this.parseEmptyStatement(L);case A._export:case A._import:if(this.options.ecmaVersion>10&&I===A._import){X.lastIndex=this.pos;var j=X.exec(this.input),ht=this.input.charCodeAt(this.pos+j[0].length);if(40===ht||46===ht)return this.parseExpressionStatement(L,this.parseExpression())}return this.options.allowImportExportEverywhere||(a||this.raise(this.start,"'import' and 'export' may only appear at the top level"),this.inModule||this.raise(this.start,"'import' and 'export' may appear only with 'sourceType: module'")),I===A._import?this.parseImport(L):this.parseExport(L,m);default:if(this.isAsyncFunction())return i&&this.unexpected(),this.next(),this.parseFunctionStatement(L,!0,!i);var Pt=this.value,Nt=this.parseExpression();return I===A.name&&"Identifier"===Nt.type&&this.eat(A.colon)?this.parseLabeledStatement(L,Pt,Nt,i):this.parseExpressionStatement(L,Nt)}},rt.parseBreakContinueStatement=function(i,a){var m="break"===a;this.next(),this.eat(A.semi)||this.insertSemicolon()?i.label=null:this.type!==A.name?this.unexpected():(i.label=this.parseIdent(),this.semicolon());for(var I=0;I<this.labels.length;++I){var L=this.labels[I];if((null==i.label||L.name===i.label.name)&&(null!=L.kind&&(m||"loop"===L.kind)||i.label&&m))break}return I===this.labels.length&&this.raise(i.start,"Unsyntactic "+a),this.finishNode(i,m?"BreakStatement":"ContinueStatement")},rt.parseDebuggerStatement=function(i){return this.next(),this.semicolon(),this.finishNode(i,"DebuggerStatement")},rt.parseDoStatement=function(i){return this.next(),this.labels.push(t),i.body=this.parseStatement("do"),this.labels.pop(),this.expect(A._while),i.test=this.parseParenExpression(),this.options.ecmaVersion>=6?this.eat(A.semi):this.semicolon(),this.finishNode(i,"DoWhileStatement")},rt.parseForStatement=function(i){this.next();var a=this.options.ecmaVersion>=9&&this.canAwait&&this.eatContextual("await")?this.lastTokStart:-1;if(this.labels.push(t),this.enterScope(0),this.expect(A.parenL),this.type===A.semi)return a>-1&&this.unexpected(a),this.parseFor(i,null);var m=this.isLet();if(this.type===A._var||this.type===A._const||m){var I=this.startNode(),L=m?"let":this.value;return this.next(),this.parseVar(I,!0,L),this.finishNode(I,"VariableDeclaration"),(this.type===A._in||this.options.ecmaVersion>=6&&this.isContextual("of"))&&1===I.declarations.length?(this.options.ecmaVersion>=9&&(this.type===A._in?a>-1&&this.unexpected(a):i.await=a>-1),this.parseForIn(i,I)):(a>-1&&this.unexpected(a),this.parseFor(i,I))}var W=this.isContextual("let"),j=!1,st=new Xe,ht=this.parseExpression(!(a>-1)||"await",st);return this.type===A._in||(j=this.options.ecmaVersion>=6&&this.isContextual("of"))?(this.options.ecmaVersion>=9&&(this.type===A._in?a>-1&&this.unexpected(a):i.await=a>-1),W&&j&&this.raise(ht.start,"The left-hand side of a for-of loop may not start with 'let'."),this.toAssignable(ht,!1,st),this.checkLValPattern(ht),this.parseForIn(i,ht)):(this.checkExpressionErrors(st,!0),a>-1&&this.unexpected(a),this.parseFor(i,ht))},rt.parseFunctionStatement=function(i,a,m){return this.next(),this.parseFunction(i,r|(m?0:s),!1,a)},rt.parseIfStatement=function(i){return this.next(),i.test=this.parseParenExpression(),i.consequent=this.parseStatement("if"),i.alternate=this.eat(A._else)?this.parseStatement("if"):null,this.finishNode(i,"IfStatement")},rt.parseReturnStatement=function(i){return!this.inFunction&&!this.options.allowReturnOutsideFunction&&this.raise(this.start,"'return' outside of function"),this.next(),this.eat(A.semi)||this.insertSemicolon()?i.argument=null:(i.argument=this.parseExpression(),this.semicolon()),this.finishNode(i,"ReturnStatement")},rt.parseSwitchStatement=function(i){this.next(),i.discriminant=this.parseParenExpression(),i.cases=[],this.expect(A.braceL),this.labels.push(e),this.enterScope(0);for(var a,m=!1;this.type!==A.braceR;)if(this.type===A._case||this.type===A._default){var I=this.type===A._case;a&&this.finishNode(a,"SwitchCase"),i.cases.push(a=this.startNode()),a.consequent=[],this.next(),I?a.test=this.parseExpression():(m&&this.raiseRecoverable(this.lastTokStart,"Multiple default clauses"),m=!0,a.test=null),this.expect(A.colon)}else a||this.unexpected(),a.consequent.push(this.parseStatement(null));return this.exitScope(),a&&this.finishNode(a,"SwitchCase"),this.next(),this.labels.pop(),this.finishNode(i,"SwitchStatement")},rt.parseThrowStatement=function(i){return this.next(),pt.test(this.input.slice(this.lastTokEnd,this.start))&&this.raise(this.lastTokEnd,"Illegal newline after throw"),i.argument=this.parseExpression(),this.semicolon(),this.finishNode(i,"ThrowStatement")};var n=[];rt.parseCatchClauseParam=function(){var i=this.parseBindingAtom(),a="Identifier"===i.type;return this.enterScope(a?32:0),this.checkLValPattern(i,a?4:2),this.expect(A.parenR),i},rt.parseTryStatement=function(i){if(this.next(),i.block=this.parseBlock(),i.handler=null,this.type===A._catch){var a=this.startNode();this.next(),this.eat(A.parenL)?a.param=this.parseCatchClauseParam():(this.options.ecmaVersion<10&&this.unexpected(),a.param=null,this.enterScope(0)),a.body=this.parseBlock(!1),this.exitScope(),i.handler=this.finishNode(a,"CatchClause")}return i.finalizer=this.eat(A._finally)?this.parseBlock():null,!i.handler&&!i.finalizer&&this.raise(i.start,"Missing catch or finally clause"),this.finishNode(i,"TryStatement")},rt.parseVarStatement=function(i,a,m){return this.next(),this.parseVar(i,!1,a,m),this.semicolon(),this.finishNode(i,"VariableDeclaration")},rt.parseWhileStatement=function(i){return this.next(),i.test=this.parseParenExpression(),this.labels.push(t),i.body=this.parseStatement("while"),this.labels.pop(),this.finishNode(i,"WhileStatement")},rt.parseWithStatement=function(i){return this.strict&&this.raise(this.start,"'with' in strict mode"),this.next(),i.object=this.parseParenExpression(),i.body=this.parseStatement("with"),this.finishNode(i,"WithStatement")},rt.parseEmptyStatement=function(i){return this.next(),this.finishNode(i,"EmptyStatement")},rt.parseLabeledStatement=function(i,a,m,I){for(var L=0,W=this.labels;L<W.length;L+=1)W[L].name===a&&this.raise(m.start,"Label '"+a+"' is already declared");for(var st=this.type.isLoop?"loop":this.type===A._switch?"switch":null,ht=this.labels.length-1;ht>=0;ht--){var Pt=this.labels[ht];if(Pt.statementStart!==i.start)break;Pt.statementStart=this.start,Pt.kind=st}return this.labels.push({name:a,kind:st,statementStart:this.start}),i.body=this.parseStatement(I?-1===I.indexOf("label")?I+"label":I:"label"),this.labels.pop(),i.label=m,this.finishNode(i,"LabeledStatement")},rt.parseExpressionStatement=function(i,a){return i.expression=a,this.semicolon(),this.finishNode(i,"ExpressionStatement")},rt.parseBlock=function(i,a,m){for(void 0===i&&(i=!0),void 0===a&&(a=this.startNode()),a.body=[],this.expect(A.braceL),i&&this.enterScope(0);this.type!==A.braceR;){var I=this.parseStatement(null);a.body.push(I)}return m&&(this.strict=!1),this.next(),i&&this.exitScope(),this.finishNode(a,"BlockStatement")},rt.parseFor=function(i,a){return i.init=a,this.expect(A.semi),i.test=this.type===A.semi?null:this.parseExpression(),this.expect(A.semi),i.update=this.type===A.parenR?null:this.parseExpression(),this.expect(A.parenR),i.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(i,"ForStatement")},rt.parseForIn=function(i,a){var m=this.type===A._in;return this.next(),"VariableDeclaration"===a.type&&null!=a.declarations[0].init&&(!m||this.options.ecmaVersion<8||this.strict||"var"!==a.kind||"Identifier"!==a.declarations[0].id.type)&&this.raise(a.start,(m?"for-in":"for-of")+" loop variable declaration may not have an initializer"),i.left=a,i.right=m?this.parseExpression():this.parseMaybeAssign(),this.expect(A.parenR),i.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(i,m?"ForInStatement":"ForOfStatement")},rt.parseVar=function(i,a,m,I){for(i.declarations=[],i.kind=m;;){var L=this.startNode();if(this.parseVarId(L,m),this.eat(A.eq)?L.init=this.parseMaybeAssign(a):I||"const"!==m||this.type===A._in||this.options.ecmaVersion>=6&&this.isContextual("of")?I||"Identifier"===L.id.type||a&&(this.type===A._in||this.isContextual("of"))?L.init=null:this.raise(this.lastTokEnd,"Complex binding patterns require an initialization value"):this.unexpected(),i.declarations.push(this.finishNode(L,"VariableDeclarator")),!this.eat(A.comma))break}return i},rt.parseVarId=function(i,a){i.id=this.parseBindingAtom(),this.checkLValPattern(i.id,"var"===a?1:2,!1)};var r=1,s=2;function h(i,a){var m=a.key.name,I=i[m],L="true";return"MethodDefinition"===a.type&&("get"===a.kind||"set"===a.kind)&&(L=(a.static?"s":"i")+a.kind),"iget"===I&&"iset"===L||"iset"===I&&"iget"===L||"sget"===I&&"sset"===L||"sset"===I&&"sget"===L?(i[m]="true",!1):!!I||(i[m]=L,!1)}function o(i,a){var I=i.key;return!i.computed&&("Identifier"===I.type&&I.name===a||"Literal"===I.type&&I.value===a)}rt.parseFunction=function(i,a,m,I,L){this.initFunction(i),(this.options.ecmaVersion>=9||this.options.ecmaVersion>=6&&!I)&&(this.type===A.star&&a&s&&this.unexpected(),i.generator=this.eat(A.star)),this.options.ecmaVersion>=8&&(i.async=!!I),a&r&&(i.id=4&a&&this.type!==A.name?null:this.parseIdent(),i.id&&!(a&s)&&this.checkLValSimple(i.id,this.strict||i.generator||i.async?this.treatFunctionsAsVar?1:2:3));var W=this.yieldPos,j=this.awaitPos,st=this.awaitIdentPos;return this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(We(i.async,i.generator)),a&r||(i.id=this.type===A.name?this.parseIdent():null),this.parseFunctionParams(i),this.parseFunctionBody(i,m,!1,L),this.yieldPos=W,this.awaitPos=j,this.awaitIdentPos=st,this.finishNode(i,a&r?"FunctionDeclaration":"FunctionExpression")},rt.parseFunctionParams=function(i){this.expect(A.parenL),i.params=this.parseBindingList(A.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams()},rt.parseClass=function(i,a){this.next();var m=this.strict;this.strict=!0,this.parseClassId(i,a),this.parseClassSuper(i);var I=this.enterClassBody(),L=this.startNode(),W=!1;for(L.body=[],this.expect(A.braceL);this.type!==A.braceR;){var j=this.parseClassElement(null!==i.superClass);j&&(L.body.push(j),"MethodDefinition"===j.type&&"constructor"===j.kind?(W&&this.raiseRecoverable(j.start,"Duplicate constructor in the same class"),W=!0):j.key&&"PrivateIdentifier"===j.key.type&&h(I,j)&&this.raiseRecoverable(j.key.start,"Identifier '#"+j.key.name+"' has already been declared"))}return this.strict=m,this.next(),i.body=this.finishNode(L,"ClassBody"),this.exitClassBody(),this.finishNode(i,a?"ClassDeclaration":"ClassExpression")},rt.parseClassElement=function(i){if(this.eat(A.semi))return null;var a=this.options.ecmaVersion,m=this.startNode(),I="",L=!1,W=!1,j="method",st=!1;if(this.eatContextual("static")){if(a>=13&&this.eat(A.braceL))return this.parseClassStaticBlock(m),m;this.isClassElementNameStart()||this.type===A.star?st=!0:I="static"}if(m.static=st,!I&&a>=8&&this.eatContextual("async")&&(!this.isClassElementNameStart()&&this.type!==A.star||this.canInsertSemicolon()?I="async":W=!0),!I&&(a>=9||!W)&&this.eat(A.star)&&(L=!0),!I&&!W&&!L){var ht=this.value;(this.eatContextual("get")||this.eatContextual("set"))&&(this.isClassElementNameStart()?j=ht:I=ht)}if(I?(m.computed=!1,m.key=this.startNodeAt(this.lastTokStart,this.lastTokStartLoc),m.key.name=I,this.finishNode(m.key,"Identifier")):this.parseClassElementName(m),a<13||this.type===A.parenL||"method"!==j||L||W){var Pt=!m.static&&o(m,"constructor"),Nt=Pt&&i;Pt&&"method"!==j&&this.raise(m.key.start,"Constructor can't have get/set modifier"),m.kind=Pt?"constructor":j,this.parseClassMethod(m,L,W,Nt)}else this.parseClassField(m);return m},rt.isClassElementNameStart=function(){return this.type===A.name||this.type===A.privateId||this.type===A.num||this.type===A.string||this.type===A.bracketL||this.type.keyword},rt.parseClassElementName=function(i){this.type===A.privateId?("constructor"===this.value&&this.raise(this.start,"Classes can't have an element named '#constructor'"),i.computed=!1,i.key=this.parsePrivateIdent()):this.parsePropertyName(i)},rt.parseClassMethod=function(i,a,m,I){var L=i.key;"constructor"===i.kind?(a&&this.raise(L.start,"Constructor can't be a generator"),m&&this.raise(L.start,"Constructor can't be an async method")):i.static&&o(i,"prototype")&&this.raise(L.start,"Classes may not have a static property named prototype");var W=i.value=this.parseMethod(a,m,I);return"get"===i.kind&&0!==W.params.length&&this.raiseRecoverable(W.start,"getter should have no params"),"set"===i.kind&&1!==W.params.length&&this.raiseRecoverable(W.start,"setter should have exactly one param"),"set"===i.kind&&"RestElement"===W.params[0].type&&this.raiseRecoverable(W.params[0].start,"Setter cannot use rest params"),this.finishNode(i,"MethodDefinition")},rt.parseClassField=function(i){if(o(i,"constructor")?this.raise(i.key.start,"Classes can't have a field named 'constructor'"):i.static&&o(i,"prototype")&&this.raise(i.key.start,"Classes can't have a static field named 'prototype'"),this.eat(A.eq)){var a=this.currentThisScope(),m=a.inClassFieldInit;a.inClassFieldInit=!0,i.value=this.parseMaybeAssign(),a.inClassFieldInit=m}else i.value=null;return this.semicolon(),this.finishNode(i,"PropertyDefinition")},rt.parseClassStaticBlock=function(i){i.body=[];var a=this.labels;for(this.labels=[],this.enterScope(320);this.type!==A.braceR;){var m=this.parseStatement(null);i.body.push(m)}return this.next(),this.exitScope(),this.labels=a,this.finishNode(i,"StaticBlock")},rt.parseClassId=function(i,a){this.type===A.name?(i.id=this.parseIdent(),a&&this.checkLValSimple(i.id,2,!1)):(!0===a&&this.unexpected(),i.id=null)},rt.parseClassSuper=function(i){i.superClass=this.eat(A._extends)?this.parseExprSubscripts(null,!1):null},rt.enterClassBody=function(){var i={declared:Object.create(null),used:[]};return this.privateNameStack.push(i),i.declared},rt.exitClassBody=function(){var i=this.privateNameStack.pop(),a=i.declared,m=i.used;if(this.options.checkPrivateFields)for(var I=this.privateNameStack.length,L=0===I?null:this.privateNameStack[I-1],W=0;W<m.length;++W){var j=m[W];Vt(a,j.name)||(L?L.used.push(j):this.raiseRecoverable(j.start,"Private field '#"+j.name+"' must be declared in an enclosing class"))}},rt.parseExportAllDeclaration=function(i,a){return this.options.ecmaVersion>=11&&(this.eatContextual("as")?(i.exported=this.parseModuleExportName(),this.checkExport(a,i.exported,this.lastTokStart)):i.exported=null),this.expectContextual("from"),this.type!==A.string&&this.unexpected(),i.source=this.parseExprAtom(),this.semicolon(),this.finishNode(i,"ExportAllDeclaration")},rt.parseExport=function(i,a){if(this.next(),this.eat(A.star))return this.parseExportAllDeclaration(i,a);if(this.eat(A._default))return this.checkExport(a,"default",this.lastTokStart),i.declaration=this.parseExportDefaultDeclaration(),this.finishNode(i,"ExportDefaultDeclaration");if(this.shouldParseExportStatement())i.declaration=this.parseExportDeclaration(i),"VariableDeclaration"===i.declaration.type?this.checkVariableExport(a,i.declaration.declarations):this.checkExport(a,i.declaration.id,i.declaration.id.start),i.specifiers=[],i.source=null;else{if(i.declaration=null,i.specifiers=this.parseExportSpecifiers(a),this.eatContextual("from"))this.type!==A.string&&this.unexpected(),i.source=this.parseExprAtom();else{for(var m=0,I=i.specifiers;m<I.length;m+=1){var L=I[m];this.checkUnreserved(L.local),this.checkLocalExport(L.local),"Literal"===L.local.type&&this.raise(L.local.start,"A string literal cannot be used as an exported binding without `from`.")}i.source=null}this.semicolon()}return this.finishNode(i,"ExportNamedDeclaration")},rt.parseExportDeclaration=function(i){return this.parseStatement(null)},rt.parseExportDefaultDeclaration=function(){var i;if(this.type===A._function||(i=this.isAsyncFunction())){var a=this.startNode();return this.next(),i&&this.next(),this.parseFunction(a,4|r,!1,i)}if(this.type===A._class){var m=this.startNode();return this.parseClass(m,"nullableID")}var I=this.parseMaybeAssign();return this.semicolon(),I},rt.checkExport=function(i,a,m){i&&("string"!=typeof a&&(a="Identifier"===a.type?a.name:a.value),Vt(i,a)&&this.raiseRecoverable(m,"Duplicate export '"+a+"'"),i[a]=!0)},rt.checkPatternExport=function(i,a){var m=a.type;if("Identifier"===m)this.checkExport(i,a,a.start);else if("ObjectPattern"===m)for(var I=0,L=a.properties;I<L.length;I+=1)this.checkPatternExport(i,L[I]);else if("ArrayPattern"===m)for(var j=0,st=a.elements;j<st.length;j+=1){var ht=st[j];ht&&this.checkPatternExport(i,ht)}else"Property"===m?this.checkPatternExport(i,a.value):"AssignmentPattern"===m?this.checkPatternExport(i,a.left):"RestElement"===m&&this.checkPatternExport(i,a.argument)},rt.checkVariableExport=function(i,a){if(i)for(var m=0,I=a;m<I.length;m+=1)this.checkPatternExport(i,I[m].id)},rt.shouldParseExportStatement=function(){return"var"===this.type.keyword||"const"===this.type.keyword||"class"===this.type.keyword||"function"===this.type.keyword||this.isLet()||this.isAsyncFunction()},rt.parseExportSpecifier=function(i){var a=this.startNode();return a.local=this.parseModuleExportName(),a.exported=this.eatContextual("as")?this.parseModuleExportName():a.local,this.checkExport(i,a.exported,a.exported.start),this.finishNode(a,"ExportSpecifier")},rt.parseExportSpecifiers=function(i){var a=[],m=!0;for(this.expect(A.braceL);!this.eat(A.braceR);){if(m)m=!1;else if(this.expect(A.comma),this.afterTrailingComma(A.braceR))break;a.push(this.parseExportSpecifier(i))}return a},rt.parseImport=function(i){return this.next(),this.type===A.string?(i.specifiers=n,i.source=this.parseExprAtom()):(i.specifiers=this.parseImportSpecifiers(),this.expectContextual("from"),i.source=this.type===A.string?this.parseExprAtom():this.unexpected()),this.semicolon(),this.finishNode(i,"ImportDeclaration")},rt.parseImportSpecifier=function(){var i=this.startNode();return i.imported=this.parseModuleExportName(),this.eatContextual("as")?i.local=this.parseIdent():(this.checkUnreserved(i.imported),i.local=i.imported),this.checkLValSimple(i.local,2),this.finishNode(i,"ImportSpecifier")},rt.parseImportDefaultSpecifier=function(){var i=this.startNode();return i.local=this.parseIdent(),this.checkLValSimple(i.local,2),this.finishNode(i,"ImportDefaultSpecifier")},rt.parseImportNamespaceSpecifier=function(){var i=this.startNode();return this.next(),this.expectContextual("as"),i.local=this.parseIdent(),this.checkLValSimple(i.local,2),this.finishNode(i,"ImportNamespaceSpecifier")},rt.parseImportSpecifiers=function(){var i=[],a=!0;if(this.type===A.name&&(i.push(this.parseImportDefaultSpecifier()),!this.eat(A.comma)))return i;if(this.type===A.star)return i.push(this.parseImportNamespaceSpecifier()),i;for(this.expect(A.braceL);!this.eat(A.braceR);){if(a)a=!1;else if(this.expect(A.comma),this.afterTrailingComma(A.braceR))break;i.push(this.parseImportSpecifier())}return i},rt.parseModuleExportName=function(){if(this.options.ecmaVersion>=13&&this.type===A.string){var i=this.parseLiteral(this.value);return Re.test(i.value)&&this.raise(i.start,"An export name cannot include a lone surrogate."),i}return this.parseIdent(!0)},rt.adaptDirectivePrologue=function(i){for(var a=0;a<i.length&&this.isDirectiveCandidate(i[a]);++a)i[a].directive=i[a].expression.raw.slice(1,-1)},rt.isDirectiveCandidate=function(i){return this.options.ecmaVersion>=5&&"ExpressionStatement"===i.type&&"Literal"===i.expression.type&&"string"==typeof i.expression.value&&('"'===this.input[i.start]||"'"===this.input[i.start])};var l=Wt.prototype;l.toAssignable=function(i,a,m){if(this.options.ecmaVersion>=6&&i)switch(i.type){case"Identifier":this.inAsync&&"await"===i.name&&this.raise(i.start,"Cannot use 'await' as identifier inside an async function");break;case"ObjectPattern":case"ArrayPattern":case"AssignmentPattern":case"RestElement":break;case"ObjectExpression":i.type="ObjectPattern",m&&this.checkPatternErrors(m,!0);for(var I=0,L=i.properties;I<L.length;I+=1){var W=L[I];this.toAssignable(W,a),"RestElement"===W.type&&("ArrayPattern"===W.argument.type||"ObjectPattern"===W.argument.type)&&this.raise(W.argument.start,"Unexpected token")}break;case"Property":"init"!==i.kind&&this.raise(i.key.start,"Object pattern can't contain getter or setter"),this.toAssignable(i.value,a);break;case"ArrayExpression":i.type="ArrayPattern",m&&this.checkPatternErrors(m,!0),this.toAssignableList(i.elements,a);break;case"SpreadElement":i.type="RestElement",this.toAssignable(i.argument,a),"AssignmentPattern"===i.argument.type&&this.raise(i.argument.start,"Rest elements cannot have a default value");break;case"AssignmentExpression":"="!==i.operator&&this.raise(i.left.end,"Only '=' operator can be used for specifying default value."),i.type="AssignmentPattern",delete i.operator,this.toAssignable(i.left,a);break;case"ParenthesizedExpression":this.toAssignable(i.expression,a,m);break;case"ChainExpression":this.raiseRecoverable(i.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":if(!a)break;default:this.raise(i.start,"Assigning to rvalue")}else m&&this.checkPatternErrors(m,!0);return i},l.toAssignableList=function(i,a){for(var m=i.length,I=0;I<m;I++){var L=i[I];L&&this.toAssignable(L,a)}if(m){var W=i[m-1];6===this.options.ecmaVersion&&a&&W&&"RestElement"===W.type&&"Identifier"!==W.argument.type&&this.unexpected(W.argument.start)}return i},l.parseSpread=function(i){var a=this.startNode();return this.next(),a.argument=this.parseMaybeAssign(!1,i),this.finishNode(a,"SpreadElement")},l.parseRestBinding=function(){var i=this.startNode();return this.next(),6===this.options.ecmaVersion&&this.type!==A.name&&this.unexpected(),i.argument=this.parseBindingAtom(),this.finishNode(i,"RestElement")},l.parseBindingAtom=function(){if(this.options.ecmaVersion>=6)switch(this.type){case A.bracketL:var i=this.startNode();return this.next(),i.elements=this.parseBindingList(A.bracketR,!0,!0),this.finishNode(i,"ArrayPattern");case A.braceL:return this.parseObj(!0)}return this.parseIdent()},l.parseBindingList=function(i,a,m,I){for(var L=[],W=!0;!this.eat(i);)if(W?W=!1:this.expect(A.comma),a&&this.type===A.comma)L.push(null);else{if(m&&this.afterTrailingComma(i))break;if(this.type===A.ellipsis){var j=this.parseRestBinding();this.parseBindingListItem(j),L.push(j),this.type===A.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element"),this.expect(i);break}L.push(this.parseAssignableListItem(I))}return L},l.parseAssignableListItem=function(i){var a=this.parseMaybeDefault(this.start,this.startLoc);return this.parseBindingListItem(a),a},l.parseBindingListItem=function(i){return i},l.parseMaybeDefault=function(i,a,m){if(m=m||this.parseBindingAtom(),this.options.ecmaVersion<6||!this.eat(A.eq))return m;var I=this.startNodeAt(i,a);return I.left=m,I.right=this.parseMaybeAssign(),this.finishNode(I,"AssignmentPattern")},l.checkLValSimple=function(i,a,m){void 0===a&&(a=0);var I=0!==a;switch(i.type){case"Identifier":this.strict&&this.reservedWordsStrictBind.test(i.name)&&this.raiseRecoverable(i.start,(I?"Binding ":"Assigning to ")+i.name+" in strict mode"),I&&(2===a&&"let"===i.name&&this.raiseRecoverable(i.start,"let is disallowed as a lexically bound name"),m&&(Vt(m,i.name)&&this.raiseRecoverable(i.start,"Argument name clash"),m[i.name]=!0),5!==a&&this.declareName(i.name,a,i.start));break;case"ChainExpression":this.raiseRecoverable(i.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":I&&this.raiseRecoverable(i.start,"Binding member expression");break;case"ParenthesizedExpression":return I&&this.raiseRecoverable(i.start,"Binding parenthesized expression"),this.checkLValSimple(i.expression,a,m);default:this.raise(i.start,(I?"Binding":"Assigning to")+" rvalue")}},l.checkLValPattern=function(i,a,m){switch(void 0===a&&(a=0),i.type){case"ObjectPattern":for(var I=0,L=i.properties;I<L.length;I+=1)this.checkLValInnerPattern(L[I],a,m);break;case"ArrayPattern":for(var j=0,st=i.elements;j<st.length;j+=1){var ht=st[j];ht&&this.checkLValInnerPattern(ht,a,m)}break;default:this.checkLValSimple(i,a,m)}},l.checkLValInnerPattern=function(i,a,m){switch(void 0===a&&(a=0),i.type){case"Property":this.checkLValInnerPattern(i.value,a,m);break;case"AssignmentPattern":this.checkLValPattern(i.left,a,m);break;case"RestElement":this.checkLValPattern(i.argument,a,m);break;default:this.checkLValPattern(i,a,m)}};var f=function(a,m,I,L,W){this.token=a,this.isExpr=!!m,this.preserveSpace=!!I,this.override=L,this.generator=!!W},p={b_stat:new f("{",!1),b_expr:new f("{",!0),b_tmpl:new f("${",!1),p_stat:new f("(",!1),p_expr:new f("(",!0),q_tmpl:new f("`",!0,!0,function(i){return i.tryReadTemplateToken()}),f_stat:new f("function",!1),f_expr:new f("function",!0),f_expr_gen:new f("function",!0,!1,null,!0),f_gen:new f("function",!1,!1,null,!0)},v=Wt.prototype;v.initialContext=function(){return[p.b_stat]},v.curContext=function(){return this.context[this.context.length-1]},v.braceIsBlock=function(i){var a=this.curContext();return a===p.f_expr||a===p.f_stat||(i!==A.colon||a!==p.b_stat&&a!==p.b_expr?i===A._return||i===A.name&&this.exprAllowed?pt.test(this.input.slice(this.lastTokEnd,this.start)):i===A._else||i===A.semi||i===A.eof||i===A.parenR||i===A.arrow||(i===A.braceL?a===p.b_stat:i!==A._var&&i!==A._const&&i!==A.name&&!this.exprAllowed):!a.isExpr)},v.inGeneratorContext=function(){for(var i=this.context.length-1;i>=1;i--){var a=this.context[i];if("function"===a.token)return a.generator}return!1},v.updateContext=function(i){var a,m=this.type;m.keyword&&i===A.dot?this.exprAllowed=!1:(a=m.updateContext)?a.call(this,i):this.exprAllowed=m.beforeExpr},v.overrideContext=function(i){this.curContext()!==i&&(this.context[this.context.length-1]=i)},A.parenR.updateContext=A.braceR.updateContext=function(){if(1!==this.context.length){var i=this.context.pop();i===p.b_stat&&"function"===this.curContext().token&&(i=this.context.pop()),this.exprAllowed=!i.isExpr}else this.exprAllowed=!0},A.braceL.updateContext=function(i){this.context.push(this.braceIsBlock(i)?p.b_stat:p.b_expr),this.exprAllowed=!0},A.dollarBraceL.updateContext=function(){this.context.push(p.b_tmpl),this.exprAllowed=!0},A.parenL.updateContext=function(i){this.context.push(i===A._if||i===A._for||i===A._with||i===A._while?p.p_stat:p.p_expr),this.exprAllowed=!0},A.incDec.updateContext=function(){},A._function.updateContext=A._class.updateContext=function(i){!i.beforeExpr||i===A._else||i===A.semi&&this.curContext()!==p.p_stat||i===A._return&&pt.test(this.input.slice(this.lastTokEnd,this.start))||(i===A.colon||i===A.braceL)&&this.curContext()===p.b_stat?this.context.push(p.f_stat):this.context.push(p.f_expr),this.exprAllowed=!1},A.colon.updateContext=function(){"function"===this.curContext().token&&this.context.pop(),this.exprAllowed=!0},A.backQuote.updateContext=function(){this.curContext()===p.q_tmpl?this.context.pop():this.context.push(p.q_tmpl),this.exprAllowed=!1},A.star.updateContext=function(i){if(i===A._function){var a=this.context.length-1;this.context[a]=this.context[a]===p.f_expr?p.f_expr_gen:p.f_gen}this.exprAllowed=!0},A.name.updateContext=function(i){var a=!1;this.options.ecmaVersion>=6&&i!==A.dot&&("of"===this.value&&!this.exprAllowed||"yield"===this.value&&this.inGeneratorContext())&&(a=!0),this.exprAllowed=a};var c=Wt.prototype;function g(i){return"MemberExpression"===i.type&&"PrivateIdentifier"===i.property.type||"ChainExpression"===i.type&&g(i.expression)}c.checkPropClash=function(i,a,m){if(!(this.options.ecmaVersion>=9&&"SpreadElement"===i.type||this.options.ecmaVersion>=6&&(i.computed||i.method||i.shorthand))){var L,I=i.key;switch(I.type){case"Identifier":L=I.name;break;case"Literal":L=String(I.value);break;default:return}var W=i.kind;if(this.options.ecmaVersion>=6)return void("__proto__"===L&&"init"===W&&(a.proto&&(m?m.doubleProto<0&&(m.doubleProto=I.start):this.raiseRecoverable(I.start,"Redefinition of __proto__ property")),a.proto=!0));var j=a[L="$"+L];j?("init"===W?this.strict&&j.init||j.get||j.set:j.init||j[W])&&this.raiseRecoverable(I.start,"Redefinition of property"):j=a[L]={init:!1,get:!1,set:!1},j[W]=!0}},c.parseExpression=function(i,a){var m=this.start,I=this.startLoc,L=this.parseMaybeAssign(i,a);if(this.type===A.comma){var W=this.startNodeAt(m,I);for(W.expressions=[L];this.eat(A.comma);)W.expressions.push(this.parseMaybeAssign(i,a));return this.finishNode(W,"SequenceExpression")}return L},c.parseMaybeAssign=function(i,a,m){if(this.isContextual("yield")){if(this.inGenerator)return this.parseYield(i);this.exprAllowed=!1}var I=!1,L=-1,W=-1,j=-1;a?(L=a.parenthesizedAssign,W=a.trailingComma,j=a.doubleProto,a.parenthesizedAssign=a.trailingComma=-1):(a=new Xe,I=!0);var st=this.start,ht=this.startLoc;(this.type===A.parenL||this.type===A.name)&&(this.potentialArrowAt=this.start,this.potentialArrowInForAwait="await"===i);var Pt=this.parseMaybeConditional(i,a);if(m&&(Pt=m.call(this,Pt,st,ht)),this.type.isAssign){var Nt=this.startNodeAt(st,ht);return Nt.operator=this.value,this.type===A.eq&&(Pt=this.toAssignable(Pt,!1,a)),I||(a.parenthesizedAssign=a.trailingComma=a.doubleProto=-1),a.shorthandAssign>=Pt.start&&(a.shorthandAssign=-1),this.type===A.eq?this.checkLValPattern(Pt):this.checkLValSimple(Pt),Nt.left=Pt,this.next(),Nt.right=this.parseMaybeAssign(i),j>-1&&(a.doubleProto=j),this.finishNode(Nt,"AssignmentExpression")}return I&&this.checkExpressionErrors(a,!0),L>-1&&(a.parenthesizedAssign=L),W>-1&&(a.trailingComma=W),Pt},c.parseMaybeConditional=function(i,a){var m=this.start,I=this.startLoc,L=this.parseExprOps(i,a);if(this.checkExpressionErrors(a))return L;if(this.eat(A.question)){var W=this.startNodeAt(m,I);return W.test=L,W.consequent=this.parseMaybeAssign(),this.expect(A.colon),W.alternate=this.parseMaybeAssign(i),this.finishNode(W,"ConditionalExpression")}return L},c.parseExprOps=function(i,a){var m=this.start,I=this.startLoc,L=this.parseMaybeUnary(a,!1,!1,i);return this.checkExpressionErrors(a)||L.start===m&&"ArrowFunctionExpression"===L.type?L:this.parseExprOp(L,m,I,-1,i)},c.parseExprOp=function(i,a,m,I,L){var W=this.type.binop;if(null!=W&&(!L||this.type!==A._in)&&W>I){var j=this.type===A.logicalOR||this.type===A.logicalAND,st=this.type===A.coalesce;st&&(W=A.logicalAND.binop);var ht=this.value;this.next();var Pt=this.start,Nt=this.startLoc,Yt=this.parseExprOp(this.parseMaybeUnary(null,!1,!1,L),Pt,Nt,W,L),Oe=this.buildBinary(a,m,i,Yt,ht,j||st);return(j&&this.type===A.coalesce||st&&(this.type===A.logicalOR||this.type===A.logicalAND))&&this.raiseRecoverable(this.start,"Logical expressions and coalesce expressions cannot be mixed. Wrap either by parentheses"),this.parseExprOp(Oe,a,m,I,L)}return i},c.buildBinary=function(i,a,m,I,L,W){"PrivateIdentifier"===I.type&&this.raise(I.start,"Private identifier can only be left side of binary expression");var j=this.startNodeAt(i,a);return j.left=m,j.operator=L,j.right=I,this.finishNode(j,W?"LogicalExpression":"BinaryExpression")},c.parseMaybeUnary=function(i,a,m,I){var j,L=this.start,W=this.startLoc;if(this.isContextual("await")&&this.canAwait)j=this.parseAwait(I),a=!0;else if(this.type.prefix){var st=this.startNode(),ht=this.type===A.incDec;st.operator=this.value,st.prefix=!0,this.next(),st.argument=this.parseMaybeUnary(null,!0,ht,I),this.checkExpressionErrors(i,!0),ht?this.checkLValSimple(st.argument):this.strict&&"delete"===st.operator&&"Identifier"===st.argument.type?this.raiseRecoverable(st.start,"Deleting local variable in strict mode"):"delete"===st.operator&&g(st.argument)?this.raiseRecoverable(st.start,"Private fields can not be deleted"):a=!0,j=this.finishNode(st,ht?"UpdateExpression":"UnaryExpression")}else if(a||this.type!==A.privateId){if(j=this.parseExprSubscripts(i,I),this.checkExpressionErrors(i))return j;for(;this.type.postfix&&!this.canInsertSemicolon();){var Pt=this.startNodeAt(L,W);Pt.operator=this.value,Pt.prefix=!1,Pt.argument=j,this.checkLValSimple(j),this.next(),j=this.finishNode(Pt,"UpdateExpression")}}else(I||0===this.privateNameStack.length)&&this.options.checkPrivateFields&&this.unexpected(),j=this.parsePrivateIdent(),this.type!==A._in&&this.unexpected();return m||!this.eat(A.starstar)?j:a?void this.unexpected(this.lastTokStart):this.buildBinary(L,W,j,this.parseMaybeUnary(null,!1,!1,I),"**",!1)},c.parseExprSubscripts=function(i,a){var m=this.start,I=this.startLoc,L=this.parseExprAtom(i,a);if("ArrowFunctionExpression"===L.type&&")"!==this.input.slice(this.lastTokStart,this.lastTokEnd))return L;var W=this.parseSubscripts(L,m,I,!1,a);return i&&"MemberExpression"===W.type&&(i.parenthesizedAssign>=W.start&&(i.parenthesizedAssign=-1),i.parenthesizedBind>=W.start&&(i.parenthesizedBind=-1),i.trailingComma>=W.start&&(i.trailingComma=-1)),W},c.parseSubscripts=function(i,a,m,I,L){for(var W=this.options.ecmaVersion>=8&&"Identifier"===i.type&&"async"===i.name&&this.lastTokEnd===i.end&&!this.canInsertSemicolon()&&i.end-i.start==5&&this.potentialArrowAt===i.start,j=!1;;){var st=this.parseSubscript(i,a,m,I,W,j,L);if(st.optional&&(j=!0),st===i||"ArrowFunctionExpression"===st.type){if(j){var ht=this.startNodeAt(a,m);ht.expression=st,st=this.finishNode(ht,"ChainExpression")}return st}i=st}},c.shouldParseAsyncArrow=function(){return!this.canInsertSemicolon()&&this.eat(A.arrow)},c.parseSubscriptAsyncArrow=function(i,a,m,I){return this.parseArrowExpression(this.startNodeAt(i,a),m,!0,I)},c.parseSubscript=function(i,a,m,I,L,W,j){var st=this.options.ecmaVersion>=11,ht=st&&this.eat(A.questionDot);I&&ht&&this.raise(this.lastTokStart,"Optional chaining cannot appear in the callee of new expressions");var Pt=this.eat(A.bracketL);if(Pt||ht&&this.type!==A.parenL&&this.type!==A.backQuote||this.eat(A.dot)){var Nt=this.startNodeAt(a,m);Nt.object=i,Pt?(Nt.property=this.parseExpression(),this.expect(A.bracketR)):Nt.property=this.type===A.privateId&&"Super"!==i.type?this.parsePrivateIdent():this.parseIdent("never"!==this.options.allowReserved),Nt.computed=!!Pt,st&&(Nt.optional=ht),i=this.finishNode(Nt,"MemberExpression")}else if(!I&&this.eat(A.parenL)){var Yt=new Xe,Oe=this.yieldPos,Ae=this.awaitPos,Ge=this.awaitIdentPos;this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0;var Ye=this.parseExprList(A.parenR,this.options.ecmaVersion>=8,!1,Yt);if(L&&!ht&&this.shouldParseAsyncArrow())return this.checkPatternErrors(Yt,!1),this.checkYieldAwaitInDefaultParams(),this.awaitIdentPos>0&&this.raise(this.awaitIdentPos,"Cannot use 'await' as identifier inside an async function"),this.yieldPos=Oe,this.awaitPos=Ae,this.awaitIdentPos=Ge,this.parseSubscriptAsyncArrow(a,m,Ye,j);this.checkExpressionErrors(Yt,!0),this.yieldPos=Oe||this.yieldPos,this.awaitPos=Ae||this.awaitPos,this.awaitIdentPos=Ge||this.awaitIdentPos;var De=this.startNodeAt(a,m);De.callee=i,De.arguments=Ye,st&&(De.optional=ht),i=this.finishNode(De,"CallExpression")}else if(this.type===A.backQuote){(ht||W)&&this.raise(this.start,"Optional chaining cannot appear in the tag of tagged template expressions");var Fe=this.startNodeAt(a,m);Fe.tag=i,Fe.quasi=this.parseTemplate({isTagged:!0}),i=this.finishNode(Fe,"TaggedTemplateExpression")}return i},c.parseExprAtom=function(i,a,m){this.type===A.slash&&this.readRegexp();var I,L=this.potentialArrowAt===this.start;switch(this.type){case A._super:return this.allowSuper||this.raise(this.start,"'super' keyword outside a method"),I=this.startNode(),this.next(),this.type===A.parenL&&!this.allowDirectSuper&&this.raise(I.start,"super() call outside constructor of a subclass"),this.type!==A.dot&&this.type!==A.bracketL&&this.type!==A.parenL&&this.unexpected(),this.finishNode(I,"Super");case A._this:return I=this.startNode(),this.next(),this.finishNode(I,"ThisExpression");case A.name:var W=this.start,j=this.startLoc,st=this.containsEsc,ht=this.parseIdent(!1);if(this.options.ecmaVersion>=8&&!st&&"async"===ht.name&&!this.canInsertSemicolon()&&this.eat(A._function))return this.overrideContext(p.f_expr),this.parseFunction(this.startNodeAt(W,j),0,!1,!0,a);if(L&&!this.canInsertSemicolon()){if(this.eat(A.arrow))return this.parseArrowExpression(this.startNodeAt(W,j),[ht],!1,a);if(this.options.ecmaVersion>=8&&"async"===ht.name&&this.type===A.name&&!st&&(!this.potentialArrowInForAwait||"of"!==this.value||this.containsEsc))return ht=this.parseIdent(!1),(this.canInsertSemicolon()||!this.eat(A.arrow))&&this.unexpected(),this.parseArrowExpression(this.startNodeAt(W,j),[ht],!0,a)}return ht;case A.regexp:var Pt=this.value;return(I=this.parseLiteral(Pt.value)).regex={pattern:Pt.pattern,flags:Pt.flags},I;case A.num:case A.string:return this.parseLiteral(this.value);case A._null:case A._true:case A._false:return(I=this.startNode()).value=this.type===A._null?null:this.type===A._true,I.raw=this.type.keyword,this.next(),this.finishNode(I,"Literal");case A.parenL:var Nt=this.start,Yt=this.parseParenAndDistinguishExpression(L,a);return i&&(i.parenthesizedAssign<0&&!this.isSimpleAssignTarget(Yt)&&(i.parenthesizedAssign=Nt),i.parenthesizedBind<0&&(i.parenthesizedBind=Nt)),Yt;case A.bracketL:return I=this.startNode(),this.next(),I.elements=this.parseExprList(A.bracketR,!0,!0,i),this.finishNode(I,"ArrayExpression");case A.braceL:return this.overrideContext(p.b_expr),this.parseObj(!1,i);case A._function:return I=this.startNode(),this.next(),this.parseFunction(I,0);case A._class:return this.parseClass(this.startNode(),!1);case A._new:return this.parseNew();case A.backQuote:return this.parseTemplate();case A._import:return this.options.ecmaVersion>=11?this.parseExprImport(m):this.unexpected();default:return this.parseExprAtomDefault()}},c.parseExprAtomDefault=function(){this.unexpected()},c.parseExprImport=function(i){var a=this.startNode();if(this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword import"),this.next(),this.type===A.parenL&&!i)return this.parseDynamicImport(a);if(this.type===A.dot){var m=this.startNodeAt(a.start,a.loc&&a.loc.start);return m.name="import",a.meta=this.finishNode(m,"Identifier"),this.parseImportMeta(a)}this.unexpected()},c.parseDynamicImport=function(i){if(this.next(),i.source=this.parseMaybeAssign(),!this.eat(A.parenR)){var a=this.start;this.eat(A.comma)&&this.eat(A.parenR)?this.raiseRecoverable(a,"Trailing comma is not allowed in import()"):this.unexpected(a)}return this.finishNode(i,"ImportExpression")},c.parseImportMeta=function(i){this.next();var a=this.containsEsc;return i.property=this.parseIdent(!0),"meta"!==i.property.name&&this.raiseRecoverable(i.property.start,"The only valid meta property for import is 'import.meta'"),a&&this.raiseRecoverable(i.start,"'import.meta' must not contain escaped characters"),"module"!==this.options.sourceType&&!this.options.allowImportExportEverywhere&&this.raiseRecoverable(i.start,"Cannot use 'import.meta' outside a module"),this.finishNode(i,"MetaProperty")},c.parseLiteral=function(i){var a=this.startNode();return a.value=i,a.raw=this.input.slice(this.start,this.end),110===a.raw.charCodeAt(a.raw.length-1)&&(a.bigint=a.raw.slice(0,-1).replace(/_/g,"")),this.next(),this.finishNode(a,"Literal")},c.parseParenExpression=function(){this.expect(A.parenL);var i=this.parseExpression();return this.expect(A.parenR),i},c.shouldParseArrow=function(i){return!this.canInsertSemicolon()},c.parseParenAndDistinguishExpression=function(i,a){var L,m=this.start,I=this.startLoc,W=this.options.ecmaVersion>=8;if(this.options.ecmaVersion>=6){this.next();var Ge,j=this.start,st=this.startLoc,ht=[],Pt=!0,Nt=!1,Yt=new Xe,Oe=this.yieldPos,Ae=this.awaitPos;for(this.yieldPos=0,this.awaitPos=0;this.type!==A.parenR;){if(Pt?Pt=!1:this.expect(A.comma),W&&this.afterTrailingComma(A.parenR,!0)){Nt=!0;break}if(this.type===A.ellipsis){Ge=this.start,ht.push(this.parseParenItem(this.parseRestBinding())),this.type===A.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element");break}ht.push(this.parseMaybeAssign(!1,Yt,this.parseParenItem))}var Ye=this.lastTokEnd,De=this.lastTokEndLoc;if(this.expect(A.parenR),i&&this.shouldParseArrow(ht)&&this.eat(A.arrow))return this.checkPatternErrors(Yt,!1),this.checkYieldAwaitInDefaultParams(),this.yieldPos=Oe,this.awaitPos=Ae,this.parseParenArrowList(m,I,ht,a);(!ht.length||Nt)&&this.unexpected(this.lastTokStart),Ge&&this.unexpected(Ge),this.checkExpressionErrors(Yt,!0),this.yieldPos=Oe||this.yieldPos,this.awaitPos=Ae||this.awaitPos,ht.length>1?((L=this.startNodeAt(j,st)).expressions=ht,this.finishNodeAt(L,"SequenceExpression",Ye,De)):L=ht[0]}else L=this.parseParenExpression();if(this.options.preserveParens){var Fe=this.startNodeAt(m,I);return Fe.expression=L,this.finishNode(Fe,"ParenthesizedExpression")}return L},c.parseParenItem=function(i){return i},c.parseParenArrowList=function(i,a,m,I){return this.parseArrowExpression(this.startNodeAt(i,a),m,!1,I)};var k=[];c.parseNew=function(){this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword new");var i=this.startNode();if(this.next(),this.options.ecmaVersion>=6&&this.type===A.dot){var a=this.startNodeAt(i.start,i.loc&&i.loc.start);a.name="new",i.meta=this.finishNode(a,"Identifier"),this.next();var m=this.containsEsc;return i.property=this.parseIdent(!0),"target"!==i.property.name&&this.raiseRecoverable(i.property.start,"The only valid meta property for new is 'new.target'"),m&&this.raiseRecoverable(i.start,"'new.target' must not contain escaped characters"),this.allowNewDotTarget||this.raiseRecoverable(i.start,"'new.target' can only be used in functions and class static block"),this.finishNode(i,"MetaProperty")}var I=this.start,L=this.startLoc;return i.callee=this.parseSubscripts(this.parseExprAtom(null,!1,!0),I,L,!0,!1),i.arguments=this.eat(A.parenL)?this.parseExprList(A.parenR,this.options.ecmaVersion>=8,!1):k,this.finishNode(i,"NewExpression")},c.parseTemplateElement=function(i){var a=i.isTagged,m=this.startNode();return this.type===A.invalidTemplate?(a||this.raiseRecoverable(this.start,"Bad escape sequence in untagged template literal"),m.value={raw:this.value,cooked:null}):m.value={raw:this.input.slice(this.start,this.end).replace(/\r\n?/g,"\n"),cooked:this.value},this.next(),m.tail=this.type===A.backQuote,this.finishNode(m,"TemplateElement")},c.parseTemplate=function(i){void 0===i&&(i={});var a=i.isTagged;void 0===a&&(a=!1);var m=this.startNode();this.next(),m.expressions=[];var I=this.parseTemplateElement({isTagged:a});for(m.quasis=[I];!I.tail;)this.type===A.eof&&this.raise(this.pos,"Unterminated template literal"),this.expect(A.dollarBraceL),m.expressions.push(this.parseExpression()),this.expect(A.braceR),m.quasis.push(I=this.parseTemplateElement({isTagged:a}));return this.next(),this.finishNode(m,"TemplateLiteral")},c.isAsyncProp=function(i){return!i.computed&&"Identifier"===i.key.type&&"async"===i.key.name&&(this.type===A.name||this.type===A.num||this.type===A.string||this.type===A.bracketL||this.type.keyword||this.options.ecmaVersion>=9&&this.type===A.star)&&!pt.test(this.input.slice(this.lastTokEnd,this.start))},c.parseObj=function(i,a){var m=this.startNode(),I=!0,L={};for(m.properties=[],this.next();!this.eat(A.braceR);){if(I)I=!1;else if(this.expect(A.comma),this.options.ecmaVersion>=5&&this.afterTrailingComma(A.braceR))break;var W=this.parseProperty(i,a);i||this.checkPropClash(W,L,a),m.properties.push(W)}return this.finishNode(m,i?"ObjectPattern":"ObjectExpression")},c.parseProperty=function(i,a){var I,L,W,j,m=this.startNode();if(this.options.ecmaVersion>=9&&this.eat(A.ellipsis))return i?(m.argument=this.parseIdent(!1),this.type===A.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element"),this.finishNode(m,"RestElement")):(m.argument=this.parseMaybeAssign(!1,a),this.type===A.comma&&a&&a.trailingComma<0&&(a.trailingComma=this.start),this.finishNode(m,"SpreadElement"));this.options.ecmaVersion>=6&&(m.method=!1,m.shorthand=!1,(i||a)&&(W=this.start,j=this.startLoc),i||(I=this.eat(A.star)));var st=this.containsEsc;return this.parsePropertyName(m),!i&&!st&&this.options.ecmaVersion>=8&&!I&&this.isAsyncProp(m)?(L=!0,I=this.options.ecmaVersion>=9&&this.eat(A.star),this.parsePropertyName(m)):L=!1,this.parsePropertyValue(m,i,I,L,W,j,a,st),this.finishNode(m,"Property")},c.parseGetterSetter=function(i){(i.kind=i.key.name,this.parsePropertyName(i),i.value=this.parseMethod(!1),i.value.params.length!==("get"===i.kind?0:1))?this.raiseRecoverable(i.value.start,"get"===i.kind?"getter should have no params":"setter should have exactly one param"):"set"===i.kind&&"RestElement"===i.value.params[0].type&&this.raiseRecoverable(i.value.params[0].start,"Setter cannot use rest params")},c.parsePropertyValue=function(i,a,m,I,L,W,j,st){(m||I)&&this.type===A.colon&&this.unexpected(),this.eat(A.colon)?(i.value=a?this.parseMaybeDefault(this.start,this.startLoc):this.parseMaybeAssign(!1,j),i.kind="init"):this.options.ecmaVersion>=6&&this.type===A.parenL?(a&&this.unexpected(),i.kind="init",i.method=!0,i.value=this.parseMethod(m,I)):a||st||!(this.options.ecmaVersion>=5)||i.computed||"Identifier"!==i.key.type||"get"!==i.key.name&&"set"!==i.key.name||this.type===A.comma||this.type===A.braceR||this.type===A.eq?this.options.ecmaVersion>=6&&!i.computed&&"Identifier"===i.key.type?((m||I)&&this.unexpected(),this.checkUnreserved(i.key),"await"===i.key.name&&!this.awaitIdentPos&&(this.awaitIdentPos=L),i.kind="init",a?i.value=this.parseMaybeDefault(L,W,this.copyNode(i.key)):this.type===A.eq&&j?(j.shorthandAssign<0&&(j.shorthandAssign=this.start),i.value=this.parseMaybeDefault(L,W,this.copyNode(i.key))):i.value=this.copyNode(i.key),i.shorthand=!0):this.unexpected():((m||I)&&this.unexpected(),this.parseGetterSetter(i))},c.parsePropertyName=function(i){if(this.options.ecmaVersion>=6){if(this.eat(A.bracketL))return i.computed=!0,i.key=this.parseMaybeAssign(),this.expect(A.bracketR),i.key;i.computed=!1}return i.key=this.type===A.num||this.type===A.string?this.parseExprAtom():this.parseIdent("never"!==this.options.allowReserved)},c.initFunction=function(i){i.id=null,this.options.ecmaVersion>=6&&(i.generator=i.expression=!1),this.options.ecmaVersion>=8&&(i.async=!1)},c.parseMethod=function(i,a,m){var I=this.startNode(),L=this.yieldPos,W=this.awaitPos,j=this.awaitIdentPos;return this.initFunction(I),this.options.ecmaVersion>=6&&(I.generator=i),this.options.ecmaVersion>=8&&(I.async=!!a),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(64|We(a,I.generator)|(m?128:0)),this.expect(A.parenL),I.params=this.parseBindingList(A.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams(),this.parseFunctionBody(I,!1,!0,!1),this.yieldPos=L,this.awaitPos=W,this.awaitIdentPos=j,this.finishNode(I,"FunctionExpression")},c.parseArrowExpression=function(i,a,m,I){var L=this.yieldPos,W=this.awaitPos,j=this.awaitIdentPos;return this.enterScope(16|We(m,!1)),this.initFunction(i),this.options.ecmaVersion>=8&&(i.async=!!m),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,i.params=this.toAssignableList(a,!0),this.parseFunctionBody(i,!0,!1,I),this.yieldPos=L,this.awaitPos=W,this.awaitIdentPos=j,this.finishNode(i,"ArrowFunctionExpression")},c.parseFunctionBody=function(i,a,m,I){var W=this.strict,j=!1;if(a&&this.type!==A.braceL)i.body=this.parseMaybeAssign(I),i.expression=!0,this.checkParams(i,!1);else{var st=this.options.ecmaVersion>=7&&!this.isSimpleParamList(i.params);(!W||st)&&(j=this.strictDirective(this.end))&&st&&this.raiseRecoverable(i.start,"Illegal 'use strict' directive in function with non-simple parameter list");var ht=this.labels;this.labels=[],j&&(this.strict=!0),this.checkParams(i,!W&&!j&&!a&&!m&&this.isSimpleParamList(i.params)),this.strict&&i.id&&this.checkLValSimple(i.id,5),i.body=this.parseBlock(!1,void 0,j&&!W),i.expression=!1,this.adaptDirectivePrologue(i.body.body),this.labels=ht}this.exitScope()},c.isSimpleParamList=function(i){for(var a=0,m=i;a<m.length;a+=1)if("Identifier"!==m[a].type)return!1;return!0},c.checkParams=function(i,a){for(var m=Object.create(null),I=0,L=i.params;I<L.length;I+=1)this.checkLValInnerPattern(L[I],1,a?null:m)},c.parseExprList=function(i,a,m,I){for(var L=[],W=!0;!this.eat(i);){if(W)W=!1;else if(this.expect(A.comma),a&&this.afterTrailingComma(i))break;var j=void 0;m&&this.type===A.comma?j=null:this.type===A.ellipsis?(j=this.parseSpread(I),I&&this.type===A.comma&&I.trailingComma<0&&(I.trailingComma=this.start)):j=this.parseMaybeAssign(!1,I),L.push(j)}return L},c.checkUnreserved=function(i){var a=i.start,m=i.end,I=i.name;this.inGenerator&&"yield"===I&&this.raiseRecoverable(a,"Cannot use 'yield' as identifier inside a generator"),this.inAsync&&"await"===I&&this.raiseRecoverable(a,"Cannot use 'await' as identifier inside an async function"),this.currentThisScope().inClassFieldInit&&"arguments"===I&&this.raiseRecoverable(a,"Cannot use 'arguments' in class field initializer"),this.inClassStaticBlock&&("arguments"===I||"await"===I)&&this.raise(a,"Cannot use "+I+" in class static initialization block"),this.keywords.test(I)&&this.raise(a,"Unexpected keyword '"+I+"'"),this.options.ecmaVersion<6&&-1!==this.input.slice(a,m).indexOf("\\")||(this.strict?this.reservedWordsStrict:this.reservedWords).test(I)&&(!this.inAsync&&"await"===I&&this.raiseRecoverable(a,"Cannot use keyword 'await' outside an async function"),this.raiseRecoverable(a,"The keyword '"+I+"' is reserved"))},c.parseIdent=function(i){var a=this.parseIdentNode();return this.next(!!i),this.finishNode(a,"Identifier"),i||(this.checkUnreserved(a),"await"===a.name&&!this.awaitIdentPos&&(this.awaitIdentPos=a.start)),a},c.parseIdentNode=function(){var i=this.startNode();return this.type===A.name?i.name=this.value:this.type.keyword?(i.name=this.type.keyword,("class"===i.name||"function"===i.name)&&(this.lastTokEnd!==this.lastTokStart+1||46!==this.input.charCodeAt(this.lastTokStart))&&this.context.pop(),this.type=A.name):this.unexpected(),i},c.parsePrivateIdent=function(){var i=this.startNode();return this.type===A.privateId?i.name=this.value:this.unexpected(),this.next(),this.finishNode(i,"PrivateIdentifier"),this.options.checkPrivateFields&&(0===this.privateNameStack.length?this.raise(i.start,"Private field '#"+i.name+"' must be declared in an enclosing class"):this.privateNameStack[this.privateNameStack.length-1].used.push(i)),i},c.parseYield=function(i){this.yieldPos||(this.yieldPos=this.start);var a=this.startNode();return this.next(),this.type===A.semi||this.canInsertSemicolon()||this.type!==A.star&&!this.type.startsExpr?(a.delegate=!1,a.argument=null):(a.delegate=this.eat(A.star),a.argument=this.parseMaybeAssign(i)),this.finishNode(a,"YieldExpression")},c.parseAwait=function(i){this.awaitPos||(this.awaitPos=this.start);var a=this.startNode();return this.next(),a.argument=this.parseMaybeUnary(null,!0,!1,i),this.finishNode(a,"AwaitExpression")};var x=Wt.prototype;x.raise=function(i,a){var m=ke(this.input,i),I=new SyntaxError(a+=" ("+m.line+":"+m.column+")");throw I.pos=i,I.loc=m,I.raisedAt=this.pos,I},x.raiseRecoverable=x.raise,x.curPosition=function(){if(this.options.locations)return new ut(this.curLine,this.pos-this.lineStart)};var C=Wt.prototype,_=function(a){this.flags=a,this.var=[],this.lexical=[],this.functions=[],this.inClassFieldInit=!1};C.enterScope=function(i){this.scopeStack.push(new _(i))},C.exitScope=function(){this.scopeStack.pop()},C.treatFunctionsAsVarInScope=function(i){return 2&i.flags||!this.inModule&&1&i.flags},C.declareName=function(i,a,m){var I=!1;if(2===a){var L=this.currentScope();I=L.lexical.indexOf(i)>-1||L.functions.indexOf(i)>-1||L.var.indexOf(i)>-1,L.lexical.push(i),this.inModule&&1&L.flags&&delete this.undefinedExports[i]}else if(4===a)this.currentScope().lexical.push(i);else if(3===a){var j=this.currentScope();I=this.treatFunctionsAsVar?j.lexical.indexOf(i)>-1:j.lexical.indexOf(i)>-1||j.var.indexOf(i)>-1,j.functions.push(i)}else for(var st=this.scopeStack.length-1;st>=0;--st){var ht=this.scopeStack[st];if(ht.lexical.indexOf(i)>-1&&!(32&ht.flags&&ht.lexical[0]===i)||!this.treatFunctionsAsVarInScope(ht)&&ht.functions.indexOf(i)>-1){I=!0;break}if(ht.var.push(i),this.inModule&&1&ht.flags&&delete this.undefinedExports[i],259&ht.flags)break}I&&this.raiseRecoverable(m,"Identifier '"+i+"' has already been declared")},C.checkLocalExport=function(i){-1===this.scopeStack[0].lexical.indexOf(i.name)&&-1===this.scopeStack[0].var.indexOf(i.name)&&(this.undefinedExports[i.name]=i)},C.currentScope=function(){return this.scopeStack[this.scopeStack.length-1]},C.currentVarScope=function(){for(var i=this.scopeStack.length-1;;i--){var a=this.scopeStack[i];if(259&a.flags)return a}},C.currentThisScope=function(){for(var i=this.scopeStack.length-1;;i--){var a=this.scopeStack[i];if(259&a.flags&&!(16&a.flags))return a}};var b=function(a,m,I){this.type="",this.start=m,this.end=0,a.options.locations&&(this.loc=new ue(a,I)),a.options.directSourceFile&&(this.sourceFile=a.options.directSourceFile),a.options.ranges&&(this.range=[m,0])},d=Wt.prototype;function y(i,a,m,I){return i.type=a,i.end=m,this.options.locations&&(i.loc.end=I),this.options.ranges&&(i.range[1]=m),i}d.startNode=function(){return new b(this,this.start,this.startLoc)},d.startNodeAt=function(i,a){return new b(this,i,a)},d.finishNode=function(i,a){return y.call(this,i,a,this.lastTokEnd,this.lastTokEndLoc)},d.finishNodeAt=function(i,a,m,I){return y.call(this,i,a,m,I)},d.copyNode=function(i){var a=new b(this,i.start,this.startLoc);for(var m in i)a[m]=i[m];return a};var i,a,S="ASCII ASCII_Hex_Digit AHex Alphabetic Alpha Any Assigned Bidi_Control Bidi_C Bidi_Mirrored Bidi_M Case_Ignorable CI Cased Changes_When_Casefolded CWCF Changes_When_Casemapped CWCM Changes_When_Lowercased CWL Changes_When_NFKC_Casefolded CWKCF Changes_When_Titlecased CWT Changes_When_Uppercased CWU Dash Default_Ignorable_Code_Point DI Deprecated Dep Diacritic Dia Emoji Emoji_Component Emoji_Modifier Emoji_Modifier_Base Emoji_Presentation Extender Ext Grapheme_Base Gr_Base Grapheme_Extend Gr_Ext Hex_Digit Hex IDS_Binary_Operator IDSB IDS_Trinary_Operator IDST ID_Continue IDC ID_Start IDS Ideographic Ideo Join_Control Join_C Logical_Order_Exception LOE Lowercase Lower Math Noncharacter_Code_Point NChar Pattern_Syntax Pat_Syn Pattern_White_Space Pat_WS Quotation_Mark QMark Radical Regional_Indicator RI Sentence_Terminal STerm Soft_Dotted SD Terminal_Punctuation Term Unified_Ideograph UIdeo Uppercase Upper Variation_Selector VS White_Space space XID_Continue XIDC XID_Start XIDS",P=S+" Extended_Pictographic",E=P+" EBase EComp EMod EPres ExtPict",B={9:S,10:P,11:P,12:E,13:E,14:E},D={9:"",10:"",11:"",12:"",13:"",14:"Basic_Emoji Emoji_Keycap_Sequence RGI_Emoji_Modifier_Sequence RGI_Emoji_Flag_Sequence RGI_Emoji_Tag_Sequence RGI_Emoji_ZWJ_Sequence RGI_Emoji"},R="Cased_Letter LC Close_Punctuation Pe Connector_Punctuation Pc Control Cc cntrl Currency_Symbol Sc Dash_Punctuation Pd Decimal_Number Nd digit Enclosing_Mark Me Final_Punctuation Pf Format Cf Initial_Punctuation Pi Letter L Letter_Number Nl Line_Separator Zl Lowercase_Letter Ll Mark M Combining_Mark Math_Symbol Sm Modifier_Letter Lm Modifier_Symbol Sk Nonspacing_Mark Mn Number N Open_Punctuation Ps Other C Other_Letter Lo Other_Number No Other_Punctuation Po Other_Symbol So Paragraph_Separator Zp Private_Use Co Punctuation P punct Separator Z Space_Separator Zs Spacing_Mark Mc Surrogate Cs Symbol S Titlecase_Letter Lt Unassigned Cn Uppercase_Letter Lu",z="Adlam Adlm Ahom Anatolian_Hieroglyphs Hluw Arabic Arab Armenian Armn Avestan Avst Balinese Bali Bamum Bamu Bassa_Vah Bass Batak Batk Bengali Beng Bhaiksuki Bhks Bopomofo Bopo Brahmi Brah Braille Brai Buginese Bugi Buhid Buhd Canadian_Aboriginal Cans Carian Cari Caucasian_Albanian Aghb Chakma Cakm Cham Cham Cherokee Cher Common Zyyy Coptic Copt Qaac Cuneiform Xsux Cypriot Cprt Cyrillic Cyrl Deseret Dsrt Devanagari Deva Duployan Dupl Egyptian_Hieroglyphs Egyp Elbasan Elba Ethiopic Ethi Georgian Geor Glagolitic Glag Gothic Goth Grantha Gran Greek Grek Gujarati Gujr Gurmukhi Guru Han Hani Hangul Hang Hanunoo Hano Hatran Hatr Hebrew Hebr Hiragana Hira Imperial_Aramaic Armi Inherited Zinh Qaai Inscriptional_Pahlavi Phli Inscriptional_Parthian Prti Javanese Java Kaithi Kthi Kannada Knda Katakana Kana Kayah_Li Kali Kharoshthi Khar Khmer Khmr Khojki Khoj Khudawadi Sind Lao Laoo Latin Latn Lepcha Lepc Limbu Limb Linear_A Lina Linear_B Linb Lisu Lisu Lycian Lyci Lydian Lydi Mahajani Mahj Malayalam Mlym Mandaic Mand Manichaean Mani Marchen Marc Masaram_Gondi Gonm Meetei_Mayek Mtei Mende_Kikakui Mend Meroitic_Cursive Merc Meroitic_Hieroglyphs Mero Miao Plrd Modi Mongolian Mong Mro Mroo Multani Mult Myanmar Mymr Nabataean Nbat New_Tai_Lue Talu Newa Newa Nko Nkoo Nushu Nshu Ogham Ogam Ol_Chiki Olck Old_Hungarian Hung Old_Italic Ital Old_North_Arabian Narb Old_Permic Perm Old_Persian Xpeo Old_South_Arabian Sarb Old_Turkic Orkh Oriya Orya Osage Osge Osmanya Osma Pahawh_Hmong Hmng Palmyrene Palm Pau_Cin_Hau Pauc Phags_Pa Phag Phoenician Phnx Psalter_Pahlavi Phlp Rejang Rjng Runic Runr Samaritan Samr Saurashtra Saur Sharada Shrd Shavian Shaw Siddham Sidd SignWriting Sgnw Sinhala Sinh Sora_Sompeng Sora Soyombo Soyo Sundanese Sund Syloti_Nagri Sylo Syriac Syrc Tagalog Tglg Tagbanwa Tagb Tai_Le Tale Tai_Tham Lana Tai_Viet Tavt Takri Takr Tamil Taml Tangut Tang Telugu Telu Thaana Thaa Thai Thai Tibetan Tibt Tifinagh Tfng Tirhuta Tirh Ugaritic Ugar Vai Vaii Warang_Citi Wara Yi Yiii Zanabazar_Square Zanb",H=z+" Dogra Dogr Gunjala_Gondi Gong Hanifi_Rohingya Rohg Makasar Maka Medefaidrin Medf Old_Sogdian Sogo Sogdian Sogd",G=H+" Elymaic Elym Nandinagari Nand Nyiakeng_Puachue_Hmong Hmnp Wancho Wcho",Y=G+" Chorasmian Chrs Diak Dives_Akuru Khitan_Small_Script Kits Yezi Yezidi",it=Y+" Cypro_Minoan Cpmn Old_Uyghur Ougr Tangsa Tnsa Toto Vithkuqi Vith",ft={9:z,10:H,11:G,12:Y,13:it,14:it+" Hrkt Katakana_Or_Hiragana Kawi Nag_Mundari Nagm Unknown Zzzz"},K={};for(var nt=0,dt=[9,10,11,12,13,14];nt<dt.length;nt+=1)a=void 0,(a=K[i=dt[nt]]={binary:ee(B[i]+" "+R),binaryOfStrings:ee(D[i]),nonBinary:{General_Category:ee(R),Script:ee(ft[i])}}).nonBinary.Script_Extensions=a.nonBinary.Script,a.nonBinary.gc=a.nonBinary.General_Category,a.nonBinary.sc=a.nonBinary.Script,a.nonBinary.scx=a.nonBinary.Script_Extensions;var Q=Wt.prototype,gt=function(a){this.parser=a,this.validFlags="gim"+(a.options.ecmaVersion>=6?"uy":"")+(a.options.ecmaVersion>=9?"s":"")+(a.options.ecmaVersion>=13?"d":"")+(a.options.ecmaVersion>=15?"v":""),this.unicodeProperties=K[a.options.ecmaVersion>=14?14:a.options.ecmaVersion],this.source="",this.flags="",this.start=0,this.switchU=!1,this.switchV=!1,this.switchN=!1,this.pos=0,this.lastIntValue=0,this.lastStringValue="",this.lastAssertionIsQuantifiable=!1,this.numCapturingParens=0,this.maxBackReference=0,this.groupNames=[],this.backReferenceNames=[]};function yt(i){return 36===i||i>=40&&i<=43||46===i||63===i||i>=91&&i<=94||i>=123&&i<=125}function te(i){return i>=65&&i<=90||i>=97&&i<=122}gt.prototype.reset=function(a,m,I){var L=-1!==I.indexOf("v"),W=-1!==I.indexOf("u");this.start=0|a,this.source=m+"",this.flags=I,L&&this.parser.options.ecmaVersion>=15?(this.switchU=!0,this.switchV=!0,this.switchN=!0):(this.switchU=W&&this.parser.options.ecmaVersion>=6,this.switchV=!1,this.switchN=W&&this.parser.options.ecmaVersion>=9)},gt.prototype.raise=function(a){this.parser.raiseRecoverable(this.start,"Invalid regular expression: /"+this.source+"/: "+a)},gt.prototype.at=function(a,m){void 0===m&&(m=!1);var I=this.source,L=I.length;if(a>=L)return-1;var W=I.charCodeAt(a);if(!m&&!this.switchU||W<=55295||W>=57344||a+1>=L)return W;var j=I.charCodeAt(a+1);return j>=56320&&j<=57343?(W<<10)+j-56613888:W},gt.prototype.nextIndex=function(a,m){void 0===m&&(m=!1);var I=this.source,L=I.length;if(a>=L)return L;var j,W=I.charCodeAt(a);return!m&&!this.switchU||W<=55295||W>=57344||a+1>=L||(j=I.charCodeAt(a+1))<56320||j>57343?a+1:a+2},gt.prototype.current=function(a){return void 0===a&&(a=!1),this.at(this.pos,a)},gt.prototype.lookahead=function(a){return void 0===a&&(a=!1),this.at(this.nextIndex(this.pos,a),a)},gt.prototype.advance=function(a){void 0===a&&(a=!1),this.pos=this.nextIndex(this.pos,a)},gt.prototype.eat=function(a,m){return void 0===m&&(m=!1),this.current(m)===a&&(this.advance(m),!0)},gt.prototype.eatChars=function(a,m){void 0===m&&(m=!1);for(var I=this.pos,L=0,W=a;L<W.length;L+=1){var j=W[L],st=this.at(I,m);if(-1===st||st!==j)return!1;I=this.nextIndex(I,m)}return this.pos=I,!0},Q.validateRegExpFlags=function(i){for(var a=i.validFlags,m=i.flags,I=!1,L=!1,W=0;W<m.length;W++){var j=m.charAt(W);-1===a.indexOf(j)&&this.raise(i.start,"Invalid regular expression flag"),m.indexOf(j,W+1)>-1&&this.raise(i.start,"Duplicate regular expression flag"),"u"===j&&(I=!0),"v"===j&&(L=!0)}this.options.ecmaVersion>=15&&I&&L&&this.raise(i.start,"Invalid regular expression flag")},Q.validateRegExpPattern=function(i){this.regexp_pattern(i),!i.switchN&&this.options.ecmaVersion>=9&&i.groupNames.length>0&&(i.switchN=!0,this.regexp_pattern(i))},Q.regexp_pattern=function(i){i.pos=0,i.lastIntValue=0,i.lastStringValue="",i.lastAssertionIsQuantifiable=!1,i.numCapturingParens=0,i.maxBackReference=0,i.groupNames.length=0,i.backReferenceNames.length=0,this.regexp_disjunction(i),i.pos!==i.source.length&&(i.eat(41)&&i.raise("Unmatched ')'"),(i.eat(93)||i.eat(125))&&i.raise("Lone quantifier brackets")),i.maxBackReference>i.numCapturingParens&&i.raise("Invalid escape");for(var a=0,m=i.backReferenceNames;a<m.length;a+=1)-1===i.groupNames.indexOf(m[a])&&i.raise("Invalid named capture referenced")},Q.regexp_disjunction=function(i){for(this.regexp_alternative(i);i.eat(124);)this.regexp_alternative(i);this.regexp_eatQuantifier(i,!0)&&i.raise("Nothing to repeat"),i.eat(123)&&i.raise("Lone quantifier brackets")},Q.regexp_alternative=function(i){for(;i.pos<i.source.length&&this.regexp_eatTerm(i););},Q.regexp_eatTerm=function(i){return this.regexp_eatAssertion(i)?(i.lastAssertionIsQuantifiable&&this.regexp_eatQuantifier(i)&&i.switchU&&i.raise("Invalid quantifier"),!0):!!(i.switchU?this.regexp_eatAtom(i):this.regexp_eatExtendedAtom(i))&&(this.regexp_eatQuantifier(i),!0)},Q.regexp_eatAssertion=function(i){var a=i.pos;if(i.lastAssertionIsQuantifiable=!1,i.eat(94)||i.eat(36))return!0;if(i.eat(92)){if(i.eat(66)||i.eat(98))return!0;i.pos=a}if(i.eat(40)&&i.eat(63)){var m=!1;if(this.options.ecmaVersion>=9&&(m=i.eat(60)),i.eat(61)||i.eat(33))return this.regexp_disjunction(i),i.eat(41)||i.raise("Unterminated group"),i.lastAssertionIsQuantifiable=!m,!0}return i.pos=a,!1},Q.regexp_eatQuantifier=function(i,a){return void 0===a&&(a=!1),!!this.regexp_eatQuantifierPrefix(i,a)&&(i.eat(63),!0)},Q.regexp_eatQuantifierPrefix=function(i,a){return i.eat(42)||i.eat(43)||i.eat(63)||this.regexp_eatBracedQuantifier(i,a)},Q.regexp_eatBracedQuantifier=function(i,a){var m=i.pos;if(i.eat(123)){var I=0,L=-1;if(this.regexp_eatDecimalDigits(i)&&(I=i.lastIntValue,i.eat(44)&&this.regexp_eatDecimalDigits(i)&&(L=i.lastIntValue),i.eat(125)))return-1!==L&&L<I&&!a&&i.raise("numbers out of order in {} quantifier"),!0;i.switchU&&!a&&i.raise("Incomplete quantifier"),i.pos=m}return!1},Q.regexp_eatAtom=function(i){return this.regexp_eatPatternCharacters(i)||i.eat(46)||this.regexp_eatReverseSolidusAtomEscape(i)||this.regexp_eatCharacterClass(i)||this.regexp_eatUncapturingGroup(i)||this.regexp_eatCapturingGroup(i)},Q.regexp_eatReverseSolidusAtomEscape=function(i){var a=i.pos;if(i.eat(92)){if(this.regexp_eatAtomEscape(i))return!0;i.pos=a}return!1},Q.regexp_eatUncapturingGroup=function(i){var a=i.pos;if(i.eat(40)){if(i.eat(63)&&i.eat(58)){if(this.regexp_disjunction(i),i.eat(41))return!0;i.raise("Unterminated group")}i.pos=a}return!1},Q.regexp_eatCapturingGroup=function(i){if(i.eat(40)){if(this.options.ecmaVersion>=9?this.regexp_groupSpecifier(i):63===i.current()&&i.raise("Invalid group"),this.regexp_disjunction(i),i.eat(41))return i.numCapturingParens+=1,!0;i.raise("Unterminated group")}return!1},Q.regexp_eatExtendedAtom=function(i){return i.eat(46)||this.regexp_eatReverseSolidusAtomEscape(i)||this.regexp_eatCharacterClass(i)||this.regexp_eatUncapturingGroup(i)||this.regexp_eatCapturingGroup(i)||this.regexp_eatInvalidBracedQuantifier(i)||this.regexp_eatExtendedPatternCharacter(i)},Q.regexp_eatInvalidBracedQuantifier=function(i){return this.regexp_eatBracedQuantifier(i,!0)&&i.raise("Nothing to repeat"),!1},Q.regexp_eatSyntaxCharacter=function(i){var a=i.current();return!!yt(a)&&(i.lastIntValue=a,i.advance(),!0)},Q.regexp_eatPatternCharacters=function(i){for(var a=i.pos,m=0;-1!==(m=i.current())&&!yt(m);)i.advance();return i.pos!==a},Q.regexp_eatExtendedPatternCharacter=function(i){var a=i.current();return!(-1===a||36===a||a>=40&&a<=43||46===a||63===a||91===a||94===a||124===a||(i.advance(),0))},Q.regexp_groupSpecifier=function(i){if(i.eat(63)){if(this.regexp_eatGroupName(i))return-1!==i.groupNames.indexOf(i.lastStringValue)&&i.raise("Duplicate capture group name"),void i.groupNames.push(i.lastStringValue);i.raise("Invalid group")}},Q.regexp_eatGroupName=function(i){if(i.lastStringValue="",i.eat(60)){if(this.regexp_eatRegExpIdentifierName(i)&&i.eat(62))return!0;i.raise("Invalid capture group name")}return!1},Q.regexp_eatRegExpIdentifierName=function(i){if(i.lastStringValue="",this.regexp_eatRegExpIdentifierStart(i)){for(i.lastStringValue+=_t(i.lastIntValue);this.regexp_eatRegExpIdentifierPart(i);)i.lastStringValue+=_t(i.lastIntValue);return!0}return!1},Q.regexp_eatRegExpIdentifierStart=function(i){var a=i.pos,m=this.options.ecmaVersion>=11,I=i.current(m);return i.advance(m),92===I&&this.regexp_eatRegExpUnicodeEscapeSequence(i,m)&&(I=i.lastIntValue),function It(i){return ce(i,!0)||36===i||95===i}(I)?(i.lastIntValue=I,!0):(i.pos=a,!1)},Q.regexp_eatRegExpIdentifierPart=function(i){var a=i.pos,m=this.options.ecmaVersion>=11,I=i.current(m);return i.advance(m),92===I&&this.regexp_eatRegExpUnicodeEscapeSequence(i,m)&&(I=i.lastIntValue),function bt(i){return Ce(i,!0)||36===i||95===i||8204===i||8205===i}(I)?(i.lastIntValue=I,!0):(i.pos=a,!1)},Q.regexp_eatAtomEscape=function(i){return!!(this.regexp_eatBackReference(i)||this.regexp_eatCharacterClassEscape(i)||this.regexp_eatCharacterEscape(i)||i.switchN&&this.regexp_eatKGroupName(i))||(i.switchU&&(99===i.current()&&i.raise("Invalid unicode escape"),i.raise("Invalid escape")),!1)},Q.regexp_eatBackReference=function(i){var a=i.pos;if(this.regexp_eatDecimalEscape(i)){var m=i.lastIntValue;if(i.switchU)return m>i.maxBackReference&&(i.maxBackReference=m),!0;if(m<=i.numCapturingParens)return!0;i.pos=a}return!1},Q.regexp_eatKGroupName=function(i){if(i.eat(107)){if(this.regexp_eatGroupName(i))return i.backReferenceNames.push(i.lastStringValue),!0;i.raise("Invalid named reference")}return!1},Q.regexp_eatCharacterEscape=function(i){return this.regexp_eatControlEscape(i)||this.regexp_eatCControlLetter(i)||this.regexp_eatZero(i)||this.regexp_eatHexEscapeSequence(i)||this.regexp_eatRegExpUnicodeEscapeSequence(i,!1)||!i.switchU&&this.regexp_eatLegacyOctalEscapeSequence(i)||this.regexp_eatIdentityEscape(i)},Q.regexp_eatCControlLetter=function(i){var a=i.pos;if(i.eat(99)){if(this.regexp_eatControlLetter(i))return!0;i.pos=a}return!1},Q.regexp_eatZero=function(i){return 48===i.current()&&!_e(i.lookahead())&&(i.lastIntValue=0,i.advance(),!0)},Q.regexp_eatControlEscape=function(i){var a=i.current();return 116===a?(i.lastIntValue=9,i.advance(),!0):110===a?(i.lastIntValue=10,i.advance(),!0):118===a?(i.lastIntValue=11,i.advance(),!0):102===a?(i.lastIntValue=12,i.advance(),!0):114===a&&(i.lastIntValue=13,i.advance(),!0)},Q.regexp_eatControlLetter=function(i){var a=i.current();return!!te(a)&&(i.lastIntValue=a%32,i.advance(),!0)},Q.regexp_eatRegExpUnicodeEscapeSequence=function(i,a){void 0===a&&(a=!1);var m=i.pos,I=a||i.switchU;if(i.eat(117)){if(this.regexp_eatFixedHexDigits(i,4)){var L=i.lastIntValue;if(I&&L>=55296&&L<=56319){var W=i.pos;if(i.eat(92)&&i.eat(117)&&this.regexp_eatFixedHexDigits(i,4)){var j=i.lastIntValue;if(j>=56320&&j<=57343)return i.lastIntValue=1024*(L-55296)+(j-56320)+65536,!0}i.pos=W,i.lastIntValue=L}return!0}if(I&&i.eat(123)&&this.regexp_eatHexDigits(i)&&i.eat(125)&&function ie(i){return i>=0&&i<=1114111}(i.lastIntValue))return!0;I&&i.raise("Invalid unicode escape"),i.pos=m}return!1},Q.regexp_eatIdentityEscape=function(i){if(i.switchU)return!!this.regexp_eatSyntaxCharacter(i)||!!i.eat(47)&&(i.lastIntValue=47,!0);var a=i.current();return!(99===a||i.switchN&&107===a||(i.lastIntValue=a,i.advance(),0))},Q.regexp_eatDecimalEscape=function(i){i.lastIntValue=0;var a=i.current();if(a>=49&&a<=57){do{i.lastIntValue=10*i.lastIntValue+(a-48),i.advance()}while((a=i.current())>=48&&a<=57);return!0}return!1};function de(i){return te(i)||95===i}function ne(i){return de(i)||_e(i)}function _e(i){return i>=48&&i<=57}function pe(i){return i>=48&&i<=57||i>=65&&i<=70||i>=97&&i<=102}function ve(i){return i>=65&&i<=70?i-65+10:i>=97&&i<=102?i-97+10:i-48}function Le(i){return i>=48&&i<=55}Q.regexp_eatCharacterClassEscape=function(i){var a=i.current();if(function Xt(i){return 100===i||68===i||115===i||83===i||119===i||87===i}(a))return i.lastIntValue=-1,i.advance(),1;var m=!1;if(i.switchU&&this.options.ecmaVersion>=9&&((m=80===a)||112===a)){var I;if(i.lastIntValue=-1,i.advance(),i.eat(123)&&(I=this.regexp_eatUnicodePropertyValueExpression(i))&&i.eat(125))return m&&2===I&&i.raise("Invalid property name"),I;i.raise("Invalid property name")}return 0},Q.regexp_eatUnicodePropertyValueExpression=function(i){var a=i.pos;if(this.regexp_eatUnicodePropertyName(i)&&i.eat(61)){var m=i.lastStringValue;if(this.regexp_eatUnicodePropertyValue(i))return this.regexp_validateUnicodePropertyNameAndValue(i,m,i.lastStringValue),1}return i.pos=a,this.regexp_eatLoneUnicodePropertyNameOrValue(i)?this.regexp_validateUnicodePropertyNameOrValue(i,i.lastStringValue):0},Q.regexp_validateUnicodePropertyNameAndValue=function(i,a,m){Vt(i.unicodeProperties.nonBinary,a)||i.raise("Invalid property name"),i.unicodeProperties.nonBinary[a].test(m)||i.raise("Invalid property value")},Q.regexp_validateUnicodePropertyNameOrValue=function(i,a){return i.unicodeProperties.binary.test(a)?1:i.switchV&&i.unicodeProperties.binaryOfStrings.test(a)?2:void i.raise("Invalid property name")},Q.regexp_eatUnicodePropertyName=function(i){var a=0;for(i.lastStringValue="";de(a=i.current());)i.lastStringValue+=_t(a),i.advance();return""!==i.lastStringValue},Q.regexp_eatUnicodePropertyValue=function(i){var a=0;for(i.lastStringValue="";ne(a=i.current());)i.lastStringValue+=_t(a),i.advance();return""!==i.lastStringValue},Q.regexp_eatLoneUnicodePropertyNameOrValue=function(i){return this.regexp_eatUnicodePropertyValue(i)},Q.regexp_eatCharacterClass=function(i){if(i.eat(91)){var a=i.eat(94),m=this.regexp_classContents(i);return i.eat(93)||i.raise("Unterminated character class"),a&&2===m&&i.raise("Negated character class may contain strings"),!0}return!1},Q.regexp_classContents=function(i){return 93===i.current()?1:i.switchV?this.regexp_classSetExpression(i):(this.regexp_nonEmptyClassRanges(i),1)},Q.regexp_nonEmptyClassRanges=function(i){for(;this.regexp_eatClassAtom(i);){var a=i.lastIntValue;if(i.eat(45)&&this.regexp_eatClassAtom(i)){var m=i.lastIntValue;i.switchU&&(-1===a||-1===m)&&i.raise("Invalid character class"),-1!==a&&-1!==m&&a>m&&i.raise("Range out of order in character class")}}},Q.regexp_eatClassAtom=function(i){var a=i.pos;if(i.eat(92)){if(this.regexp_eatClassEscape(i))return!0;if(i.switchU){var m=i.current();(99===m||Le(m))&&i.raise("Invalid class escape"),i.raise("Invalid escape")}i.pos=a}var I=i.current();return 93!==I&&(i.lastIntValue=I,i.advance(),!0)},Q.regexp_eatClassEscape=function(i){var a=i.pos;if(i.eat(98))return i.lastIntValue=8,!0;if(i.switchU&&i.eat(45))return i.lastIntValue=45,!0;if(!i.switchU&&i.eat(99)){if(this.regexp_eatClassControlLetter(i))return!0;i.pos=a}return this.regexp_eatCharacterClassEscape(i)||this.regexp_eatCharacterEscape(i)},Q.regexp_classSetExpression=function(i){var m,a=1;if(!this.regexp_eatClassSetRange(i))if(m=this.regexp_eatClassSetOperand(i)){2===m&&(a=2);for(var I=i.pos;i.eatChars([38,38]);)38!==i.current()&&(m=this.regexp_eatClassSetOperand(i))?2!==m&&(a=1):i.raise("Invalid character in character class");if(I!==i.pos)return a;for(;i.eatChars([45,45]);)this.regexp_eatClassSetOperand(i)||i.raise("Invalid character in character class");if(I!==i.pos)return a}else i.raise("Invalid character in character class");for(;;)if(!this.regexp_eatClassSetRange(i)){if(!(m=this.regexp_eatClassSetOperand(i)))return a;2===m&&(a=2)}},Q.regexp_eatClassSetRange=function(i){var a=i.pos;if(this.regexp_eatClassSetCharacter(i)){var m=i.lastIntValue;if(i.eat(45)&&this.regexp_eatClassSetCharacter(i)){var I=i.lastIntValue;return-1!==m&&-1!==I&&m>I&&i.raise("Range out of order in character class"),!0}i.pos=a}return!1},Q.regexp_eatClassSetOperand=function(i){return this.regexp_eatClassSetCharacter(i)?1:this.regexp_eatClassStringDisjunction(i)||this.regexp_eatNestedClass(i)},Q.regexp_eatNestedClass=function(i){var a=i.pos;if(i.eat(91)){var m=i.eat(94),I=this.regexp_classContents(i);if(i.eat(93))return m&&2===I&&i.raise("Negated character class may contain strings"),I;i.pos=a}if(i.eat(92)){var L=this.regexp_eatCharacterClassEscape(i);if(L)return L;i.pos=a}return null},Q.regexp_eatClassStringDisjunction=function(i){var a=i.pos;if(i.eatChars([92,113])){if(i.eat(123)){var m=this.regexp_classStringDisjunctionContents(i);if(i.eat(125))return m}else i.raise("Invalid escape");i.pos=a}return null},Q.regexp_classStringDisjunctionContents=function(i){for(var a=this.regexp_classString(i);i.eat(124);)2===this.regexp_classString(i)&&(a=2);return a},Q.regexp_classString=function(i){for(var a=0;this.regexp_eatClassSetCharacter(i);)a++;return 1===a?1:2},Q.regexp_eatClassSetCharacter=function(i){var a=i.pos;if(i.eat(92))return!(!this.regexp_eatCharacterEscape(i)&&!this.regexp_eatClassSetReservedPunctuator(i)&&(i.eat(98)?(i.lastIntValue=8,0):(i.pos=a,1)));var m=i.current();return!(m<0||m===i.lookahead()&&function Se(i){return 33===i||i>=35&&i<=38||i>=42&&i<=44||46===i||i>=58&&i<=64||94===i||96===i||126===i}(m)||function Be(i){return 40===i||41===i||45===i||47===i||i>=91&&i<=93||i>=123&&i<=125}(m)||(i.advance(),i.lastIntValue=m,0))},Q.regexp_eatClassSetReservedPunctuator=function(i){var a=i.current();return!!function Pe(i){return 33===i||35===i||37===i||38===i||44===i||45===i||i>=58&&i<=62||64===i||96===i||126===i}(a)&&(i.lastIntValue=a,i.advance(),!0)},Q.regexp_eatClassControlLetter=function(i){var a=i.current();return!(!_e(a)&&95!==a||(i.lastIntValue=a%32,i.advance(),0))},Q.regexp_eatHexEscapeSequence=function(i){var a=i.pos;if(i.eat(120)){if(this.regexp_eatFixedHexDigits(i,2))return!0;i.switchU&&i.raise("Invalid escape"),i.pos=a}return!1},Q.regexp_eatDecimalDigits=function(i){var a=i.pos,m=0;for(i.lastIntValue=0;_e(m=i.current());)i.lastIntValue=10*i.lastIntValue+(m-48),i.advance();return i.pos!==a},Q.regexp_eatHexDigits=function(i){var a=i.pos,m=0;for(i.lastIntValue=0;pe(m=i.current());)i.lastIntValue=16*i.lastIntValue+ve(m),i.advance();return i.pos!==a},Q.regexp_eatLegacyOctalEscapeSequence=function(i){if(this.regexp_eatOctalDigit(i)){var a=i.lastIntValue;if(this.regexp_eatOctalDigit(i)){var m=i.lastIntValue;i.lastIntValue=a<=3&&this.regexp_eatOctalDigit(i)?64*a+8*m+i.lastIntValue:8*a+m}else i.lastIntValue=a;return!0}return!1},Q.regexp_eatOctalDigit=function(i){var a=i.current();return Le(a)?(i.lastIntValue=a-48,i.advance(),!0):(i.lastIntValue=0,!1)},Q.regexp_eatFixedHexDigits=function(i,a){var m=i.pos;i.lastIntValue=0;for(var I=0;I<a;++I){var L=i.current();if(!pe(L))return i.pos=m,!1;i.lastIntValue=16*i.lastIntValue+ve(L),i.advance()}return!0};var me=function(a){this.type=a.type,this.value=a.value,this.start=a.start,this.end=a.end,a.options.locations&&(this.loc=new ue(a,a.startLoc,a.endLoc)),a.options.ranges&&(this.range=[a.start,a.end])},Ot=Wt.prototype;function ci(i){return"function"!=typeof BigInt?null:BigInt(i.replace(/_/g,""))}Ot.next=function(i){!i&&this.type.keyword&&this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword "+this.type.keyword),this.options.onToken&&this.options.onToken(new me(this)),this.lastTokEnd=this.end,this.lastTokStart=this.start,this.lastTokEndLoc=this.endLoc,this.lastTokStartLoc=this.startLoc,this.nextToken()},Ot.getToken=function(){return this.next(),new me(this)},typeof Symbol<"u"&&(Ot[Symbol.iterator]=function(){var i=this;return{next:function(){var a=i.getToken();return{done:a.type===A.eof,value:a}}}}),Ot.nextToken=function(){var i=this.curContext();return(!i||!i.preserveSpace)&&this.skipSpace(),this.start=this.pos,this.options.locations&&(this.startLoc=this.curPosition()),this.pos>=this.input.length?this.finishToken(A.eof):i.override?i.override(this):void this.readToken(this.fullCharCodeAtPos())},Ot.readToken=function(i){return ce(i,this.options.ecmaVersion>=6)||92===i?this.readWord():this.getTokenFromCode(i)},Ot.fullCharCodeAtPos=function(){var i=this.input.charCodeAt(this.pos);if(i<=55295||i>=56320)return i;var a=this.input.charCodeAt(this.pos+1);return a<=56319||a>=57344?i:(i<<10)+a-56613888},Ot.skipBlockComment=function(){var i=this.options.onComment&&this.curPosition(),a=this.pos,m=this.input.indexOf("*/",this.pos+=2);if(-1===m&&this.raise(this.pos-2,"Unterminated comment"),this.pos=m+2,this.options.locations)for(var I=void 0,L=a;(I=F(this.input,L,this.pos))>-1;)++this.curLine,L=this.lineStart=I;this.options.onComment&&this.options.onComment(!0,this.input.slice(a+2,m),a,this.pos,i,this.curPosition())},Ot.skipLineComment=function(i){for(var a=this.pos,m=this.options.onComment&&this.curPosition(),I=this.input.charCodeAt(this.pos+=i);this.pos<this.input.length&&!At(I);)I=this.input.charCodeAt(++this.pos);this.options.onComment&&this.options.onComment(!1,this.input.slice(a+i,this.pos),a,this.pos,m,this.curPosition())},Ot.skipSpace=function(){t:for(;this.pos<this.input.length;){var i=this.input.charCodeAt(this.pos);switch(i){case 32:case 160:++this.pos;break;case 13:10===this.input.charCodeAt(this.pos+1)&&++this.pos;case 10:case 8232:case 8233:++this.pos,this.options.locations&&(++this.curLine,this.lineStart=this.pos);break;case 47:switch(this.input.charCodeAt(this.pos+1)){case 42:this.skipBlockComment();break;case 47:this.skipLineComment(2);break;default:break t}break;default:if(!(i>8&&i<14||i>=5760&&$.test(String.fromCharCode(i))))break t;++this.pos}}},Ot.finishToken=function(i,a){this.end=this.pos,this.options.locations&&(this.endLoc=this.curPosition());var m=this.type;this.type=i,this.value=a,this.updateContext(m)},Ot.readToken_dot=function(){var i=this.input.charCodeAt(this.pos+1);if(i>=48&&i<=57)return this.readNumber(!0);var a=this.input.charCodeAt(this.pos+2);return this.options.ecmaVersion>=6&&46===i&&46===a?(this.pos+=3,this.finishToken(A.ellipsis)):(++this.pos,this.finishToken(A.dot))},Ot.readToken_slash=function(){var i=this.input.charCodeAt(this.pos+1);return this.exprAllowed?(++this.pos,this.readRegexp()):61===i?this.finishOp(A.assign,2):this.finishOp(A.slash,1)},Ot.readToken_mult_modulo_exp=function(i){var a=this.input.charCodeAt(this.pos+1),m=1,I=42===i?A.star:A.modulo;return this.options.ecmaVersion>=7&&42===i&&42===a&&(++m,I=A.starstar,a=this.input.charCodeAt(this.pos+2)),61===a?this.finishOp(A.assign,m+1):this.finishOp(I,m)},Ot.readToken_pipe_amp=function(i){var a=this.input.charCodeAt(this.pos+1);return a===i?this.options.ecmaVersion>=12&&61===this.input.charCodeAt(this.pos+2)?this.finishOp(A.assign,3):this.finishOp(124===i?A.logicalOR:A.logicalAND,2):61===a?this.finishOp(A.assign,2):this.finishOp(124===i?A.bitwiseOR:A.bitwiseAND,1)},Ot.readToken_caret=function(){return 61===this.input.charCodeAt(this.pos+1)?this.finishOp(A.assign,2):this.finishOp(A.bitwiseXOR,1)},Ot.readToken_plus_min=function(i){var a=this.input.charCodeAt(this.pos+1);return a===i?45!==a||this.inModule||62!==this.input.charCodeAt(this.pos+2)||0!==this.lastTokEnd&&!pt.test(this.input.slice(this.lastTokEnd,this.pos))?this.finishOp(A.incDec,2):(this.skipLineComment(3),this.skipSpace(),this.nextToken()):61===a?this.finishOp(A.assign,2):this.finishOp(A.plusMin,1)},Ot.readToken_lt_gt=function(i){var a=this.input.charCodeAt(this.pos+1),m=1;return a===i?(m=62===i&&62===this.input.charCodeAt(this.pos+2)?3:2,61===this.input.charCodeAt(this.pos+m)?this.finishOp(A.assign,m+1):this.finishOp(A.bitShift,m)):33!==a||60!==i||this.inModule||45!==this.input.charCodeAt(this.pos+2)||45!==this.input.charCodeAt(this.pos+3)?(61===a&&(m=2),this.finishOp(A.relational,m)):(this.skipLineComment(4),this.skipSpace(),this.nextToken())},Ot.readToken_eq_excl=function(i){var a=this.input.charCodeAt(this.pos+1);return 61===a?this.finishOp(A.equality,61===this.input.charCodeAt(this.pos+2)?3:2):61===i&&62===a&&this.options.ecmaVersion>=6?(this.pos+=2,this.finishToken(A.arrow)):this.finishOp(61===i?A.eq:A.prefix,1)},Ot.readToken_question=function(){var i=this.options.ecmaVersion;if(i>=11){var a=this.input.charCodeAt(this.pos+1);if(46===a){var m=this.input.charCodeAt(this.pos+2);if(m<48||m>57)return this.finishOp(A.questionDot,2)}if(63===a)return i>=12&&61===this.input.charCodeAt(this.pos+2)?this.finishOp(A.assign,3):this.finishOp(A.coalesce,2)}return this.finishOp(A.question,1)},Ot.readToken_numberSign=function(){var a=35;if(this.options.ecmaVersion>=13&&(++this.pos,ce(a=this.fullCharCodeAtPos(),!0)||92===a))return this.finishToken(A.privateId,this.readWord1());this.raise(this.pos,"Unexpected character '"+_t(a)+"'")},Ot.getTokenFromCode=function(i){switch(i){case 46:return this.readToken_dot();case 40:return++this.pos,this.finishToken(A.parenL);case 41:return++this.pos,this.finishToken(A.parenR);case 59:return++this.pos,this.finishToken(A.semi);case 44:return++this.pos,this.finishToken(A.comma);case 91:return++this.pos,this.finishToken(A.bracketL);case 93:return++this.pos,this.finishToken(A.bracketR);case 123:return++this.pos,this.finishToken(A.braceL);case 125:return++this.pos,this.finishToken(A.braceR);case 58:return++this.pos,this.finishToken(A.colon);case 96:if(this.options.ecmaVersion<6)break;return++this.pos,this.finishToken(A.backQuote);case 48:var a=this.input.charCodeAt(this.pos+1);if(120===a||88===a)return this.readRadixNumber(16);if(this.options.ecmaVersion>=6){if(111===a||79===a)return this.readRadixNumber(8);if(98===a||66===a)return this.readRadixNumber(2)}case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return this.readNumber(!1);case 34:case 39:return this.readString(i);case 47:return this.readToken_slash();case 37:case 42:return this.readToken_mult_modulo_exp(i);case 124:case 38:return this.readToken_pipe_amp(i);case 94:return this.readToken_caret();case 43:case 45:return this.readToken_plus_min(i);case 60:case 62:return this.readToken_lt_gt(i);case 61:case 33:return this.readToken_eq_excl(i);case 63:return this.readToken_question();case 126:return this.finishOp(A.prefix,1);case 35:return this.readToken_numberSign()}this.raise(this.pos,"Unexpected character '"+_t(i)+"'")},Ot.finishOp=function(i,a){var m=this.input.slice(this.pos,this.pos+a);return this.pos+=a,this.finishToken(i,m)},Ot.readRegexp=function(){for(var i,a,m=this.pos;;){this.pos>=this.input.length&&this.raise(m,"Unterminated regular expression");var I=this.input.charAt(this.pos);if(pt.test(I)&&this.raise(m,"Unterminated regular expression"),i)i=!1;else{if("["===I)a=!0;else if("]"===I&&a)a=!1;else if("/"===I&&!a)break;i="\\"===I}++this.pos}var L=this.input.slice(m,this.pos);++this.pos;var W=this.pos,j=this.readWord1();this.containsEsc&&this.unexpected(W);var st=this.regexpState||(this.regexpState=new gt(this));st.reset(m,L,j),this.validateRegExpFlags(st),this.validateRegExpPattern(st);var ht=null;try{ht=new RegExp(L,j)}catch{}return this.finishToken(A.regexp,{pattern:L,flags:j,value:ht})},Ot.readInt=function(i,a,m){for(var I=this.options.ecmaVersion>=12&&void 0===a,L=m&&48===this.input.charCodeAt(this.pos),W=this.pos,j=0,st=0,ht=0,Pt=null==a?1/0:a;ht<Pt;++ht,++this.pos){var Nt=this.input.charCodeAt(this.pos),Yt=void 0;if(I&&95===Nt)L&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed in legacy octal numeric literals"),95===st&&this.raiseRecoverable(this.pos,"Numeric separator must be exactly one underscore"),0===ht&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed at the first of digits"),st=Nt;else{if((Yt=Nt>=97?Nt-97+10:Nt>=65?Nt-65+10:Nt>=48&&Nt<=57?Nt-48:1/0)>=i)break;st=Nt,j=j*i+Yt}}return I&&95===st&&this.raiseRecoverable(this.pos-1,"Numeric separator is not allowed at the last of digits"),this.pos===W||null!=a&&this.pos-W!==a?null:j},Ot.readRadixNumber=function(i){var a=this.pos;this.pos+=2;var m=this.readInt(i);return null==m&&this.raise(this.start+2,"Expected number in radix "+i),this.options.ecmaVersion>=11&&110===this.input.charCodeAt(this.pos)?(m=ci(this.input.slice(a,this.pos)),++this.pos):ce(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(A.num,m)},Ot.readNumber=function(i){var a=this.pos;!i&&null===this.readInt(10,void 0,!0)&&this.raise(a,"Invalid number");var m=this.pos-a>=2&&48===this.input.charCodeAt(a);m&&this.strict&&this.raise(a,"Invalid number");var I=this.input.charCodeAt(this.pos);if(!m&&!i&&this.options.ecmaVersion>=11&&110===I){var L=ci(this.input.slice(a,this.pos));return++this.pos,ce(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(A.num,L)}m&&/[89]/.test(this.input.slice(a,this.pos))&&(m=!1),46===I&&!m&&(++this.pos,this.readInt(10),I=this.input.charCodeAt(this.pos)),(69===I||101===I)&&!m&&((43===(I=this.input.charCodeAt(++this.pos))||45===I)&&++this.pos,null===this.readInt(10)&&this.raise(a,"Invalid number")),ce(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number");var W=function Ii(i,a){return a?parseInt(i,8):parseFloat(i.replace(/_/g,""))}(this.input.slice(a,this.pos),m);return this.finishToken(A.num,W)},Ot.readCodePoint=function(){var a;if(123===this.input.charCodeAt(this.pos)){this.options.ecmaVersion<6&&this.unexpected();var m=++this.pos;a=this.readHexChar(this.input.indexOf("}",this.pos)-this.pos),++this.pos,a>1114111&&this.invalidStringToken(m,"Code point out of bounds")}else a=this.readHexChar(4);return a},Ot.readString=function(i){for(var a="",m=++this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated string constant");var I=this.input.charCodeAt(this.pos);if(I===i)break;92===I?(a+=this.input.slice(m,this.pos),a+=this.readEscapedChar(!1),m=this.pos):8232===I||8233===I?(this.options.ecmaVersion<10&&this.raise(this.start,"Unterminated string constant"),++this.pos,this.options.locations&&(this.curLine++,this.lineStart=this.pos)):(At(I)&&this.raise(this.start,"Unterminated string constant"),++this.pos)}return a+=this.input.slice(m,this.pos++),this.finishToken(A.string,a)};var di={};Ot.tryReadTemplateToken=function(){this.inTemplateElement=!0;try{this.readTmplToken()}catch(i){if(i!==di)throw i;this.readInvalidTemplateToken()}this.inTemplateElement=!1},Ot.invalidStringToken=function(i,a){if(this.inTemplateElement&&this.options.ecmaVersion>=9)throw di;this.raise(i,a)},Ot.readTmplToken=function(){for(var i="",a=this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated template");var m=this.input.charCodeAt(this.pos);if(96===m||36===m&&123===this.input.charCodeAt(this.pos+1))return this.pos!==this.start||this.type!==A.template&&this.type!==A.invalidTemplate?(i+=this.input.slice(a,this.pos),this.finishToken(A.template,i)):36===m?(this.pos+=2,this.finishToken(A.dollarBraceL)):(++this.pos,this.finishToken(A.backQuote));if(92===m)i+=this.input.slice(a,this.pos),i+=this.readEscapedChar(!0),a=this.pos;else if(At(m)){switch(i+=this.input.slice(a,this.pos),++this.pos,m){case 13:10===this.input.charCodeAt(this.pos)&&++this.pos;case 10:i+="\n";break;default:i+=String.fromCharCode(m)}this.options.locations&&(++this.curLine,this.lineStart=this.pos),a=this.pos}else++this.pos}},Ot.readInvalidTemplateToken=function(){for(;this.pos<this.input.length;this.pos++)switch(this.input[this.pos]){case"\\":++this.pos;break;case"$":if("{"!==this.input[this.pos+1])break;case"`":return this.finishToken(A.invalidTemplate,this.input.slice(this.start,this.pos))}this.raise(this.start,"Unterminated template")},Ot.readEscapedChar=function(i){var a=this.input.charCodeAt(++this.pos);switch(++this.pos,a){case 110:return"\n";case 114:return"\r";case 120:return String.fromCharCode(this.readHexChar(2));case 117:return _t(this.readCodePoint());case 116:return"\t";case 98:return"\b";case 118:return"\v";case 102:return"\f";case 13:10===this.input.charCodeAt(this.pos)&&++this.pos;case 10:return this.options.locations&&(this.lineStart=this.pos,++this.curLine),"";case 56:case 57:this.strict&&this.invalidStringToken(this.pos-1,"Invalid escape sequence"),i&&this.invalidStringToken(this.pos-1,"Invalid escape sequence in template string");default:if(a>=48&&a<=55){var I=this.input.substr(this.pos-1,3).match(/^[0-7]+/)[0],L=parseInt(I,8);return L>255&&(I=I.slice(0,-1),L=parseInt(I,8)),this.pos+=I.length-1,a=this.input.charCodeAt(this.pos),("0"!==I||56===a||57===a)&&(this.strict||i)&&this.invalidStringToken(this.pos-1-I.length,i?"Octal literal in template string":"Octal literal in strict mode"),String.fromCharCode(L)}return At(a)?"":String.fromCharCode(a)}},Ot.readHexChar=function(i){var a=this.pos,m=this.readInt(16,i);return null===m&&this.invalidStringToken(a,"Bad character escape sequence"),m},Ot.readWord1=function(){this.containsEsc=!1;for(var i="",a=!0,m=this.pos,I=this.options.ecmaVersion>=6;this.pos<this.input.length;){var L=this.fullCharCodeAtPos();if(Ce(L,I))this.pos+=L<=65535?1:2;else{if(92!==L)break;this.containsEsc=!0,i+=this.input.slice(m,this.pos);var W=this.pos;117!==this.input.charCodeAt(++this.pos)&&this.invalidStringToken(this.pos,"Expecting Unicode escape sequence \\uXXXX"),++this.pos;var j=this.readCodePoint();(a?ce:Ce)(j,I)||this.invalidStringToken(W,"Invalid Unicode escape"),i+=_t(j),m=this.pos}a=!1}return i+this.input.slice(m,this.pos)},Ot.readWord=function(){var i=this.readWord1(),a=A.name;return this.keywords.test(i)&&(a=be[i]),this.finishToken(a,i)};Wt.acorn={Parser:Wt,version:"8.11.3",defaultOptions:Rt,Position:ut,SourceLocation:ue,getLineInfo:ke,Node:b,TokenType:xt,tokTypes:A,keywordTypes:be,TokContext:f,tokContexts:p,isIdentifierChar:Ce,isIdentifierStart:ce,Token:me,isNewLine:At,lineBreak:pt,lineBreakG:qe,nonASCIIwhitespace:$},St.Node=b,St.Parser=Wt,St.Position=ut,St.SourceLocation=ue,St.TokContext=f,St.Token=me,St.TokenType=xt,St.defaultOptions=Rt,St.getLineInfo=ke,St.isIdentifierChar=Ce,St.isIdentifierStart=ce,St.isNewLine=At,St.keywordTypes=be,St.lineBreak=pt,St.lineBreakG=qe,St.nonASCIIwhitespace=$,St.parse=function Pi(i,a){return Wt.parse(i,a)},St.parseExpressionAt=function ai(i,a,m){return Wt.parseExpressionAt(i,a,m)},St.tokContexts=p,St.tokTypes=A,St.tokenizer=function gi(i,a){return Wt.tokenizer(i,a)},St.version="8.11.3"}(ei)},5499:function(li,ei,St){var Gt,ye,Ee;(function(jt,ot){var qt=(jt=jt||St(2965)).window,et=jt.document,V=new function(){var t=/^(statics|enumerable|beans|preserve)$/,e=[],n=e.slice,r=Object.create,s=Object.getOwnPropertyDescriptor,u=Object.defineProperty,h=e.forEach||function(c,g){for(var k=0,x=this.length;k<x;k++)c.call(g,this[k],k,this)},o=function(c,g){for(var k in this)this.hasOwnProperty(k)&&c.call(g,this[k],k,this)},l=Object.assign||function(c){for(var g=1,k=arguments.length;g<k;g++){var x=arguments[g];for(var C in x)x.hasOwnProperty(C)&&(c[C]=x[C])}return c},f=function(c,g,k){if(c){var x=s(c,"length");(x&&"number"==typeof x.value?h:o).call(c,g,k=k||c)}return k};function p(c,g,k,x,C){var _={};function b(w,E){"string"==typeof(E=E||(E=s(g,w))&&(E.get?E:E.value))&&"#"===E[0]&&(E=c[E.substring(1)]||E);var M,T="function"==typeof E,O=E,B=C||T&&!E.base?E&&E.get?w in c:c[w]:null;(!C||!B)&&(T&&B&&(E.base=B),T&&!1!==x&&(M=w.match(/^([gs]et|is)(([A-Z])(.*))$/))&&(_[M[3].toLowerCase()+M[4]]=M[2]),(!O||T||!O.get||"function"!=typeof O.get||!v.isPlainObject(O))&&(O={value:O,writable:!0}),(s(c,w)||{configurable:!0}).configurable&&(O.configurable=!0,O.enumerable=null!=k?k:!M),u(c,w,O))}if(g){for(var d in g)g.hasOwnProperty(d)&&!t.test(d)&&b(d);for(var d in _){var y=_[d],S=c["set"+y],P=c["get"+y]||S&&c["is"+y];P&&(!0===x||0===P.length)&&b(d,{get:P,set:S})}}return c}function v(){for(var c=0,g=arguments.length;c<g;c++){var k=arguments[c];k&&l(this,k)}return this}return p(v,{inject:function(c){if(c){var g=!0===c.statics?c:c.statics,k=c.beans,x=c.preserve;g!==c&&p(this.prototype,c,c.enumerable,k,x),p(this,g,null,k,x)}for(var C=1,_=arguments.length;C<_;C++)this.inject(arguments[C]);return this},extend:function(){for(var g,k,C,c=this,x=0,_=arguments.length;x<_&&(!g||!k);x++)C=arguments[x],g=g||C.initialize,k=k||C.prototype;return g=g||function(){c.apply(this,arguments)},k=g.prototype=k||r(this.prototype),u(k,"constructor",{value:g,writable:!0,configurable:!0}),p(g,this),arguments.length&&this.inject.apply(g,arguments),g.base=c,g}}).inject({enumerable:!1,initialize:v,set:v,inject:function(){for(var c=0,g=arguments.length;c<g;c++){var k=arguments[c];k&&p(this,k,k.enumerable,k.beans,k.preserve)}return this},extend:function(){var c=r(this);return c.inject.apply(c,arguments)},each:function(c,g){return f(this,c,g)},clone:function(){return new this.constructor(this)},statics:{set:l,each:f,create:r,define:u,describe:s,clone:function(c){return l(new c.constructor,c)},isPlainObject:function(c){var g=null!=c&&c.constructor;return g&&(g===Object||g===v||"Object"===g.name)},pick:function(c,g){return c!==ot?c:g},slice:function(c,g,k){return n.call(c,g,k)}}})};li.exports=V,V.inject({enumerable:!1,toString:function(){return null!=this._id?(this._class||"Object")+(this._name?" '"+this._name+"'":" @"+this._id):"{ "+V.each(this,function(t,e){if(!/^_/.test(e)){var n=typeof t;this.push(e+": "+("number"===n?xt.instance.number(t):"string"===n?"'"+t+"'":t))}},[]).join(", ")+" }"},getClassName:function(){return this._class||""},importJSON:function(t){return V.importJSON(t,this)},exportJSON:function(t){return V.exportJSON(this,t)},toJSON:function(){return V.serialize(this)},set:function(t,e){return t&&V.filter(this,t,e,this._prioritize),this}},{beans:!1,statics:{exports:{},extend:function t(){var e=t.base.apply(this,arguments),n=e.prototype._class;return n&&!V.exports[n]&&(V.exports[n]=e),e},equals:function(t,e){if(t===e)return!0;if(t&&t.equals)return t.equals(e);if(e&&e.equals)return e.equals(t);if(t&&e&&"object"==typeof t&&"object"==typeof e){if(Array.isArray(t)&&Array.isArray(e)){if((n=t.length)!==e.length)return!1;for(;n--;)if(!V.equals(t[n],e[n]))return!1}else{var n,r=Object.keys(t);if((n=r.length)!==Object.keys(e).length)return!1;for(;n--;){var s=r[n];if(!e.hasOwnProperty(s)||!V.equals(t[s],e[s]))return!1}}return!0}return!1},read:function(t,e,n,r){if(this===V){var s=this.peek(t,e);return t.__index++,s}var u=this.prototype,h=u._readIndex,o=e||h&&t.__index||0,l=t.length,f=t[o];if(r=r||l-o,f instanceof this||n&&n.readNull&&null==f&&r<=1)return h&&(t.__index=o+1),f&&n&&n.clone?f.clone():f;if(f=V.create(u),h&&(f.__read=!0),f=f.initialize.apply(f,o>0||o+r<l?V.slice(t,o,o+r):t)||f,h){t.__index=o+f.__read;var p=f.__filtered;p&&(t.__filtered=p,f.__filtered=ot),f.__read=ot}return f},peek:function(t,e){return t[t.__index=e||t.__index||0]},remain:function(t){return t.length-(t.__index||0)},readList:function(t,e,n,r){for(var u,s=[],h=e||0,o=r?h+r:t.length,l=h;l<o;l++)s.push(Array.isArray(u=t[l])?this.read(u,0,n):this.read(t,l,n,1));return s},readNamed:function(t,e,n,r,s){var u=this.getNamed(t,e),h=u!==ot;if(h){var o=t.__filtered;if(!o){var l=this.getSource(t);(o=t.__filtered=V.create(l)).__unfiltered=l}o[e]=ot}return this.read(h?[u]:t,n,r,s)},readSupported:function(t,e){var n=this.getSource(t),r=this,s=!1;return n&&Object.keys(n).forEach(function(u){if(u in e){var h=r.readNamed(t,u);h!==ot&&(e[u]=h),s=!0}}),s},getSource:function(t){var e=t.__source;if(e===ot){var n=1===t.length&&t[0];e=t.__source=n&&V.isPlainObject(n)?n:null}return e},getNamed:function(t,e){var n=this.getSource(t);if(n)return e?n[e]:t.__filtered||n},hasNamed:function(t,e){return!!this.getNamed(t,e)},filter:function(t,e,n,r){var s;function u(p){if(!(n&&p in n||s&&p in s)){var v=e[p];v!==ot&&(t[p]=v)}}if(r){for(var l,h={},o=0,f=r.length;o<f;o++)(l=r[o])in e&&(u(l),h[l]=!0);s=h}return Object.keys(e.__unfiltered||e).forEach(u),t},isPlainValue:function(t,e){return V.isPlainObject(t)||Array.isArray(t)||e&&"string"==typeof t},serialize:function(t,e,n,r){e=e||{};var u,s=!r;if(s&&(e.formatter=new xt(e.precision),r={length:0,definitions:{},references:{},add:function(v,c){var g="#"+v._id,k=this.references[g];if(!k){this.length++;var x=c.call(v),C=v._class;C&&x[0]!==C&&x.unshift(C),this.definitions[g]=x,k=this.references[g]=[g]}return k}}),t&&t._serialize){u=t._serialize(e,r);var h=t._class;h&&!t._compactSerialize&&(s||!n)&&u[0]!==h&&u.unshift(h)}else if(Array.isArray(t)){u=[];for(var o=0,l=t.length;o<l;o++)u[o]=V.serialize(t[o],e,n,r)}else if(V.isPlainObject(t)){u={};var f=Object.keys(t);for(o=0,l=f.length;o<l;o++){var p=f[o];u[p]=V.serialize(t[p],e,n,r)}}else u="number"==typeof t?e.formatter.number(t,e.precision):t;return s&&r.length>0?[["dictionary",r.definitions],u]:u},deserialize:function(t,e,n,r,s){var u=t,h=!n,o=h&&t&&t.length&&"dictionary"===t[0][0];if(n=n||{},Array.isArray(t)){var l=t[0],f="dictionary"===l;if(1==t.length&&/^#/.test(l))return n.dictionary[l];u=[];for(var p=(l=V.exports[l])?1:0,v=t.length;p<v;p++)u.push(V.deserialize(t[p],e,n,f,o));if(l){var c=u;u=e?e(l,c,h||s):new l(c)}}else if(V.isPlainObject(t))for(var g in u={},r&&(n.dictionary=u),t)u[g]=V.deserialize(t[g],e,n);return o?u[1]:u},exportJSON:function(t,e){var n=V.serialize(t,e);return e&&0==e.asString?n:JSON.stringify(n)},importJSON:function(t,e){return V.deserialize("string"==typeof t?JSON.parse(t):t,function(n,r,s){var u=s&&e&&e.constructor===n,h=u?e:V.create(n.prototype);if(1===r.length&&h instanceof X&&(u||!(h instanceof Et))){var o=r[0];V.isPlainObject(o)&&(o.insert=!1,u&&(r=r.concat([X.INSERT])))}return(u?h.set:n).apply(h,r),u&&(e=null),h})},push:function(t,e){var n=e.length;if(n<4096)t.push.apply(t,e);else{var r=t.length;t.length+=n;for(var s=0;s<n;s++)t[r+s]=e[s]}return t},splice:function(t,e,n,r){var s=e&&e.length,u=n===ot;(n=u?t.length:n)>t.length&&(n=t.length);for(var h=0;h<s;h++)e[h]._index=n+h;if(u)return V.push(t,e),[];var o=[n,r];e&&V.push(o,e);for(var l=t.splice.apply(t,o),f=(h=0,l.length);h<f;h++)l[h]._index=ot;for(h=n+s,f=t.length;h<f;h++)t[h]._index=h;return l},capitalize:function(t){return t.replace(/\b[a-z]/g,function(e){return e.toUpperCase()})},camelize:function(t){return t.replace(/-(.)/g,function(e,n){return n.toUpperCase()})},hyphenate:function(t){return t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}}});var Ue={on:function(t,e){if("string"!=typeof t)V.each(t,function(u,h){this.on(h,u)},this);else{var n=this._eventTypes,r=n&&n[t],s=this._callbacks=this._callbacks||{};-1===(s=s[t]=s[t]||[]).indexOf(e)&&(s.push(e),r&&r.install&&1===s.length&&r.install.call(this,t))}return this},off:function(t,e){if("string"==typeof t){var u,n=this._eventTypes,r=n&&n[t],s=this._callbacks&&this._callbacks[t];return s&&(!e||-1!==(u=s.indexOf(e))&&1===s.length?(r&&r.uninstall&&r.uninstall.call(this,t),delete this._callbacks[t]):-1!==u&&s.splice(u,1)),this}V.each(t,function(h,o){this.off(o,h)},this)},once:function(t,e){return this.on(t,function n(){e.apply(this,arguments),this.off(t,n)})},emit:function(t,e){var n=this._callbacks&&this._callbacks[t];if(!n)return!1;var r=V.slice(arguments,1),s=e&&e.target&&!e.currentTarget;n=n.slice(),s&&(e.currentTarget=this);for(var u=0,h=n.length;u<h;u++)if(0==n[u].apply(this,r)){e&&e.stop&&e.stop();break}return s&&delete e.currentTarget,!0},responds:function(t){return!(!this._callbacks||!this._callbacks[t])},attach:"#on",detach:"#off",fire:"#emit",_installEvents:function(t){var e=this._eventTypes,n=this._callbacks,r=t?"install":"uninstall";if(e)for(var s in n)if(n[s].length>0){var u=e[s],h=u&&u[r];h&&h.call(this,s)}},statics:{inject:function t(e){var n=e._events;if(n){var r={};V.each(n,function(s,u){var h="string"==typeof s,o=h?s:u,l=V.capitalize(o),f=o.substring(2).toLowerCase();r[f]=h?{}:s,o="_"+o,e["get"+l]=function(){return this[o]},e["set"+l]=function(p){var v=this[o];v&&this.off(f,v),p&&this.on(f,p),this[o]=p}}),e._eventTypes=r}return t.base.apply(this,arguments)}}},he=V.extend({_class:"PaperScope",initialize:function t(){rt=this,this.settings=new V({applyMatrix:!0,insertItems:!0,handleSize:4,hitTolerance:0}),this.project=null,this.projects=[],this.tools=[],this._id=t._id++,t._scopes[this._id]=this;var e=t.prototype;if(!this.support){var n=zt.getContext(1,1)||{};e.support={nativeDash:"setLineDash"in n||"mozDash"in n,nativeBlendModes:oe.nativeModes},zt.release(n)}if(!this.agent){var r=jt.navigator.userAgent.toLowerCase(),s=(/(darwin|win|mac|linux|freebsd|sunos)/.exec(r)||[])[0],u="darwin"===s?"mac":s,h=e.agent=e.browser={platform:u};u&&(h[u]=!0),r.replace(/(opera|chrome|safari|webkit|firefox|msie|trident|atom|node|jsdom)\/?\s*([.\d]+)(?:.*version\/([.\d]+))?(?:.*rv\:v?([.\d]+))?/g,function(o,l,f,p,v){if(!h.chrome){var c="opera"===l?p:/^(node|trident)$/.test(l)?v:f;h.version=c,h.versionNumber=parseFloat(c),h.name=l={trident:"msie",jsdom:"node"}[l]||l,h[l]=!0}}),h.chrome&&delete h.webkit,h.atom&&delete h.chrome}},version:"0.12.17",getView:function(){var t=this.project;return t&&t._view},getPaper:function(){return this},execute:function(t,e){var n=rt.PaperScript.execute(t,this,e);return Ut.updateFocus(),n},install:function(t){var e=this;for(var n in V.each(["project","view","tool"],function(r){V.define(t,r,{configurable:!0,get:function(){return e[r]}})}),this)!/^_/.test(n)&&this[n]&&(t[n]=this[n])},setup:function(t){return rt=this,this.project=new $(t),this},createCanvas:function(t,e){return zt.getCanvas(t,e)},activate:function(){rt=this},clear:function(){for(var t=this.projects,e=this.tools,n=t.length-1;n>=0;n--)t[n].remove();for(n=e.length-1;n>=0;n--)e[n].remove()},remove:function(){this.clear(),delete he._scopes[this._id]},statics:new function(){function t(e){return e+="Attribute",function(n,r){return n[e](r)||n[e]("data-paper-"+r)}}return{_scopes:{},_id:0,get:function(e){return this._scopes[e]||null},getAttribute:t("get"),hasAttribute:t("has")}}}),ce=V.extend(Ue,{initialize:function(t){this._scope=rt,this._index=this._scope[this._list].push(this)-1,(t||!this._scope[this._reference])&&this.activate()},activate:function(){if(!this._scope)return!1;var t=this._scope[this._reference];return t&&t!==this&&t.emit("deactivate"),this._scope[this._reference]=this,this.emit("activate",t),!0},isActive:function(){return this._scope[this._reference]===this},remove:function(){return null!=this._index&&(V.splice(this._scope[this._list],null,this._index,1),this._scope[this._reference]==this&&(this._scope[this._reference]=null),this._scope=null,!0)},getView:function(){return this._scope.getView()}}),Ce={findItemBoundsCollisions:function(t,e,n){function r(h){for(var o=new Array(h.length),l=0;l<h.length;l++){var f=h[l].getBounds();o[l]=[f.left,f.top,f.right,f.bottom]}return o}var s=r(t),u=e&&e!==t?r(e):s;return this.findBoundsCollisions(s,u,n||0)},findCurveBoundsCollisions:function(t,e,n,r){function s(c){for(var g=Math.min,k=Math.max,x=new Array(c.length),C=0;C<c.length;C++){var _=c[C];x[C]=[g(_[0],_[2],_[4],_[6]),g(_[1],_[3],_[5],_[7]),k(_[0],_[2],_[4],_[6]),k(_[1],_[3],_[5],_[7])]}return x}var u=s(t),h=e&&e!==t?s(e):u;if(r){for(var o=this.findBoundsCollisions(u,h,n||0,!1,!0),l=this.findBoundsCollisions(u,h,n||0,!0,!0),f=[],p=0,v=o.length;p<v;p++)f[p]={hor:o[p],ver:l[p]};return f}return this.findBoundsCollisions(u,h,n||0)},findBoundsCollisions:function(t,e,n,r,s){var u=!e||t===e,h=u?t:t.concat(e),o=t.length,l=h.length;function f(it,lt,ft){for(var K=0,tt=it.length;K<tt;){var nt=tt+K>>>1;h[it[nt]][lt]<ft?K=nt+1:tt=nt}return K-1}for(var p=r?1:0,v=p+2,c=r?0:1,g=c+2,k=new Array(l),x=0;x<l;x++)k[x]=x;k.sort(function(it,lt){return h[it][p]-h[lt][p]});var C=[],_=new Array(o);for(x=0;x<l;x++){var b=k[x],d=h[b],y=u?b:b-o,S=b<o,P=u||!S,w=S?[]:null;if(C.length){var E=f(C,v,d[p]-n)+1;if(C.splice(0,E),u&&s){w=w.concat(C);for(var T=0;T<C.length;T++)_[O=C[T]].push(y)}else{var B=d[g],M=d[c];for(T=0;T<C.length;T++){var O,D=h[O=C[T]],R=O<o,z=u||O>=o;(s||(S&&z||P&&R)&&B>=D[c]-n&&M<=D[g]+n)&&(S&&z&&w.push(u?O:O-o),P&&R&&_[O].push(y))}}}if(S&&(t===e&&w.push(b),_[b]=w),C.length){var G=f(C,v,d[v]);C.splice(G+1,0,b)}else C.push(b)}for(x=0;x<_.length;x++){var Y=_[x];Y&&Y.sort(function(lt,ft){return lt-ft})}return _}},xt=V.extend({initialize:function(t){this.precision=V.pick(t,5),this.multiplier=Math.pow(10,this.precision)},number:function(t){return this.precision<16?Math.round(t*this.multiplier)/this.multiplier:t},pair:function(t,e,n){return this.number(t)+(n||",")+this.number(e)},point:function(t,e){return this.number(t.x)+(e||",")+this.number(t.y)},size:function(t,e){return this.number(t.width)+(e||",")+this.number(t.height)},rectangle:function(t,e){return this.point(t,e)+(e||",")+this.size(t,e)}});xt.instance=new xt;var wt=new function(){var t=[[.5773502691896257],[0,.7745966692414834],[.33998104358485626,.8611363115940526],[0,.5384693101056831,.906179845938664],[.2386191860831969,.6612093864662645,.932469514203152],[0,.4058451513773972,.7415311855993945,.9491079123427585],[.1834346424956498,.525532409916329,.7966664774136267,.9602898564975363],[0,.3242534234038089,.6133714327005904,.8360311073266358,.9681602395076261],[.14887433898163122,.4333953941292472,.6794095682990244,.8650633666889845,.9739065285171717],[0,.26954315595234496,.5190961292068118,.7301520055740494,.8870625997680953,.978228658146057],[.1252334085114689,.3678314989981802,.5873179542866175,.7699026741943047,.9041172563704749,.9815606342467192],[0,.2304583159551348,.44849275103644687,.6423493394403402,.8015780907333099,.9175983992229779,.9841830547185881],[.10805494870734367,.31911236892788974,.5152486363581541,.6872929048116855,.827201315069765,.9284348836635735,.9862838086968123],[0,.20119409399743451,.3941513470775634,.5709721726085388,.7244177313601701,.8482065834104272,.937273392400706,.9879925180204854],[.09501250983763744,.2816035507792589,.45801677765722737,.6178762444026438,.755404408355003,.8656312023878318,.9445750230732326,.9894009349916499]],e=[[1],[.8888888888888888,.5555555555555556],[.6521451548625461,.34785484513745385],[.5688888888888889,.47862867049936647,.23692688505618908],[.46791393457269104,.3607615730481386,.17132449237917036],[.4179591836734694,.3818300505051189,.27970539148927664,.1294849661688697],[.362683783378362,.31370664587788727,.22238103445337448,.10122853629037626],[.3302393550012598,.31234707704000286,.26061069640293544,.1806481606948574,.08127438836157441],[.29552422471475287,.26926671930999635,.21908636251598204,.1494513491505806,.06667134430868814],[.2729250867779006,.26280454451024665,.23319376459199048,.18629021092773426,.1255803694649046,.05566856711617366],[.24914704581340277,.2334925365383548,.20316742672306592,.16007832854334622,.10693932599531843,.04717533638651183],[.2325515532308739,.22628318026289723,.2078160475368885,.17814598076194574,.13887351021978725,.09212149983772845,.04048400476531588],[.2152638534631578,.2051984637212956,.18553839747793782,.15720316715819355,.12151857068790319,.08015808715976021,.03511946033175186],[.2025782419255613,.19843148532711158,.1861610000155622,.16626920581699392,.13957067792615432,.10715922046717194,.07036604748810812,.03075324199611727],[.1894506104550685,.18260341504492358,.16915651939500254,.14959598881657674,.12462897125553388,.09515851168249279,.062253523938647894,.027152459411754096]],n=Math.abs,r=Math.sqrt,s=Math.pow,u=Math.log2||function(v){return Math.log(v)*Math.LOG2E},h=1e-12,o=112e-18;function l(v,c,g){return v<c?c:v>g?g:v}function f(v,c,g){function k(E){var T=134217729*E,B=E-T+T;return[B,E-B]}var x=c*c-v*g,C=c*c+v*g;if(3*n(x)<C){var _=k(v),b=k(c),d=k(g),y=c*c,P=v*g;x=y-P+(b[0]*b[0]-y+2*b[0]*b[1]+b[1]*b[1]-(_[0]*d[0]-P+_[0]*d[1]+_[1]*d[0]+_[1]*d[1]))}return x}function p(){var v=Math.max.apply(Math,arguments);return v&&(v<1e-8||v>1e8)?s(2,-Math.round(u(v))):0}return{EPSILON:h,MACHINE_EPSILON:o,CURVETIME_EPSILON:1e-8,GEOMETRIC_EPSILON:1e-7,TRIGONOMETRIC_EPSILON:1e-8,ANGULAR_EPSILON:1e-5,KAPPA:4*(r(2)-1)/3,isZero:function(v){return v>=-h&&v<=h},isMachineZero:function(v){return v>=-o&&v<=o},clamp:l,integrate:function(v,c,g,k){for(var x=t[k-2],C=e[k-2],_=.5*(g-c),b=_+c,d=0,y=k+1>>1,S=1&k?C[d++]*v(b):0;d<y;){var P=_*x[d];S+=C[d++]*(v(b+P)+v(b-P))}return _*S},findRoot:function(v,c,g,k,x,C,_){for(var b=0;b<C;b++){var d=v(g),y=d/c(g),S=g-y;if(n(y)<_){g=S;break}d>0?(x=g,g=S<=k?.5*(k+x):S):(k=g,g=S>=x?.5*(k+x):S)}return l(g,k,x)},solveQuadratic:function(v,c,g,k,x,C){var _,b=1/0;if(n(v)<h){if(n(c)<h)return n(g)<h?-1:0;_=-g/c}else{var d=f(v,c*=-.5,g);if(d&&n(d)<o){var y=p(n(v),n(c),n(g));y&&(d=f(v*=y,c*=y,g*=y))}if(d>=-o){var S=d<0?0:r(d),P=c+(c<0?-S:S);0===P?b=-(_=g/v):(_=P/v,b=g/P)}}var w=0,E=null==x,T=x-h,O=C+h;return isFinite(_)&&(E||_>T&&_<O)&&(k[w++]=E?_:l(_,x,C)),b!==_&&isFinite(b)&&(E||b>T&&b<O)&&(k[w++]=E?b:l(b,x,C)),w},solveCubic:function(v,c,g,k,x,C,_){var d,y,S,P,w,b=p(n(v),n(c),n(g),n(k));function E(G){var Y=v*(d=G);P=(Y+(y=Y+c))*d+(S=y*d+g),w=S*d+k}if(b&&(v*=b,c*=b,g*=b,k*=b),n(v)<h)v=c,y=g,S=k,d=1/0;else if(n(k)<h)y=c,S=g,d=0;else{E(-c/v/3);var T=w/v,O=s(n(T),1/3),B=T<0?-1:1,M=-P/v,D=M>0?1.324717957244746*Math.max(O,r(M)):O,R=d-B*D;if(R!==d){do{E(R),R=0===P?d:d-w/P/(1+o)}while(B*R>B*d);n(v)*d*d>n(k/d)&&(y=((S=-k/d)-g)/d)}}var z=wt.solveQuadratic(v,y,S,x,C,_),H=null==C;return isFinite(d)&&(0===z||z>0&&d!==x[0]&&d!==x[1])&&(H||d>C-h&&d<_+h)&&(x[z++]=H?d:l(d,C,_)),z}}},ae={_id:1,_pools:{},get:function(t){if(t){var e=this._pools[t];return e||(e=this._pools[t]={_id:1}),e._id++}return this._id++}},q=V.extend({_class:"Point",_readIndex:!0,initialize:function(e,n){var r=typeof e,s=this.__read,u=0;if("number"===r){var h="number"==typeof n;this._set(e,h?n:e),s&&(u=h?2:1)}else if("undefined"===r||null===e)this._set(0,0),s&&(u=null===e?1:0);else{var o="string"===r?e.split(/[\s,]+/)||[]:e;u=1,Array.isArray(o)?this._set(+o[0],+(o.length>1?o[1]:o[0])):"x"in o?this._set(o.x||0,o.y||0):"width"in o?this._set(o.width||0,o.height||0):"angle"in o?(this._set(o.length||0,0),this.setAngle(o.angle||0)):(this._set(0,0),u=0)}return s&&(this.__read=u),this},set:"#initialize",_set:function(t,e){return this.x=t,this.y=e,this},equals:function(t){return this===t||t&&(this.x===t.x&&this.y===t.y||Array.isArray(t)&&this.x===t[0]&&this.y===t[1])||!1},clone:function(){return new q(this.x,this.y)},toString:function(){var t=xt.instance;return"{ x: "+t.number(this.x)+", y: "+t.number(this.y)+" }"},_serialize:function(t){var e=t.formatter;return[e.number(this.x),e.number(this.y)]},getLength:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},setLength:function(t){if(this.isZero()){var e=this._angle||0;this._set(Math.cos(e)*t,Math.sin(e)*t)}else{var n=t/this.getLength();wt.isZero(n)&&this.getAngle(),this._set(this.x*n,this.y*n)}},getAngle:function(){return 180*this.getAngleInRadians.apply(this,arguments)/Math.PI},setAngle:function(t){this.setAngleInRadians.call(this,t*Math.PI/180)},getAngleInDegrees:"#getAngle",setAngleInDegrees:"#setAngle",getAngleInRadians:function(){if(arguments.length){var t=q.read(arguments),e=this.getLength()*t.getLength();if(wt.isZero(e))return NaN;var n=this.dot(t)/e;return Math.acos(n<-1?-1:n>1?1:n)}return this.isZero()?this._angle||0:this._angle=Math.atan2(this.y,this.x)},setAngleInRadians:function(t){if(this._angle=t,!this.isZero()){var e=this.getLength();this._set(Math.cos(t)*e,Math.sin(t)*e)}},getQuadrant:function(){return this.x>=0?this.y>=0?1:4:this.y>=0?2:3}},{beans:!1,getDirectedAngle:function(){var t=q.read(arguments);return 180*Math.atan2(this.cross(t),this.dot(t))/Math.PI},getDistance:function(){var t=arguments,e=q.read(t),n=e.x-this.x,r=e.y-this.y,s=n*n+r*r;return V.read(t)?s:Math.sqrt(s)},normalize:function(t){t===ot&&(t=1);var e=this.getLength(),n=0!==e?t/e:0,r=new q(this.x*n,this.y*n);return n>=0&&(r._angle=this._angle),r},rotate:function(t,e){if(0===t)return this.clone();t=t*Math.PI/180;var n=e?this.subtract(e):this,r=Math.sin(t),s=Math.cos(t);return n=new q(n.x*s-n.y*r,n.x*r+n.y*s),e?n.add(e):n},transform:function(t){return t?t._transformPoint(this):this},add:function(){var t=q.read(arguments);return new q(this.x+t.x,this.y+t.y)},subtract:function(){var t=q.read(arguments);return new q(this.x-t.x,this.y-t.y)},multiply:function(){var t=q.read(arguments);return new q(this.x*t.x,this.y*t.y)},divide:function(){var t=q.read(arguments);return new q(this.x/t.x,this.y/t.y)},modulo:function(){var t=q.read(arguments);return new q(this.x%t.x,this.y%t.y)},negate:function(){return new q(-this.x,-this.y)},isInside:function(){return pt.read(arguments).contains(this)},isClose:function(){var t=arguments,e=q.read(t),n=V.read(t);return this.getDistance(e)<=n},isCollinear:function(){var t=q.read(arguments);return q.isCollinear(this.x,this.y,t.x,t.y)},isColinear:"#isCollinear",isOrthogonal:function(){var t=q.read(arguments);return q.isOrthogonal(this.x,this.y,t.x,t.y)},isZero:function(){var t=wt.isZero;return t(this.x)&&t(this.y)},isNaN:function(){return isNaN(this.x)||isNaN(this.y)},isInQuadrant:function(t){return this.x*(t>1&&t<4?-1:1)>=0&&this.y*(t>2?-1:1)>=0},dot:function(){var t=q.read(arguments);return this.x*t.x+this.y*t.y},cross:function(){var t=q.read(arguments);return this.x*t.y-this.y*t.x},project:function(){var t=q.read(arguments),e=t.isZero()?0:this.dot(t)/t.dot(t);return new q(t.x*e,t.y*e)},statics:{min:function(){var t=arguments,e=q.read(t),n=q.read(t);return new q(Math.min(e.x,n.x),Math.min(e.y,n.y))},max:function(){var t=arguments,e=q.read(t),n=q.read(t);return new q(Math.max(e.x,n.x),Math.max(e.y,n.y))},random:function(){return new q(Math.random(),Math.random())},isCollinear:function(t,e,n,r){return Math.abs(t*r-e*n)<=1e-8*Math.sqrt((t*t+e*e)*(n*n+r*r))},isOrthogonal:function(t,e,n,r){return Math.abs(t*n+e*r)<=1e-8*Math.sqrt((t*t+e*e)*(n*n+r*r))}}},V.each(["round","ceil","floor","abs"],function(t){var e=Math[t];this[t]=function(){return new q(e(this.x),e(this.y))}},{})),be=q.extend({initialize:function(e,n,r,s){this._x=e,this._y=n,this._owner=r,this._setter=s},_set:function(t,e,n){return this._x=t,this._y=e,n||this._owner[this._setter](this),this},getX:function(){return this._x},setX:function(t){this._x=t,this._owner[this._setter](this)},getY:function(){return this._y},setY:function(t){this._y=t,this._owner[this._setter](this)},isSelected:function(){return!!(this._owner._selection&this._getSelection())},setSelected:function(t){this._owner._changeSelection(this._getSelection(),t)},_getSelection:function(){return"setPosition"===this._setter?4:0}}),at=V.extend({_class:"Size",_readIndex:!0,initialize:function(e,n){var r=typeof e,s=this.__read,u=0;if("number"===r){var h="number"==typeof n;this._set(e,h?n:e),s&&(u=h?2:1)}else if("undefined"===r||null===e)this._set(0,0),s&&(u=null===e?1:0);else{var o="string"===r?e.split(/[\s,]+/)||[]:e;u=1,Array.isArray(o)?this._set(+o[0],+(o.length>1?o[1]:o[0])):"width"in o?this._set(o.width||0,o.height||0):"x"in o?this._set(o.x||0,o.y||0):(this._set(0,0),u=0)}return s&&(this.__read=u),this},set:"#initialize",_set:function(t,e){return this.width=t,this.height=e,this},equals:function(t){return t===this||t&&(this.width===t.width&&this.height===t.height||Array.isArray(t)&&this.width===t[0]&&this.height===t[1])||!1},clone:function(){return new at(this.width,this.height)},toString:function(){var t=xt.instance;return"{ width: "+t.number(this.width)+", height: "+t.number(this.height)+" }"},_serialize:function(t){var e=t.formatter;return[e.number(this.width),e.number(this.height)]},add:function(){var t=at.read(arguments);return new at(this.width+t.width,this.height+t.height)},subtract:function(){var t=at.read(arguments);return new at(this.width-t.width,this.height-t.height)},multiply:function(){var t=at.read(arguments);return new at(this.width*t.width,this.height*t.height)},divide:function(){var t=at.read(arguments);return new at(this.width/t.width,this.height/t.height)},modulo:function(){var t=at.read(arguments);return new at(this.width%t.width,this.height%t.height)},negate:function(){return new at(-this.width,-this.height)},isZero:function(){var t=wt.isZero;return t(this.width)&&t(this.height)},isNaN:function(){return isNaN(this.width)||isNaN(this.height)},statics:{min:function(t,e){return new at(Math.min(t.width,e.width),Math.min(t.height,e.height))},max:function(t,e){return new at(Math.max(t.width,e.width),Math.max(t.height,e.height))},random:function(){return new at(Math.random(),Math.random())}}},V.each(["round","ceil","floor","abs"],function(t){var e=Math[t];this[t]=function(){return new at(e(this.width),e(this.height))}},{})),A=at.extend({initialize:function(e,n,r,s){this._width=e,this._height=n,this._owner=r,this._setter=s},_set:function(t,e,n){return this._width=t,this._height=e,n||this._owner[this._setter](this),this},getWidth:function(){return this._width},setWidth:function(t){this._width=t,this._owner[this._setter](this)},getHeight:function(){return this._height},setHeight:function(t){this._height=t,this._owner[this._setter](this)}}),pt=V.extend({_class:"Rectangle",_readIndex:!0,beans:!0,initialize:function(e,n,r,s){var o,u=arguments,h=typeof e;if("number"===h?(this._set(e,n,r,s),o=4):"undefined"===h||null===e?(this._set(0,0,0,0),o=null===e?1:0):1===u.length&&(Array.isArray(e)?(this._set.apply(this,e),o=1):e.x!==ot||e.width!==ot?(this._set(e.x||0,e.y||0,e.width||0,e.height||0),o=1):e.from===ot&&e.to===ot&&(this._set(0,0,0,0),V.readSupported(u,this)&&(o=1))),o===ot){var c,g,l=q.readNamed(u,"from"),f=V.peek(u),p=l.x,v=l.y;if(f&&f.x!==ot||V.hasNamed(u,"to")){var k=q.readNamed(u,"to");(c=k.x-p)<0&&(p=k.x,c=-c),(g=k.y-v)<0&&(v=k.y,g=-g)}else{var x=at.read(u);c=x.width,g=x.height}this._set(p,v,c,g),o=u.__index}var C=u.__filtered;return C&&(this.__filtered=C),this.__read&&(this.__read=o),this},set:"#initialize",_set:function(t,e,n,r){return this.x=t,this.y=e,this.width=n,this.height=r,this},clone:function(){return new pt(this.x,this.y,this.width,this.height)},equals:function(t){var e=V.isPlainValue(t)?pt.read(arguments):t;return e===this||e&&this.x===e.x&&this.y===e.y&&this.width===e.width&&this.height===e.height||!1},toString:function(){var t=xt.instance;return"{ x: "+t.number(this.x)+", y: "+t.number(this.y)+", width: "+t.number(this.width)+", height: "+t.number(this.height)+" }"},_serialize:function(t){var e=t.formatter;return[e.number(this.x),e.number(this.y),e.number(this.width),e.number(this.height)]},getPoint:function(t){return new(t?q:be)(this.x,this.y,this,"setPoint")},setPoint:function(){var t=q.read(arguments);this.x=t.x,this.y=t.y},getSize:function(t){return new(t?at:A)(this.width,this.height,this,"setSize")},_fw:1,_fh:1,setSize:function(){var t=at.read(arguments),e=this._sx,n=this._sy,r=t.width,s=t.height;e&&(this.x+=(this.width-r)*e),n&&(this.y+=(this.height-s)*n),this.width=r,this.height=s,this._fw=this._fh=1},getLeft:function(){return this.x},setLeft:function(t){if(!this._fw){var e=t-this.x;this.width-=.5===this._sx?2*e:e}this.x=t,this._sx=this._fw=0},getTop:function(){return this.y},setTop:function(t){if(!this._fh){var e=t-this.y;this.height-=.5===this._sy?2*e:e}this.y=t,this._sy=this._fh=0},getRight:function(){return this.x+this.width},setRight:function(t){if(!this._fw){var e=t-this.x;this.width=.5===this._sx?2*e:e}this.x=t-this.width,this._sx=1,this._fw=0},getBottom:function(){return this.y+this.height},setBottom:function(t){if(!this._fh){var e=t-this.y;this.height=.5===this._sy?2*e:e}this.y=t-this.height,this._sy=1,this._fh=0},getCenterX:function(){return this.x+this.width/2},setCenterX:function(t){this._fw||.5===this._sx?this.x=t-this.width/2:(this._sx&&(this.x+=2*(t-this.x)*this._sx),this.width=2*(t-this.x)),this._sx=.5,this._fw=0},getCenterY:function(){return this.y+this.height/2},setCenterY:function(t){this._fh||.5===this._sy?this.y=t-this.height/2:(this._sy&&(this.y+=2*(t-this.y)*this._sy),this.height=2*(t-this.y)),this._sy=.5,this._fh=0},getCenter:function(t){return new(t?q:be)(this.getCenterX(),this.getCenterY(),this,"setCenter")},setCenter:function(){var t=q.read(arguments);return this.setCenterX(t.x),this.setCenterY(t.y),this},getArea:function(){return this.width*this.height},isEmpty:function(){return 0===this.width||0===this.height},contains:function(t){return t&&t.width!==ot||4===(Array.isArray(t)?t:arguments).length?this._containsRectangle(pt.read(arguments)):this._containsPoint(q.read(arguments))},_containsPoint:function(t){var e=t.x,n=t.y;return e>=this.x&&n>=this.y&&e<=this.x+this.width&&n<=this.y+this.height},_containsRectangle:function(t){var e=t.x,n=t.y;return e>=this.x&&n>=this.y&&e+t.width<=this.x+this.width&&n+t.height<=this.y+this.height},intersects:function(){var t=pt.read(arguments),e=V.read(arguments)||0;return t.x+t.width>this.x-e&&t.y+t.height>this.y-e&&t.x<this.x+this.width+e&&t.y<this.y+this.height+e},intersect:function(){var t=pt.read(arguments),e=Math.max(this.x,t.x),n=Math.max(this.y,t.y),r=Math.min(this.x+this.width,t.x+t.width),s=Math.min(this.y+this.height,t.y+t.height);return new pt(e,n,r-e,s-n)},unite:function(){var t=pt.read(arguments),e=Math.min(this.x,t.x),n=Math.min(this.y,t.y),r=Math.max(this.x+this.width,t.x+t.width),s=Math.max(this.y+this.height,t.y+t.height);return new pt(e,n,r-e,s-n)},include:function(){var t=q.read(arguments),e=Math.min(this.x,t.x),n=Math.min(this.y,t.y),r=Math.max(this.x+this.width,t.x),s=Math.max(this.y+this.height,t.y);return new pt(e,n,r-e,s-n)},expand:function(){var t=at.read(arguments),e=t.width,n=t.height;return new pt(this.x-e/2,this.y-n/2,this.width+e,this.height+n)},scale:function(t,e){return this.expand(this.width*t-this.width,this.height*(e===ot?t:e)-this.height)}},V.each([["Top","Left"],["Top","Right"],["Bottom","Left"],["Bottom","Right"],["Left","Center"],["Top","Center"],["Right","Center"],["Bottom","Center"]],function(t,e){var n=t.join(""),r=/^[RL]/.test(n);e>=4&&(t[1]+=r?"Y":"X");var s=t[r?0:1],u=t[r?1:0],h="get"+s,o="get"+u,l="set"+s,f="set"+u,v="set"+n;this["get"+n]=function(c){return new(c?q:be)(this[h](),this[o](),this,v)},this[v]=function(){var c=q.read(arguments);this[l](c.x),this[f](c.y)}},{beans:!0})),qe=pt.extend({initialize:function(e,n,r,s,u,h){this._set(e,n,r,s,!0),this._owner=u,this._setter=h},_set:function(t,e,n,r,s){return this._x=t,this._y=e,this._width=n,this._height=r,s||this._owner[this._setter](this),this}},new function(){var t=pt.prototype;return V.each(["x","y","width","height"],function(e){var n=V.capitalize(e),r="_"+e;this["get"+n]=function(){return this[r]},this["set"+n]=function(s){this[r]=s,this._dontNotify||this._owner[this._setter](this)}},V.each(["Point","Size","Center","Left","Top","Right","Bottom","CenterX","CenterY","TopLeft","TopRight","BottomLeft","BottomRight","LeftCenter","TopCenter","RightCenter","BottomCenter"],function(e){var n="set"+e;this[n]=function(){this._dontNotify=!0,t[n].apply(this,arguments),this._dontNotify=!1,this._owner[this._setter](this)}},{isSelected:function(){return!!(2&this._owner._selection)},setSelected:function(e){var n=this._owner;n._changeSelection&&n._changeSelection(2,e)}}))}),At=V.extend({_class:"Matrix",initialize:function t(e,n){var r=arguments,s=r.length,u=!0;if(s>=6?this._set.apply(this,r):1===s||2===s?e instanceof t?this._set(e._a,e._b,e._c,e._d,e._tx,e._ty,n):Array.isArray(e)?this._set.apply(this,n?e.concat([n]):e):u=!1:s?u=!1:this.reset(),!u)throw new Error("Unsupported matrix parameters");return this},set:"#initialize",_set:function(t,e,n,r,s,u,h){return this._a=t,this._b=e,this._c=n,this._d=r,this._tx=s,this._ty=u,h||this._changed(),this},_serialize:function(t,e){return V.serialize(this.getValues(),t,!0,e)},_changed:function(){var t=this._owner;t&&(t._applyMatrix?t.transform(null,!0):t._changed(25))},clone:function(){return new At(this._a,this._b,this._c,this._d,this._tx,this._ty)},equals:function(t){return t===this||t&&this._a===t._a&&this._b===t._b&&this._c===t._c&&this._d===t._d&&this._tx===t._tx&&this._ty===t._ty},toString:function(){var t=xt.instance;return"[["+[t.number(this._a),t.number(this._c),t.number(this._tx)].join(", ")+"], ["+[t.number(this._b),t.number(this._d),t.number(this._ty)].join(", ")+"]]"},reset:function(t){return this._a=this._d=1,this._b=this._c=this._tx=this._ty=0,t||this._changed(),this},apply:function(t,e){var n=this._owner;return!!n&&(n.transform(null,V.pick(t,!0),e),this.isIdentity())},translate:function(){var t=q.read(arguments),e=t.x,n=t.y;return this._tx+=e*this._a+n*this._c,this._ty+=e*this._b+n*this._d,this._changed(),this},scale:function(){var t=arguments,e=q.read(t),n=q.read(t,0,{readNull:!0});return n&&this.translate(n),this._a*=e.x,this._b*=e.x,this._c*=e.y,this._d*=e.y,n&&this.translate(n.negate()),this._changed(),this},rotate:function(t){t*=Math.PI/180;var e=q.read(arguments,1),n=e.x,r=e.y,s=Math.cos(t),u=Math.sin(t),h=n-n*s+r*u,o=r-n*u-r*s,l=this._a,f=this._b,p=this._c,v=this._d;return this._a=s*l+u*p,this._b=s*f+u*v,this._c=-u*l+s*p,this._d=-u*f+s*v,this._tx+=h*l+o*p,this._ty+=h*f+o*v,this._changed(),this},shear:function(){var t=arguments,e=q.read(t),n=q.read(t,0,{readNull:!0});n&&this.translate(n);var r=this._a,s=this._b;return this._a+=e.y*this._c,this._b+=e.y*this._d,this._c+=e.x*r,this._d+=e.x*s,n&&this.translate(n.negate()),this._changed(),this},skew:function(){var t=arguments,e=q.read(t),n=q.read(t,0,{readNull:!0}),r=Math.PI/180,s=new q(Math.tan(e.x*r),Math.tan(e.y*r));return this.shear(s,n)},append:function(t,e){if(t){var n=this._a,r=this._b,s=this._c,u=this._d,h=t._a,o=t._c,l=t._b,f=t._d,p=t._tx,v=t._ty;this._a=h*n+l*s,this._c=o*n+f*s,this._b=h*r+l*u,this._d=o*r+f*u,this._tx+=p*n+v*s,this._ty+=p*r+v*u,e||this._changed()}return this},prepend:function(t,e){if(t){var n=this._a,r=this._b,s=this._c,u=this._d,h=this._tx,o=this._ty,l=t._a,f=t._c,p=t._b,v=t._d,c=t._tx,g=t._ty;this._a=l*n+f*r,this._c=l*s+f*u,this._b=p*n+v*r,this._d=p*s+v*u,this._tx=l*h+f*o+c,this._ty=p*h+v*o+g,e||this._changed()}return this},appended:function(t){return this.clone().append(t)},prepended:function(t){return this.clone().prepend(t)},invert:function(){var t=this._a,e=this._b,n=this._c,r=this._d,s=this._tx,u=this._ty,h=t*r-e*n,o=null;return h&&!isNaN(h)&&isFinite(s)&&isFinite(u)&&(this._a=r/h,this._b=-e/h,this._c=-n/h,this._d=t/h,this._tx=(n*u-r*s)/h,this._ty=(e*s-t*u)/h,o=this),o},inverted:function(){return this.clone().invert()},concatenate:"#append",preConcatenate:"#prepend",chain:"#appended",_shiftless:function(){return new At(this._a,this._b,this._c,this._d,0,0)},_orNullIfIdentity:function(){return this.isIdentity()?null:this},isIdentity:function(){return 1===this._a&&0===this._b&&0===this._c&&1===this._d&&0===this._tx&&0===this._ty},isInvertible:function(){var t=this._a*this._d-this._c*this._b;return t&&!isNaN(t)&&isFinite(this._tx)&&isFinite(this._ty)},isSingular:function(){return!this.isInvertible()},transform:function(t,e,n){return arguments.length<3?this._transformPoint(q.read(arguments)):this._transformCoordinates(t,e,n)},_transformPoint:function(t,e,n){var r=t.x,s=t.y;return e||(e=new q),e._set(r*this._a+s*this._c+this._tx,r*this._b+s*this._d+this._ty,n)},_transformCoordinates:function(t,e,n){for(var r=0,s=2*n;r<s;r+=2){var u=t[r],h=t[r+1];e[r]=u*this._a+h*this._c+this._tx,e[r+1]=u*this._b+h*this._d+this._ty}return e},_transformCorners:function(t){var e=t.x,n=t.y,r=e+t.width,s=n+t.height,u=[e,n,r,n,r,s,e,s];return this._transformCoordinates(u,u,4)},_transformBounds:function(t,e,n){for(var r=this._transformCorners(t),s=r.slice(0,2),u=s.slice(),h=2;h<8;h++){var o=r[h],l=1&h;o<s[l]?s[l]=o:o>u[l]&&(u[l]=o)}return e||(e=new pt),e._set(s[0],s[1],u[0]-s[0],u[1]-s[1],n)},inverseTransform:function(){return this._inverseTransform(q.read(arguments))},_inverseTransform:function(t,e,n){var r=this._a,s=this._b,u=this._c,h=this._d,o=this._tx,l=this._ty,f=r*h-s*u,p=null;if(f&&!isNaN(f)&&isFinite(o)&&isFinite(l)){var v=t.x-this._tx,c=t.y-this._ty;e||(e=new q),p=e._set((v*h-c*u)/f,(c*r-v*s)/f,n)}return p},decompose:function(){var l,f,p,t=this._a,e=this._b,n=this._c,r=this._d,s=t*r-e*n,u=Math.sqrt,h=Math.atan2,o=180/Math.PI;if(0!==t||0!==e){var v=u(t*t+e*e);l=Math.acos(t/v)*(e>0?1:-1),f=[v,s/v],p=[h(t*n+e*r,v*v),0]}else if(0!==n||0!==r){var c=u(n*n+r*r);l=Math.asin(n/c)*(r>0?1:-1),f=[s/c,c],p=[0,h(t*n+e*r,c*c)]}else l=0,p=f=[0,0];return{translation:this.getTranslation(),rotation:l*o,scaling:new q(f),skewing:new q(p[0]*o,p[1]*o)}},getValues:function(){return[this._a,this._b,this._c,this._d,this._tx,this._ty]},getTranslation:function(){return new q(this._tx,this._ty)},getScaling:function(){return this.decompose().scaling},getRotation:function(){return this.decompose().rotation},applyToContext:function(t){this.isIdentity()||t.transform(this._a,this._b,this._c,this._d,this._tx,this._ty)}},V.each(["a","b","c","d","tx","ty"],function(t){var e=V.capitalize(t),n="_"+t;this["get"+e]=function(){return this[n]},this["set"+e]=function(r){this[n]=r,this._changed()}},{})),F=V.extend({_class:"Line",initialize:function(e,n,r,s,u){var h=!1;arguments.length>=4?(this._px=e,this._py=n,this._vx=r,this._vy=s,h=u):(this._px=e.x,this._py=e.y,this._vx=n.x,this._vy=n.y,h=r),h||(this._vx-=this._px,this._vy-=this._py)},getPoint:function(){return new q(this._px,this._py)},getVector:function(){return new q(this._vx,this._vy)},getLength:function(){return this.getVector().getLength()},intersect:function(t,e){return F.intersect(this._px,this._py,this._vx,this._vy,t._px,t._py,t._vx,t._vy,!0,e)},getSide:function(t,e){return F.getSide(this._px,this._py,this._vx,this._vy,t.x,t.y,!0,e)},getDistance:function(t){return Math.abs(this.getSignedDistance(t))},getSignedDistance:function(t){return F.getSignedDistance(this._px,this._py,this._vx,this._vy,t.x,t.y,!0)},isCollinear:function(t){return q.isCollinear(this._vx,this._vy,t._vx,t._vy)},isOrthogonal:function(t){return q.isOrthogonal(this._vx,this._vy,t._vx,t._vy)},statics:{intersect:function(t,e,n,r,s,u,h,o,l,f){l||(n-=t,r-=e,h-=s,o-=u);var p=n*o-r*h;if(!wt.isMachineZero(p)){var v=t-s,c=e-u,g=(h*c-o*v)/p,k=(n*c-r*v)/p,C=-1e-12,_=1+1e-12;if(f||C<g&&g<_&&C<k&&k<_)return f||(g=g<=0?0:g>=1?1:g),new q(t+g*n,e+g*r)}},getSide:function(t,e,n,r,s,u,h,o){h||(n-=t,r-=e);var l=s-t,p=l*r-(u-e)*n;return!o&&wt.isMachineZero(p)&&(p=(l*n+l*n)/(n*n+r*r))>=0&&p<=1&&(p=0),p<0?-1:p>0?1:0},getSignedDistance:function(t,e,n,r,s,u,h){return h||(n-=t,r-=e),0===n?r>0?s-t:t-s:0===r?n<0?u-e:e-u:((s-t)*r-(u-e)*n)/(r>n?r*Math.sqrt(1+n*n/(r*r)):n*Math.sqrt(1+r*r/(n*n)))},getDistance:function(t,e,n,r,s,u,h){return Math.abs(F.getSignedDistance(t,e,n,r,s,u,h))}}}),$=ce.extend({_class:"Project",_list:"projects",_reference:"project",_compactSerialize:!0,initialize:function(e){ce.call(this,!0),this._children=[],this._namedChildren={},this._activeLayer=null,this._currentStyle=new ni(null,null,this),this._view=Ut.create(this,e||zt.getCanvas(1,1)),this._selectionItems={},this._selectionCount=0,this._updateVersion=0},_serialize:function(t,e){return V.serialize(this._children,t,!0,e)},_changed:function(t,e){if(1&t){var n=this._view;n&&(n._needsUpdate=!0,!n._requested&&n._autoUpdate&&n.requestUpdate())}var r=this._changes;if(r&&e){var s=this._changesById,u=e._id,h=s[u];h?h.flags|=t:r.push(s[u]={item:e,flags:t})}},clear:function(){for(var t=this._children,e=t.length-1;e>=0;e--)t[e].remove()},isEmpty:function(){return!this._children.length},remove:function t(){return!!t.base.call(this)&&(this._view&&this._view.remove(),!0)},getView:function(){return this._view},getCurrentStyle:function(){return this._currentStyle},setCurrentStyle:function(t){this._currentStyle.set(t)},getIndex:function(){return this._index},getOptions:function(){return this._scope.settings},getLayers:function(){return this._children},getActiveLayer:function(){return this._activeLayer||new Et({project:this,insert:!0})},getSymbolDefinitions:function(){var t=[],e={};return this.getItems({class:Jt,match:function(n){var r=n._definition,s=r._id;return e[s]||(e[s]=!0,t.push(r)),!1}}),t},getSymbols:"getSymbolDefinitions",getSelectedItems:function(){var t=this._selectionItems,e=[];for(var n in t){var r=t[n],s=r._selection;1&s&&r.isInserted()?e.push(r):s||this._updateSelection(r)}return e},_updateSelection:function(t){var e=t._id,n=this._selectionItems;t._selection?n[e]!==t&&(this._selectionCount++,n[e]=t):n[e]===t&&(this._selectionCount--,delete n[e])},selectAll:function(){for(var t=this._children,e=0,n=t.length;e<n;e++)t[e].setFullySelected(!0)},deselectAll:function(){var t=this._selectionItems;for(var e in t)t[e].setFullySelected(!1)},addLayer:function(t){return this.insertLayer(ot,t)},insertLayer:function(t,e){if(e instanceof Et){e._remove(!1,!0),V.splice(this._children,[e],t,0),e._setProject(this,!0);var n=e._name;n&&e.setName(n),this._changes&&e._changed(5),this._activeLayer||(this._activeLayer=e)}else e=null;return e},_insertItem:function(t,e,n){return e=this.insertLayer(t,e)||(this._activeLayer||this._insertItem(ot,new Et(X.NO_INSERT),!0)).insertChild(t,e),n&&e.activate&&e.activate(),e},getItems:function(t){return X._getItems(this,t)},getItem:function(t){return X._getItems(this,t,null,null,!0)[0]||null},importJSON:function(t){this.activate();var e=this._activeLayer;return V.importJSON(t,e&&e.isEmpty()&&e)},removeOn:function(t){var e=this._removeSets;if(e){"mouseup"===t&&(e.mousedrag=null);var n=e[t];if(n){for(var r in n){var s=n[r];for(var u in e){var h=e[u];h&&h!=n&&delete h[s._id]}s.remove()}e[t]=null}}},draw:function(t,e,n){this._updateVersion++,t.save(),e.applyToContext(t);for(var r=this._children,s=new V({offset:new q(0,0),pixelRatio:n,viewMatrix:e.isIdentity()?null:e,matrices:[new At],updateMatrix:!0}),u=0,h=r.length;u<h;u++)r[u].draw(t,s);if(t.restore(),this._selectionCount>0){t.save(),t.strokeWidth=1;var o=this._selectionItems,l=this._scope.settings.handleSize,f=this._updateVersion;for(var p in o)o[p]._drawSelection(t,e,l,o,f);t.restore()}}}),X=V.extend(Ue,{statics:{extend:function t(e){return e._serializeFields&&(e._serializeFields=V.set({},this.prototype._serializeFields,e._serializeFields)),t.base.apply(this,arguments)},INSERT:{insert:!0},NO_INSERT:{insert:!1}},_class:"Item",_name:null,_applyMatrix:!0,_canApplyMatrix:!0,_canScaleStroke:!1,_pivot:null,_visible:!0,_blendMode:"normal",_opacity:1,_locked:!1,_guide:!1,_clipMask:!1,_selection:0,_selectBounds:!0,_selectChildren:!1,_serializeFields:{name:null,applyMatrix:null,matrix:new At,pivot:null,visible:!0,blendMode:"normal",opacity:1,locked:!1,guide:!1,clipMask:!1,selected:!1,data:{}},_prioritize:["applyMatrix"]},new function(){var t=["onMouseDown","onMouseUp","onMouseDrag","onClick","onDoubleClick","onMouseMove","onMouseEnter","onMouseLeave"];return V.each(t,function(e){this._events[e]={install:function(n){this.getView()._countItemEvent(n,1)},uninstall:function(n){this.getView()._countItemEvent(n,-1)}}},{_events:{onFrame:{install:function(){this.getView()._animateItem(this,!0)},uninstall:function(){this.getView()._animateItem(this,!1)}},onLoad:{},onError:{}},statics:{_itemHandlers:t}})},{initialize:function(){},_initialize:function(t,e){var n=t&&V.isPlainObject(t),r=n&&!0===t.internal,s=this._matrix=new At,u=n&&t.project||rt.project,h=rt.settings;return this._id=r?null:ae.get(),this._parent=this._index=null,this._applyMatrix=this._canApplyMatrix&&h.applyMatrix,e&&s.translate(e),s._owner=this,this._style=new ni(u._currentStyle,this,u),r||n&&0==t.insert||!h.insertItems&&(!n||1!=t.insert)?this._setProject(u):(n&&t.parent||u)._insertItem(ot,this,!0),n&&t!==X.NO_INSERT&&t!==X.INSERT&&this.set(t,{internal:!0,insert:!0,project:!0,parent:!0}),n},_serialize:function(t,e){var n={},r=this;function s(u){for(var h in u){var o=r[h];V.equals(o,"leading"===h?1.2*u.fontSize:u[h])||(n[h]=V.serialize(o,t,"data"!==h,e))}}return s(this._serializeFields),this instanceof vt||s(this._style._defaults),[this._class,n]},_changed:function(t){var e=this._symbol,n=this._parent||e,r=this._project;8&t&&(this._bounds=this._position=this._decomposed=ot),16&t&&(this._globalMatrix=ot),n&&72&t&&X._clearBoundsCache(n),2&t&&X._clearBoundsCache(this),r&&r._changed(t,this),e&&e._changed(t)},getId:function(){return this._id},getName:function(){return this._name},setName:function(t){if(this._name&&this._removeNamed(),t===+t+"")throw new Error("Names consisting only of numbers are not supported.");var e=this._getOwner();if(t&&e){var n=e._children,r=e._namedChildren;(r[t]=r[t]||[]).push(this),t in n||(n[t]=this)}this._name=t||ot,this._changed(256)},getStyle:function(){return this._style},setStyle:function(t){this.getStyle().set(t)}},V.each(["locked","visible","blendMode","opacity","guide"],function(t){var e=V.capitalize(t),n="_"+t,r={locked:256,visible:265};this["get"+e]=function(){return this[n]},this["set"+e]=function(s){s!=this[n]&&(this[n]=s,this._changed(r[t]||257))}},{}),{beans:!0,getSelection:function(){return this._selection},setSelection:function(t){if(t!==this._selection){this._selection=t;var e=this._project;e&&(e._updateSelection(this),this._changed(257))}},_changeSelection:function(t,e){var n=this._selection;this.setSelection(e?n|t:n&~t)},isSelected:function(){if(this._selectChildren)for(var t=this._children,e=0,n=t.length;e<n;e++)if(t[e].isSelected())return!0;return!!(1&this._selection)},setSelected:function(t){if(this._selectChildren)for(var e=this._children,n=0,r=e.length;n<r;n++)e[n].setSelected(t);this._changeSelection(1,t)},isFullySelected:function(){var t=this._children,e=!!(1&this._selection);if(t&&e){for(var n=0,r=t.length;n<r;n++)if(!t[n].isFullySelected())return!1;return!0}return e},setFullySelected:function(t){var e=this._children;if(e)for(var n=0,r=e.length;n<r;n++)e[n].setFullySelected(t);this._changeSelection(1,t)},isClipMask:function(){return this._clipMask},setClipMask:function(t){this._clipMask!=(t=!!t)&&(this._clipMask=t,t&&(this.setFillColor(null),this.setStrokeColor(null)),this._changed(257),this._parent&&this._parent._changed(2048))},getData:function(){return this._data||(this._data={}),this._data},setData:function(t){this._data=t},getPosition:function(t){var e=t?q:be,n=this._position||(this._position=this._getPositionFromBounds());return new e(n.x,n.y,this,"setPosition")},setPosition:function(){this.translate(q.read(arguments).subtract(this.getPosition(!0)))},_getPositionFromBounds:function(t){return this._pivot?this._matrix._transformPoint(this._pivot):(t||this.getBounds()).getCenter(!0)},getPivot:function(){var t=this._pivot;return t?new be(t.x,t.y,this,"setPivot"):null},setPivot:function(){this._pivot=q.read(arguments,0,{clone:!0,readNull:!0}),this._position=ot}},V.each({getStrokeBounds:{stroke:!0},getHandleBounds:{handle:!0},getInternalBounds:{internal:!0}},function(t,e){this[e]=function(n){return this.getBounds(n,t)}},{beans:!0,getBounds:function(t,e){var n=e||t instanceof At,r=V.set({},n?e:t,this._boundsOptions);(!r.stroke||this.getStrokeScaling())&&(r.cacheItem=this);var s=this._getCachedBounds(n&&t,r).rect;return arguments.length?s:new qe(s.x,s.y,s.width,s.height,this,"setBounds")},setBounds:function(){var t=pt.read(arguments),e=this.getBounds(),n=this._matrix,r=new At,s=t.getCenter();r.translate(s),(t.width!=e.width||t.height!=e.height)&&(n.isInvertible()||(n.set(n._backup||(new At).translate(n.getTranslation())),e=this.getBounds()),r.scale(0!==e.width?t.width/e.width:0,0!==e.height?t.height/e.height:0)),s=e.getCenter(),r.translate(-s.x,-s.y),this.transform(r)},_getBounds:function(t,e){var n=this._children;return n&&n.length?(X._updateBoundsCache(this,e.cacheItem),X._getBounds(n,t,e)):new pt},_getBoundsCacheKey:function(t,e){return[t.stroke?1:0,t.handle?1:0,e?1:0].join("")},_getCachedBounds:function(t,e,n){t=t&&t._orNullIfIdentity();var r=e.internal&&!n,s=e.cacheItem,u=r?null:this._matrix._orNullIfIdentity(),h=s&&(!t||t.equals(u))&&this._getBoundsCacheKey(e,r),o=this._bounds;if(X._updateBoundsCache(this._parent||this._symbol,s),h&&o&&h in o)return{rect:(l=o[h]).rect.clone(),nonscaling:l.nonscaling};var f=this._getBounds(t||u,e),p=f.rect||f,v=this._style,c=f.nonscaling||v.hasStroke()&&!v.getStrokeScaling();if(h){o||(this._bounds=o={});var l=o[h]={rect:p.clone(),nonscaling:c,internal:r}}return{rect:p,nonscaling:c}},_getStrokeMatrix:function(t,e){var n=this.getStrokeScaling()?null:e&&e.internal?this:this._parent||this._symbol&&this._symbol._item,r=n?n.getViewMatrix().invert():t;return r&&r._shiftless()},statics:{_updateBoundsCache:function(t,e){if(t&&e){var n=e._id,r=t._boundsCache=t._boundsCache||{ids:{},list:[]};r.ids[n]||(r.list.push(e),r.ids[n]=e)}},_clearBoundsCache:function(t){var e=t._boundsCache;if(e){t._bounds=t._position=t._boundsCache=ot;for(var n=0,r=e.list,s=r.length;n<s;n++){var u=r[n];u!==t&&(u._bounds=u._position=ot,u._boundsCache&&X._clearBoundsCache(u))}}},_getBounds:function(t,e,n){var r=1/0,s=-r,u=r,h=s,o=!1;n=n||{};for(var l=0,f=t.length;l<f;l++){var p=t[l];if(p._visible&&!p.isEmpty(!0)){var v=p._getCachedBounds(e&&e.appended(p._matrix),n,!0),c=v.rect;r=Math.min(c.x,r),u=Math.min(c.y,u),s=Math.max(c.x+c.width,s),h=Math.max(c.y+c.height,h),v.nonscaling&&(o=!0)}}return{rect:isFinite(r)?new pt(r,u,s-r,h-u):new pt,nonscaling:o}}}}),{beans:!0,_decompose:function(){return this._applyMatrix?null:this._decomposed||(this._decomposed=this._matrix.decompose())},getRotation:function(){var t=this._decompose();return t?t.rotation:0},setRotation:function(t){var e=this.getRotation();if(null!=e&&null!=t){var n=this._decomposed;this.rotate(t-e),n&&(n.rotation=t,this._decomposed=n)}},getScaling:function(){var t=this._decompose(),e=t&&t.scaling;return new be(e?e.x:1,e?e.y:1,this,"setScaling")},setScaling:function(){var t=this.getScaling(),e=q.read(arguments,0,{clone:!0,readNull:!0});if(t&&e&&!t.equals(e)){var n=this.getRotation(),r=this._decomposed,s=new At,u=wt.isZero;if(u(t.x)||u(t.y))s.translate(r.translation),n&&s.rotate(n),s.scale(e.x,e.y),this._matrix.set(s);else{var h=this.getPosition(!0);s.translate(h),n&&s.rotate(n),s.scale(e.x/t.x,e.y/t.y),n&&s.rotate(-n),s.translate(h.negate()),this.transform(s)}r&&(r.scaling=e,this._decomposed=r)}},getMatrix:function(){return this._matrix},setMatrix:function(){var t=this._matrix;t.set.apply(t,arguments)},getGlobalMatrix:function(t){var e=this._globalMatrix;if(e)for(var n=this._parent,r=[];n;){if(!n._globalMatrix){e=null;for(var s=0,u=r.length;s<u;s++)r[s]._globalMatrix=null;break}r.push(n),n=n._parent}return e||(e=this._globalMatrix=this._matrix.clone(),(n=this._parent)&&e.prepend(n.getGlobalMatrix(!0))),t?e:e.clone()},getViewMatrix:function(){return this.getGlobalMatrix().prepend(this.getView()._matrix)},getApplyMatrix:function(){return this._applyMatrix},setApplyMatrix:function(t){(this._applyMatrix=this._canApplyMatrix&&!!t)&&this.transform(null,!0)},getTransformContent:"#getApplyMatrix",setTransformContent:"#setApplyMatrix"},{getProject:function(){return this._project},_setProject:function(t,e){if(this._project!==t){this._project&&this._installEvents(!1),this._project=t;for(var n=this._children,r=0,s=n&&n.length;r<s;r++)n[r]._setProject(t);e=!0}e&&this._installEvents(!0)},getView:function(){return this._project._view},_installEvents:function t(e){t.base.call(this,e);for(var n=this._children,r=0,s=n&&n.length;r<s;r++)n[r]._installEvents(e)},getLayer:function(){for(var t=this;t=t._parent;)if(t instanceof Et)return t;return null},getParent:function(){return this._parent},setParent:function(t){return t.addChild(this)},_getOwner:"#getParent",getChildren:function(){return this._children},setChildren:function(t){this.removeChildren(),this.addChildren(t)},getFirstChild:function(){return this._children&&this._children[0]||null},getLastChild:function(){return this._children&&this._children[this._children.length-1]||null},getNextSibling:function(){var t=this._getOwner();return t&&t._children[this._index+1]||null},getPreviousSibling:function(){var t=this._getOwner();return t&&t._children[this._index-1]||null},getIndex:function(){return this._index},equals:function(t){return t===this||t&&this._class===t._class&&this._style.equals(t._style)&&this._matrix.equals(t._matrix)&&this._locked===t._locked&&this._visible===t._visible&&this._blendMode===t._blendMode&&this._opacity===t._opacity&&this._clipMask===t._clipMask&&this._guide===t._guide&&this._equals(t)||!1},_equals:function(t){return V.equals(this._children,t._children)},clone:function(t){var e=new this.constructor(X.NO_INSERT),n=this._children,r=V.pick(t?t.insert:ot,t===ot||!0===t),s=V.pick(t?t.deep:ot,!0);n&&e.copyAttributes(this),(!n||s)&&e.copyContent(this),n||e.copyAttributes(this),r&&e.insertAbove(this);var u=this._name,h=this._parent;if(u&&h){n=h._children;for(var o=u,l=1;n[u];)u=o+" "+l++;u!==o&&e.setName(u)}return e},copyContent:function(t){for(var e=t._children,n=0,r=e&&e.length;n<r;n++)this.addChild(e[n].clone(!1),!0)},copyAttributes:function(t,e){this.setStyle(t._style);for(var n=["_locked","_visible","_blendMode","_opacity","_clipMask","_guide"],r=0,s=n.length;r<s;r++){var u=n[r];t.hasOwnProperty(u)&&(this[u]=t[u])}e||this._matrix.set(t._matrix,!0),this.setApplyMatrix(t._applyMatrix),this.setPivot(t._pivot),this.setSelection(t._selection);var h=t._data,o=t._name;this._data=h?V.clone(h):null,o&&this.setName(o)},rasterize:function(t,e){var n,r,s;V.isPlainObject(t)?(n=t.resolution,r=t.insert,s=t.raster):(n=t,r=e),s||(s=new Vt(X.NO_INSERT));var u=this.getStrokeBounds(),h=(n||this.getView().getResolution())/72,o=u.getTopLeft().floor(),l=u.getBottomRight().ceil(),f=new at(l.subtract(o)),p=f.multiply(h);if(s.setSize(p,!0),!p.isZero()){var v=s.getContext(!0),c=(new At).scale(h).translate(o.negate());v.save(),c.applyToContext(v),this.draw(v,new V({matrices:[c]})),v.restore()}return s._matrix.set((new At).translate(o.add(f.divide(2))).scale(1/h)),(r===ot||r)&&s.insertAbove(this),s},contains:function(){var t=this._matrix;return t.isInvertible()&&!!this._contains(t._inverseTransform(q.read(arguments)))},_contains:function(t){var e=this._children;if(e){for(var n=e.length-1;n>=0;n--)if(e[n].contains(t))return!0;return!1}return t.isInside(this.getInternalBounds())},isInside:function(){return pt.read(arguments).contains(this.getBounds())},_asPathItem:function(){return new Rt.Rectangle({rectangle:this.getInternalBounds(),matrix:this._matrix,insert:!1})},intersects:function(t,e){return t instanceof X&&this._asPathItem().getIntersections(t._asPathItem(),null,e,!0).length>0}},new function(){function t(){var r=arguments;return this._hitTest(q.read(r),ee.getOptions(r))}function e(){var r=arguments,s=q.read(r),u=ee.getOptions(r),h=[];return this._hitTest(s,new V({all:h},u)),h}function n(r,s,u,h){var o=this._children;if(o)for(var l=o.length-1;l>=0;l--){var f=o[l],p=f!==h&&f._hitTest(r,s,u);if(p&&!s.all)return p}return null}return $.inject({hitTest:t,hitTestAll:e,_hitTest:n}),{hitTest:t,hitTestAll:e,_hitTestChildren:n}},{_hitTest:function(t,e,n){if(this._locked||!this._visible||this._guide&&!e.guides||this.isEmpty())return null;var r=this._matrix,s=n?n.appended(r):this.getGlobalMatrix().prepend(this.getView()._matrix),u=Math.max(e.tolerance,1e-12),h=e._tolerancePadding=new at(Rt._getStrokePadding(u,r._shiftless().invert()));if(!(t=r._inverseTransform(t))||!this._children&&!this.getBounds({internal:!0,stroke:!0,handle:!0}).expand(h.multiply(2))._containsPoint(t))return null;var p,v,o=!(e.guides&&!this._guide||e.selected&&!this.isSelected()||e.type&&e.type!==V.hyphenate(this._class)||e.class&&!(this instanceof e.class)),l=e.match,f=this;function c(d){return d&&l&&!l(d)&&(d=null),d&&e.all&&e.all.push(d),d}function g(d,y){var S=y?p["get"+y]():f.getPosition();if(t.subtract(S).divide(h).length<=1)return new ee(d,f,{name:y?V.hyphenate(y):d,point:S})}var k=e.position,x=e.center,C=e.bounds;if(o&&this._parent&&(k||x||C)){if((x||C)&&(p=this.getInternalBounds()),!(v=k&&g("position")||x&&g("center","Center"))&&C)for(var _=["TopLeft","TopRight","BottomLeft","BottomRight","LeftCenter","TopCenter","RightCenter","BottomCenter"],b=0;b<8&&!v;b++)v=g("bounds",_[b]);v=c(v)}return v||(v=this._hitTestChildren(t,e,s)||o&&c(this._hitTestSelf(t,e,s,this.getStrokeScaling()?null:s._shiftless().invert()))||null),v&&v.point&&(v.point=r.transform(v.point)),v},_hitTestSelf:function(t,e){if(e.fill&&this.hasFill()&&this._contains(t))return new ee("fill",this)},matches:function(t,e){var r=typeof t;if("object"===r){for(var s in t)if(t.hasOwnProperty(s)&&!this.matches(s,t[s]))return!1;return!0}if("function"===r)return t(this);if("match"===t)return e(this);var u=/^(empty|editable)$/.test(t)?this["is"+V.capitalize(t)]():"type"===t?V.hyphenate(this._class):this[t];if("class"===t){if("function"==typeof e)return this instanceof e;u=this._class}if("function"==typeof e)return!!e(u);if(e){if(e.test)return e.test(u);if(V.isPlainObject(e))return function n(h,o){for(var l in h)if(h.hasOwnProperty(l)){var f=h[l],p=o[l];if(V.isPlainObject(f)&&V.isPlainObject(p)){if(!n(f,p))return!1}else if(!V.equals(f,p))return!1}return!0}(e,u)}return V.equals(u,e)},getItems:function(t){return X._getItems(this,t,this._matrix)},getItem:function(t){return X._getItems(this,t,this._matrix,null,!0)[0]||null},statics:{_getItems:function t(e,n,r,s,u){if(!s){var h="object"==typeof n&&n,o=h&&h.overlapping,l=h&&h.inside,c=(f=o||l)&&pt.read([f]);s={items:[],recursive:h&&!1!==h.recursive,inside:!!l,overlapping:!!o,rect:c,path:o&&new Rt.Rectangle({rectangle:c,insert:!1})},h&&(n=V.filter({},n,{recursive:!0,inside:!0,overlapping:!0}))}var p=e._children,v=s.items;r=(c=s.rect)&&(r||new At);for(var g=0,k=p&&p.length;g<k;g++){var x=p[g],C=r&&r.appended(x._matrix),_=!0;if(c){var f=x.getBounds(C);if(!c.intersects(f))continue;c.contains(f)||s.overlapping&&(f.contains(c)||s.path.intersects(x,C))||(_=!1)}if(_&&x.matches(n)&&(v.push(x),u)||(!1!==s.recursive&&t(x,n,C,s,u),u&&v.length>0))break}return v}}},{importJSON:function(t){var e=V.importJSON(t,this);return e!==this?this.addChild(e):e},addChild:function(t){return this.insertChild(ot,t)},insertChild:function(t,e){var n=e?this.insertChildren(t,[e]):null;return n&&n[0]},addChildren:function(t){return this.insertChildren(this._children.length,t)},insertChildren:function(t,e){var n=this._children;if(n&&e&&e.length>0){for(var r={},s=(e=V.slice(e)).length-1;s>=0;s--){var h=(u=e[s])&&u._id;!u||r[h]?e.splice(s,1):(u._remove(!1,!0),r[h]=!0)}V.splice(n,e,t,0);for(var o=this._project,l=o._changes,f=(s=0,e.length);s<f;s++){var u,p=(u=e[s])._name;u._parent=this,u._setProject(o,!0),p&&u.setName(p),l&&u._changed(5)}this._changed(11)}else e=null;return e},_insertItem:"#insertChild",_insertAt:function(t,e){var n=t&&t._getOwner(),r=t!==this&&n?this:null;return r&&(r._remove(!1,!0),n._insertItem(t._index+e,r)),r},insertAbove:function(t){return this._insertAt(t,1)},insertBelow:function(t){return this._insertAt(t,0)},sendToBack:function(){var t=this._getOwner();return t?t._insertItem(0,this):null},bringToFront:function(){var t=this._getOwner();return t?t._insertItem(ot,this):null},appendTop:"#addChild",appendBottom:function(t){return this.insertChild(0,t)},moveAbove:"#insertAbove",moveBelow:"#insertBelow",addTo:function(t){return t._insertItem(ot,this)},copyTo:function(t){return this.clone(!1).addTo(t)},reduce:function(t){var e=this._children;if(e&&1===e.length){var n=e[0].reduce(t);return this._parent?(n.insertAbove(this),this.remove()):n.remove(),n}return this},_removeNamed:function(){var t=this._getOwner();if(t){var e=t._children,n=t._namedChildren,r=this._name,s=n[r],u=s?s.indexOf(this):-1;-1!==u&&(e[r]==this&&delete e[r],s.splice(u,1),s.length?e[r]=s[0]:delete n[r])}},_remove:function(t,e){var n=this._getOwner(),r=this._project,s=this._index;return this._style&&this._style._dispose(),!!n&&(this._name&&this._removeNamed(),null!=s&&(r._activeLayer===this&&(r._activeLayer=this.getNextSibling()||this.getPreviousSibling()),V.splice(n._children,null,s,1)),this._installEvents(!1),t&&r._changes&&this._changed(5),e&&n._changed(11,this),this._parent=null,!0)},remove:function(){return this._remove(!0,!0)},replaceWith:function(t){var e=t&&t.insertBelow(this);return e&&this.remove(),e},removeChildren:function(t,e){if(!this._children)return null;t=t||0,e=V.pick(e,this._children.length);for(var n=V.splice(this._children,null,t,e-t),r=n.length-1;r>=0;r--)n[r]._remove(!0,!1);return n.length>0&&this._changed(11),n},clear:"#removeChildren",reverseChildren:function(){if(this._children){this._children.reverse();for(var t=0,e=this._children.length;t<e;t++)this._children[t]._index=t;this._changed(11)}},isEmpty:function(t){var e=this._children,n=e?e.length:0;if(t){for(var r=0;r<n;r++)if(!e[r].isEmpty(t))return!1;return!0}return!n},isEditable:function(){for(var t=this;t;){if(!t._visible||t._locked)return!1;t=t._parent}return!0},hasFill:function(){return this.getStyle().hasFill()},hasStroke:function(){return this.getStyle().hasStroke()},hasShadow:function(){return this.getStyle().hasShadow()},_getOrder:function(t){function e(h){var o=[];do{o.unshift(h)}while(h=h._parent);return o}for(var n=e(this),r=e(t),s=0,u=Math.min(n.length,r.length);s<u;s++)if(n[s]!=r[s])return n[s]._index<r[s]._index?1:-1;return 0},hasChildren:function(){return this._children&&this._children.length>0},isInserted:function(){return!!this._parent&&this._parent.isInserted()},isAbove:function(t){return-1===this._getOrder(t)},isBelow:function(t){return 1===this._getOrder(t)},isParent:function(t){return this._parent===t},isChild:function(t){return t&&t._parent===this},isDescendant:function(t){for(var e=this;e=e._parent;)if(e===t)return!0;return!1},isAncestor:function(t){return!!t&&t.isDescendant(this)},isSibling:function(t){return this._parent===t._parent},isGroupedWith:function(t){for(var e=this._parent;e;){if(e._parent&&/^(Group|Layer|CompoundPath)$/.test(e._class)&&t.isDescendant(e))return!0;e=e._parent}return!1}},V.each(["rotate","scale","shear","skew"],function(t){var e="rotate"===t;this[t]=function(){var n=arguments,r=(e?V:q).read(n),s=q.read(n,0,{readNull:!0});return this.transform((new At)[t](r,s||this.getPosition(!0)))}},{translate:function(){var t=new At;return this.transform(t.translate.apply(t,arguments))},transform:function(t,e,n){var r=this._matrix,s=t&&!t.isIdentity(),u=n&&this._canApplyMatrix||this._applyMatrix&&(s||!r.isIdentity()||e&&this._children);if(!s&&!u)return this;if(s){!t.isInvertible()&&r.isInvertible()&&(r._backup=r.getValues()),r.prepend(t,!0);var h=this._style,o=h.getFillColor(!0),l=h.getStrokeColor(!0);o&&o.transform(t),l&&l.transform(t)}if(u&&(u=this._transformContent(r,e,n))){var f=this._pivot;f&&r._transformPoint(f,f,!0),r.reset(!0),n&&this._canApplyMatrix&&(this._applyMatrix=!0)}var p=this._bounds,v=this._position;(s||u)&&this._changed(25);var c=s&&p&&t.decompose();if(c&&c.skewing.isZero()&&c.rotation%90==0){for(var g in p){var k=p[g];if(k.nonscaling)delete p[g];else if(u||!k.internal){var x=k.rect;t._transformBounds(x,x)}}this._bounds=p;var C=p[this._getBoundsCacheKey(this._boundsOptions||{})];C&&(this._position=this._getPositionFromBounds(C.rect))}else s&&v&&this._pivot&&(this._position=t._transformPoint(v,v));return this},_transformContent:function(t,e,n){var r=this._children;if(r){for(var s=0,u=r.length;s<u;s++)r[s].transform(t,e,n);return!0}},globalToLocal:function(){return this.getGlobalMatrix(!0)._inverseTransform(q.read(arguments))},localToGlobal:function(){return this.getGlobalMatrix(!0)._transformPoint(q.read(arguments))},parentToLocal:function(){return this._matrix._inverseTransform(q.read(arguments))},localToParent:function(){return this._matrix._transformPoint(q.read(arguments))},fitBounds:function(t,e){t=pt.read(arguments);var n=this.getBounds(),r=n.height/n.width,s=t.height/t.width,u=(e?r>s:r<s)?t.width/n.width:t.height/n.height,h=new pt(new q,new at(n.width*u,n.height*u));h.setCenter(t.getCenter()),this.setBounds(h)}}),{_setStyles:function(t,e,n){var r=this._style,s=this._matrix;if(r.hasFill()&&(t.fillStyle=r.getFillColor().toCanvasStyle(t,s)),r.hasStroke()){t.strokeStyle=r.getStrokeColor().toCanvasStyle(t,s),t.lineWidth=r.getStrokeWidth();var u=r.getStrokeJoin(),h=r.getStrokeCap(),o=r.getMiterLimit();if(u&&(t.lineJoin=u),h&&(t.lineCap=h),o&&(t.miterLimit=o),rt.support.nativeDash){var l=r.getDashArray(),f=r.getDashOffset();l&&l.length&&("setLineDash"in t?(t.setLineDash(l),t.lineDashOffset=f):(t.mozDash=l,t.mozDashOffset=f))}}if(r.hasShadow()){var p=e.pixelRatio||1,v=n._shiftless().prepend((new At).scale(p,p)),c=v.transform(new q(r.getShadowBlur(),0)),g=v.transform(this.getShadowOffset());t.shadowColor=r.getShadowColor().toCanvasStyle(t),t.shadowBlur=c.getLength(),t.shadowOffsetX=g.x,t.shadowOffsetY=g.y}},draw:function(t,e,n){if(this._updateVersion=this._project._updateVersion,this._visible&&0!==this._opacity){var s=e.matrices,u=e.viewMatrix,h=this._matrix,o=s[s.length-1].appended(h);if(o.isInvertible()){u=u?u.appended(o):o,s.push(o),e.updateMatrix&&(this._globalMatrix=o);var k,x,C,l=this._blendMode,f=wt.clamp(this._opacity,0,1),p="normal"===l,v=oe.nativeModes[l],c=p&&1===f||e.dontStart||e.clip||(v||p&&f<1)&&this._canComposite(),g=e.pixelRatio||1;if(!c){var _=this.getStrokeBounds(u);if(!_.width||!_.height)return void s.pop();C=e.offset,x=e.offset=_.getTopLeft().floor(),k=t,t=zt.getContext(_.getSize().ceil().add(1).multiply(g)),1!==g&&t.scale(g,g)}t.save();var b=n?n.appended(h):this._canScaleStroke&&!this.getStrokeScaling(!0)&&u,d=!c&&e.clipItem,y=!b||d;if(c?(t.globalAlpha=f,v&&(t.globalCompositeOperation=l)):y&&t.translate(-x.x,-x.y),y&&(c?h:u).applyToContext(t),d&&e.clipItem.draw(t,e.extend({clip:!0})),b){t.setTransform(g,0,0,g,0,0);var S=e.offset;S&&t.translate(-S.x,-S.y)}this._draw(t,e,u,b),t.restore(),s.pop(),e.clip&&!e.dontFinish&&t.clip(this.getFillRule()),c||(oe.process(l,t,k,f,x.subtract(C).multiply(g)),zt.release(t),e.offset=C)}}},_isUpdated:function(t){var e=this._parent;if(e instanceof Ie)return e._isUpdated(t);var n=this._updateVersion===t;return!n&&e&&e._visible&&e._isUpdated(t)&&(this._updateVersion=t,n=!0),n},_drawSelection:function(t,e,n,r,s){var u=this._selection,h=1&u,o=2&u||h&&this._selectBounds,l=4&u;if(this._drawSelected||(h=!1),(h||o||l)&&this._isUpdated(s)){var f,p=this.getSelectedColor(!0)||(f=this.getLayer())&&f.getSelectedColor(!0),v=e.appended(this.getGlobalMatrix(!0)),c=n/2;if(t.strokeStyle=t.fillStyle=p?p.toCanvasStyle(t):"#009dec",h&&this._drawSelected(t,v,r),l){var g=this.getPosition(!0),k=this._parent,x=k?k.localToGlobal(g):g,C=x.x,_=x.y;t.beginPath(),t.arc(C,_,c,0,2*Math.PI,!0),t.stroke();for(var b=[[0,-1],[1,0],[0,1],[-1,0]],d=c,y=n+1,S=0;S<4;S++){var P=b[S],w=P[0],E=P[1];t.moveTo(C+w*d,_+E*d),t.lineTo(C+w*y,_+E*y),t.stroke()}}if(o){var T=v._transformCorners(this.getInternalBounds());for(t.beginPath(),S=0;S<8;S++)t[S?"lineTo":"moveTo"](T[S],T[++S]);for(t.closePath(),t.stroke(),S=0;S<8;S++)t.fillRect(T[S]-c,T[++S]-c,n,n)}}},_canComposite:function(){return!1}},V.each(["down","drag","up","move"],function(t){this["removeOn"+V.capitalize(t)]=function(){var e={};return e[t]=!0,this.removeOn(e)}},{removeOn:function(t){for(var e in t)if(t[e]){var n="mouse"+e,r=this._project,s=r._removeSets=r._removeSets||{};s[n]=s[n]||{},s[n][this._id]=this}return this}}),{tween:function(t,e,n){n||(n=e,e=t,t=null,n||(n=e,e=null));var u=null!=n&&("number"==typeof n?n:n.duration),h=new ki(this,t,e,u,n&&n.easing,n&&n.start);return u&&this.on("frame",function o(l){h._handleFrame(1e3*l.time),h.running||this.off("frame",o)}),h},tweenTo:function(t,e){return this.tween(null,t,e)},tweenFrom:function(t,e){return this.tween(t,null,e)}}),vt=X.extend({_class:"Group",_selectBounds:!1,_selectChildren:!0,_serializeFields:{children:[]},initialize:function(e){this._children=[],this._namedChildren={},this._initialize(e)||this.addChildren(Array.isArray(e)?e:arguments)},_changed:function t(e){t.base.call(this,e),2050&e&&(this._clipItem=ot)},_getClipItem:function(){var t=this._clipItem;if(t===ot){t=null;for(var e=this._children,n=0,r=e.length;n<r;n++)if(e[n]._clipMask){t=e[n];break}this._clipItem=t}return t},isClipped:function(){return!!this._getClipItem()},setClipped:function(t){var e=this.getFirstChild();e&&e.setClipMask(t)},_getBounds:function t(e,n){var r=this._getClipItem();return r?r._getCachedBounds(r._matrix.prepended(e),V.set({},n,{stroke:!1})):t.base.call(this,e,n)},_hitTestChildren:function t(e,n,r){var s=this._getClipItem();return(!s||s.contains(e))&&t.base.call(this,e,n,r,s)},_draw:function(t,e){var n=e.clip,r=!n&&this._getClipItem();e=e.extend({clipItem:r,clip:!1}),n?(t.beginPath(),e.dontStart=e.dontFinish=!0):r&&r.draw(t,e.extend({clip:!0}));for(var s=this._children,u=0,h=s.length;u<h;u++){var o=s[u];o!==r&&o.draw(t,e)}}}),Et=vt.extend({_class:"Layer",initialize:function(){vt.apply(this,arguments)},_getOwner:function(){return this._parent||null!=this._index&&this._project},isInserted:function t(){return this._parent?t.base.call(this):null!=this._index},activate:function(){this._project._activeLayer=this},_hitTestSelf:function(){}}),Tt=X.extend({_class:"Shape",_applyMatrix:!1,_canApplyMatrix:!1,_canScaleStroke:!0,_serializeFields:{type:null,size:null,radius:null},initialize:function(e,n){this._initialize(e,n)},_equals:function(t){return this._type===t._type&&this._size.equals(t._size)&&V.equals(this._radius,t._radius)},copyContent:function(t){this.setType(t._type),this.setSize(t._size),this.setRadius(t._radius)},getType:function(){return this._type},setType:function(t){this._type=t},getShape:"#getType",setShape:"#setType",getSize:function(){var t=this._size;return new A(t.width,t.height,this,"setSize")},setSize:function(){var t=at.read(arguments);if(this._size){if(!this._size.equals(t)){var e=this._type,n=t.width,r=t.height;"rectangle"===e?this._radius.set(at.min(this._radius,t.divide(2).abs())):"circle"===e?(n=r=(n+r)/2,this._radius=n/2):"ellipse"===e&&this._radius._set(n/2,r/2),this._size._set(n,r),this._changed(9)}}else this._size=t.clone()},getRadius:function(){var t=this._radius;return"circle"===this._type?t:new A(t.width,t.height,this,"setRadius")},setRadius:function(t){var e=this._type;if("circle"===e){if(t===this._radius)return;var n=2*t;this._radius=t,this._size._set(n,n)}else if(t=at.read(arguments),this._radius){if(this._radius.equals(t))return;this._radius.set(t),"rectangle"===e?(n=at.max(this._size,t.multiply(2)),this._size.set(n)):"ellipse"===e&&this._size._set(2*t.width,2*t.height)}else this._radius=t.clone();this._changed(9)},isEmpty:function(){return!1},toPath:function(t){var e=new(Rt[V.capitalize(this._type)])({center:new q,size:this._size,radius:this._radius,insert:!1});return e.copyAttributes(this),rt.settings.applyMatrix&&e.setApplyMatrix(!0),(t===ot||t)&&e.insertAbove(this),e},toShape:"#clone",_asPathItem:function(){return this.toPath(!1)},_draw:function(t,e,n,r){var s=this._style,u=s.hasFill(),h=s.hasStroke(),o=e.dontFinish||e.clip,l=!r;if(u||h||o){var f=this._type,p=this._radius,v="circle"===f;if(e.dontStart||t.beginPath(),l&&v)t.arc(0,0,p,0,2*Math.PI,!0);else{var c=v?p:p.width,g=v?p:p.height,k=this._size,x=k.width,C=k.height;if(l&&"rectangle"===f&&0===c&&0===g)t.rect(-x/2,-C/2,x,C);else{var _=x/2,b=C/2,d=.44771525016920644,y=c*d,S=g*d,P=[-_,-b+g,-_,-b+S,-_+y,-b,-_+c,-b,_-c,-b,_-y,-b,_,-b+S,_,-b+g,_,b-g,_,b-S,_-y,b,_-c,b,-_+c,b,-_+y,b,-_,b-S,-_,b-g];r&&r.transform(P,P,32),t.moveTo(P[0],P[1]),t.bezierCurveTo(P[2],P[3],P[4],P[5],P[6],P[7]),_!==c&&t.lineTo(P[8],P[9]),t.bezierCurveTo(P[10],P[11],P[12],P[13],P[14],P[15]),b!==g&&t.lineTo(P[16],P[17]),t.bezierCurveTo(P[18],P[19],P[20],P[21],P[22],P[23]),_!==c&&t.lineTo(P[24],P[25]),t.bezierCurveTo(P[26],P[27],P[28],P[29],P[30],P[31])}}t.closePath()}!o&&(u||h)&&(this._setStyles(t,e,n),u&&(t.fill(s.getFillRule()),t.shadowColor="rgba(0,0,0,0)"),h&&t.stroke())},_canComposite:function(){return!(this.hasFill()&&this.hasStroke())},_getBounds:function(t,e){var n=new pt(this._size).setCenter(0,0),r=this._style,s=e.stroke&&r.hasStroke()&&r.getStrokeWidth();return t&&(n=t._transformBounds(n)),s?n.expand(Rt._getStrokePadding(s,this._getStrokeMatrix(t,e))):n}},new function(){function t(n,r,s){var u=n._radius;if(!u.isZero())for(var h=n._size.divide(2),o=1;o<=4;o++){var l=new q(o>1&&o<4?-1:1,o>2?-1:1),f=l.multiply(h),p=f.subtract(l.multiply(u));if(new pt(s?f.add(l.multiply(s)):f,p).contains(r))return{point:p,quadrant:o}}}function e(n,r,s,u){var h=n.divide(r);return(!u||h.isInQuadrant(u))&&h.subtract(h.normalize()).multiply(r).divide(s).length<=1}return{_contains:function n(r){if("rectangle"===this._type){var s=t(this,r);return s?r.subtract(s.point).divide(this._radius).getLength()<=1:n.base.call(this,r)}return r.divide(this.size).getLength()<=.5},_hitTestSelf:function n(r,s,u,h){var o=!1,l=this._style,f=s.stroke&&l.hasStroke(),p=s.fill&&l.hasFill();if(f||p){var v=this._type,c=this._radius,g=f?l.getStrokeWidth()/2:0,k=s._tolerancePadding.add(Rt._getStrokePadding(g,!l.getStrokeScaling()&&h));if("rectangle"===v){var x=k.multiply(2),C=t(this,r,x);if(C)o=e(r.subtract(C.point),c,k,C.quadrant);else{var _=new pt(this._size).setCenter(0,0),b=_.expand(x),d=_.expand(x.negate());o=b._containsPoint(r)&&!d._containsPoint(r)}}else o=e(r,c,k)}return o?new ee(f?"stroke":"fill",this):n.base.apply(this,arguments)}}},{statics:new function(){function t(e,n,r,s,u){var h=V.create(Tt.prototype);return h._type=e,h._size=r,h._radius=s,h._initialize(V.getNamed(u),n),h}return{Circle:function(){var e=arguments,n=q.readNamed(e,"center"),r=V.readNamed(e,"radius");return t("circle",n,new at(2*r),r,e)},Rectangle:function(){var e=arguments,n=pt.readNamed(e,"rectangle"),r=at.min(at.readNamed(e,"radius"),n.getSize(!0).divide(2));return t("rectangle",n.getCenter(!0),n.getSize(!0),r,e)},Ellipse:function(){var e=arguments,n=Tt._readEllipse(e),r=n.radius;return t("ellipse",n.center,r.multiply(2),r,e)},_readEllipse:function(e){var n,r;if(V.hasNamed(e,"radius"))n=q.readNamed(e,"center"),r=at.readNamed(e,"radius");else{var s=pt.readNamed(e,"rectangle");n=s.getCenter(!0),r=s.getSize(!0).divide(2)}return{center:n,radius:r}}}}}),Vt=X.extend({_class:"Raster",_applyMatrix:!1,_canApplyMatrix:!1,_boundsOptions:{stroke:!1,handle:!1},_serializeFields:{crossOrigin:null,source:null},_prioritize:["crossOrigin"],_smoothing:"low",beans:!0,initialize:function(e,n){if(!this._initialize(e,n!==ot&&q.read(arguments))){var r,s=typeof e,u="string"===s?et.getElementById(e):"object"===s?e:null;if(u&&u!==X.NO_INSERT)if(u.getContext||null!=u.naturalHeight)r=u;else if(u){var h=at.read(arguments);h.isZero()||(r=zt.getCanvas(h))}r?this.setImage(r):this.setSource(e)}this._size||(this._size=new at,this._loaded=!1)},_equals:function(t){return this.getSource()===t.getSource()},copyContent:function(t){var e=t._image,n=t._canvas;if(e)this._setImage(e);else if(n){var r=zt.getCanvas(t._size);r.getContext("2d").drawImage(n,0,0),this._setImage(r)}this._crossOrigin=t._crossOrigin},getSize:function(){var t=this._size;return new A(t?t.width:0,t?t.height:0,this,"setSize")},setSize:function(t,e){var n=at.read(arguments);if(n.equals(this._size))e&&this.clear();else if(n.width>0&&n.height>0){var r=!e&&this.getElement();this._setImage(zt.getCanvas(n)),r&&this.getContext(!0).drawImage(r,0,0,n.width,n.height)}else this._canvas&&zt.release(this._canvas),this._size=n.clone()},getWidth:function(){return this._size?this._size.width:0},setWidth:function(t){this.setSize(t,this.getHeight())},getHeight:function(){return this._size?this._size.height:0},setHeight:function(t){this.setSize(this.getWidth(),t)},getLoaded:function(){return this._loaded},isEmpty:function(){var t=this._size;return!t||0===t.width&&0===t.height},getResolution:function(){var t=this._matrix,e=new q(0,0).transform(t),n=new q(1,0).transform(t).subtract(e),r=new q(0,1).transform(t).subtract(e);return new at(72/n.getLength(),72/r.getLength())},getPpi:"#getResolution",getImage:function(){return this._image},setImage:function(t){var e=this;function n(r){var s=e.getView(),u=r&&r.type||"load";s&&e.responds(u)&&(rt=s._scope,e.emit(u,new We(r)))}this._setImage(t),this._loaded?setTimeout(n,0):t&&$t.add(t,{load:function(r){e._setImage(t),n(r)},error:n})},_setImage:function(t){this._canvas&&zt.release(this._canvas),t&&t.getContext?(this._image=null,this._canvas=t,this._loaded=!0):(this._image=t,this._canvas=null,this._loaded=!!(t&&t.src&&t.complete)),this._size=new at(t?t.naturalWidth||t.width:0,t?t.naturalHeight||t.height:0),this._context=null,this._changed(1033)},getCanvas:function(){if(!this._canvas){var t=zt.getContext(this._size);try{this._image&&t.drawImage(this._image,0,0),this._canvas=t.canvas}catch{zt.release(t)}}return this._canvas},setCanvas:"#setImage",getContext:function(t){return this._context||(this._context=this.getCanvas().getContext("2d")),t&&(this._image=null,this._changed(1025)),this._context},setContext:function(t){this._context=t},getSource:function(){var t=this._image;return t&&t.src||this.toDataURL()},setSource:function(t){var e=new jt.Image,n=this._crossOrigin;n&&(e.crossOrigin=n),t&&(e.src=t),this.setImage(e)},getCrossOrigin:function(){var t=this._image;return t&&t.crossOrigin||this._crossOrigin||""},setCrossOrigin:function(t){this._crossOrigin=t;var e=this._image;e&&(e.crossOrigin=t)},getSmoothing:function(){return this._smoothing},setSmoothing:function(t){this._smoothing="string"==typeof t?t:t?"low":"off",this._changed(257)},getElement:function(){return this._canvas||this._loaded&&this._image}},{beans:!1,getSubCanvas:function(){var t=pt.read(arguments),e=zt.getContext(t.getSize());return e.drawImage(this.getCanvas(),t.x,t.y,t.width,t.height,0,0,t.width,t.height),e.canvas},getSubRaster:function(){var t=pt.read(arguments),e=new Vt(X.NO_INSERT);return e._setImage(this.getSubCanvas(t)),e.translate(t.getCenter().subtract(this.getSize().divide(2))),e._matrix.prepend(this._matrix),e.insertAbove(this),e},toDataURL:function(){var t=this._image,e=t&&t.src;if(/^data:/.test(e))return e;var n=this.getCanvas();return n?n.toDataURL.apply(n,arguments):null},drawImage:function(t){var e=q.read(arguments,1);this.getContext(!0).drawImage(t,e.x,e.y)},getAverageColor:function(t){var e,n;if(t?t instanceof ke?(n=t,e=t.getBounds()):"object"==typeof t&&("width"in t?e=new pt(t):"x"in t&&(e=new pt(t.x-.5,t.y-.5,1,1))):e=this.getBounds(),!e)return null;var s=Math.min(e.width,32),u=Math.min(e.height,32),h=Vt._sampleContext;h?h.clearRect(0,0,33,33):h=Vt._sampleContext=zt.getContext(new at(32)),h.save();var o=(new At).scale(s/e.width,u/e.height).translate(-e.x,-e.y);o.applyToContext(h),n&&n.draw(h,new V({clip:!0,matrices:[o]})),this._matrix.applyToContext(h);var l=this.getElement(),f=this._size;l&&h.drawImage(l,-f.width/2,-f.height/2),h.restore();for(var p=h.getImageData(.5,.5,Math.ceil(s),Math.ceil(u)).data,v=[0,0,0],c=0,g=0,k=p.length;g<k;g+=4){var x=p[g+3];c+=x,v[0]+=p[g]*(x/=255),v[1]+=p[g+1]*x,v[2]+=p[g+2]*x}for(g=0;g<3;g++)v[g]/=c;return c?Zt.read(v):null},getPixel:function(){var t=q.read(arguments),e=this.getContext().getImageData(t.x,t.y,1,1).data;return new Zt("rgb",[e[0]/255,e[1]/255,e[2]/255],e[3]/255)},setPixel:function(){var t=arguments,e=q.read(t),n=Zt.read(t),r=n._convert("rgb"),s=n._alpha,u=this.getContext(!0),h=u.createImageData(1,1),o=h.data;o[0]=255*r[0],o[1]=255*r[1],o[2]=255*r[2],o[3]=null!=s?255*s:255,u.putImageData(h,e.x,e.y)},clear:function(){var t=this._size;this.getContext(!0).clearRect(0,0,t.width+1,t.height+1)},createImageData:function(){var t=at.read(arguments);return this.getContext().createImageData(t.width,t.height)},getImageData:function(){var t=pt.read(arguments);return t.isEmpty()&&(t=new pt(this._size)),this.getContext().getImageData(t.x,t.y,t.width,t.height)},putImageData:function(t){var e=q.read(arguments,1);this.getContext(!0).putImageData(t,e.x,e.y)},setImageData:function(t){this.setSize(t),this.getContext(!0).putImageData(t,0,0)},_getBounds:function(t,e){var n=new pt(this._size).setCenter(0,0);return t?t._transformBounds(n):n},_hitTestSelf:function(t){if(this._contains(t)){var e=this;return new ee("pixel",e,{offset:t.add(e._size.divide(2)).round(),color:{get:function(){return e.getPixel(this.offset)}}})}},_draw:function(t,e,n){var r=this.getElement();if(r&&r.width>0&&r.height>0){t.globalAlpha=wt.clamp(this._opacity,0,1),this._setStyles(t,e,n);var s=this._smoothing,u="off"===s;Ht.setPrefixed(t,u?"imageSmoothingEnabled":"imageSmoothingQuality",!u&&s),t.drawImage(r,-this._size.width/2,-this._size.height/2)}},_canComposite:function(){return!0}}),Jt=X.extend({_class:"SymbolItem",_applyMatrix:!1,_canApplyMatrix:!1,_boundsOptions:{stroke:!0},_serializeFields:{symbol:null},initialize:function(e,n){this._initialize(e,n!==ot&&q.read(arguments,1))||this.setDefinition(e instanceof we?e:new we(e))},_equals:function(t){return this._definition===t._definition},copyContent:function(t){this.setDefinition(t._definition)},getDefinition:function(){return this._definition},setDefinition:function(t){this._definition=t,this._changed(9)},getSymbol:"#getDefinition",setSymbol:"#setDefinition",isEmpty:function(){return this._definition._item.isEmpty()},_getBounds:function(t,e){var n=this._definition._item;return n._getCachedBounds(n._matrix.prepended(t),e)},_hitTestSelf:function(t,e,n){var r=e.extend({all:!1}),s=this._definition._item._hitTest(t,r,n);return s&&(s.item=this),s},_draw:function(t,e){this._definition._item.draw(t,e)}}),we=V.extend({_class:"SymbolDefinition",initialize:function(e,n){this._id=ae.get(),this.project=rt.project,e&&this.setItem(e,n)},_serialize:function(t,e){return e.add(this,function(){return V.serialize([this._class,this._item],t,!1,e)})},_changed:function(t){8&t&&X._clearBoundsCache(this),1&t&&this.project._changed(t)},getItem:function(){return this._item},setItem:function(t,e){t._symbol&&(t=t.clone()),this._item&&(this._item._symbol=null),this._item=t,t.remove(),t.setSelected(!1),e||t.setPosition(new q),t._symbol=this,this._changed(9)},getDefinition:"#getItem",setDefinition:"#setItem",place:function(t){return new Jt(this,t)},clone:function(){return new we(this._item.clone(!1))},equals:function(t){return t===this||t&&this._item.equals(t._item)||!1}}),ee=V.extend({_class:"HitResult",initialize:function(e,n,r){this.type=e,this.item=n,r&&this.inject(r)},statics:{getOptions:function(t){var e=t&&V.read(t);return new V({type:null,tolerance:rt.settings.hitTolerance,fill:!e,stroke:!e,segments:!e,handles:!1,ends:!1,position:!1,center:!1,bounds:!1,guides:!1,selected:!1},e)}}}),_t=V.extend({_class:"Segment",beans:!0,_selection:0,initialize:function(e,n,r,s,u,h){var l,f,p,v,o=arguments.length;o>0&&(null==e||"object"==typeof e?1===o&&e&&"point"in e?(l=e.point,f=e.handleIn,p=e.handleOut,v=e.selection):(l=e,f=n,p=r,v=s):(l=[e,n],f=r!==ot?[r,s]:null,p=u!==ot?[u,h]:null)),new Re(l,this,"_point"),new Re(f,this,"_handleIn"),new Re(p,this,"_handleOut"),v&&this.setSelection(v)},_serialize:function(t,e){var n=this._point,r=this._selection,s=r||this.hasHandles()?[n,this._handleIn,this._handleOut]:n;return r&&s.push(r),V.serialize(s,t,!0,e)},_changed:function(t){var e=this._path;if(e){var s,n=e._curves,r=this._index;n&&((!t||t===this._point||t===this._handleIn)&&(s=r>0?n[r-1]:e._closed?n[n.length-1]:null)&&s._changed(),(!t||t===this._point||t===this._handleOut)&&(s=n[r])&&s._changed()),e._changed(41)}},getPoint:function(){return this._point},setPoint:function(){this._point.set(q.read(arguments))},getHandleIn:function(){return this._handleIn},setHandleIn:function(){this._handleIn.set(q.read(arguments))},getHandleOut:function(){return this._handleOut},setHandleOut:function(){this._handleOut.set(q.read(arguments))},hasHandles:function(){return!this._handleIn.isZero()||!this._handleOut.isZero()},isSmooth:function(){var t=this._handleIn,e=this._handleOut;return!t.isZero()&&!e.isZero()&&t.isCollinear(e)},clearHandles:function(){this._handleIn._set(0,0),this._handleOut._set(0,0)},getSelection:function(){return this._selection},setSelection:function(t){var e=this._selection,n=this._path;this._selection=t=t||0,n&&t!==e&&(n._updateSelection(this,e,t),n._changed(257))},_changeSelection:function(t,e){var n=this._selection;this.setSelection(e?n|t:n&~t)},isSelected:function(){return!!(7&this._selection)},setSelected:function(t){this._changeSelection(7,t)},getIndex:function(){return this._index!==ot?this._index:null},getPath:function(){return this._path||null},getCurve:function(){var t=this._path,e=this._index;return t?(e>0&&!t._closed&&e===t._segments.length-1&&e--,t.getCurves()[e]||null):null},getLocation:function(){var t=this.getCurve();return t?new ue(t,this===t._segment1?0:1):null},getNext:function(){var t=this._path&&this._path._segments;return t&&(t[this._index+1]||this._path._closed&&t[0])||null},smooth:function(t,e,n){var r=t||{},s=r.type,u=r.factor,h=this.getPrevious(),o=this.getNext(),l=(h||this)._point,f=this._point,p=(o||this)._point,v=l.getDistance(f),c=f.getDistance(p);if(s&&"catmull-rom"!==s){if("geometric"!==s)throw new Error("Smoothing method '"+s+"' not supported.");if(h&&o){var y=l.subtract(p),S=u===ot?.4:u,P=S*v/(v+c);e||this.setHandleIn(y.multiply(P)),n||this.setHandleOut(y.multiply(P-S))}}else{var d,g=u===ot?.5:u,k=Math.pow(v,g),x=k*k,C=Math.pow(c,g),_=C*C;if(!e&&h){var b=2*_+3*C*k+x;this.setHandleIn(0!=(d=3*C*(C+k))?new q((_*l._x+b*f._x-x*p._x)/d-f._x,(_*l._y+b*f._y-x*p._y)/d-f._y):new q)}if(!n&&o)b=2*x+3*k*C+_,this.setHandleOut(0!=(d=3*k*(k+C))?new q((x*p._x+b*f._x-_*l._x)/d-f._x,(x*p._y+b*f._y-_*l._y)/d-f._y):new q)}},getPrevious:function(){var t=this._path&&this._path._segments;return t&&(t[this._index-1]||this._path._closed&&t[t.length-1])||null},isFirst:function(){return!this._index},isLast:function(){var t=this._path;return t&&this._index===t._segments.length-1||!1},reverse:function(){var t=this._handleIn,e=this._handleOut,n=t.clone();t.set(e),e.set(n)},reversed:function(){return new _t(this._point,this._handleOut,this._handleIn)},remove:function(){return!!this._path&&!!this._path.removeSegment(this._index)},clone:function(){return new _t(this._point,this._handleIn,this._handleOut)},equals:function(t){return t===this||t&&this._class===t._class&&this._point.equals(t._point)&&this._handleIn.equals(t._handleIn)&&this._handleOut.equals(t._handleOut)||!1},toString:function(){var t=["point: "+this._point];return this._handleIn.isZero()||t.push("handleIn: "+this._handleIn),this._handleOut.isZero()||t.push("handleOut: "+this._handleOut),"{ "+t.join(", ")+" }"},transform:function(t){this._transformCoordinates(t,new Array(6),!0),this._changed()},interpolate:function(t,e,n){var r=1-n,s=n,u=t._point,h=e._point,o=t._handleIn,l=e._handleIn,f=e._handleOut,p=t._handleOut;this._point._set(r*u._x+s*h._x,r*u._y+s*h._y,!0),this._handleIn._set(r*o._x+s*l._x,r*o._y+s*l._y,!0),this._handleOut._set(r*p._x+s*f._x,r*p._y+s*f._y,!0),this._changed()},_transformCoordinates:function(t,e,n){var r=this._point,s=n&&this._handleIn.isZero()?null:this._handleIn,u=n&&this._handleOut.isZero()?null:this._handleOut,h=r._x,o=r._y,l=2;return e[0]=h,e[1]=o,s&&(e[l++]=s._x+h,e[l++]=s._y+o),u&&(e[l++]=u._x+h,e[l++]=u._y+o),t&&(t._transformCoordinates(e,e,l/2),h=e[0],o=e[1],n?(r._x=h,r._y=o,l=2,s&&(s._x=e[l++]-h,s._y=e[l++]-o),u&&(u._x=e[l++]-h,u._y=e[l++]-o)):(s||(e[l++]=h,e[l++]=o),u||(e[l++]=h,e[l++]=o))),e}}),Re=q.extend({initialize:function(e,n,r){var s,u,h;if(e)if((s=e[0])!==ot)u=e[1];else{var o=e;(s=o.x)===ot&&(s=(o=q.read(arguments)).x),u=o.y,h=o.selected}else s=u=0;this._x=s,this._y=u,this._owner=n,n[r]=this,h&&this.setSelected(!0)},_set:function(t,e){return this._x=t,this._y=e,this._owner._changed(this),this},getX:function(){return this._x},setX:function(t){this._x=t,this._owner._changed(this)},getY:function(){return this._y},setY:function(t){this._y=t,this._owner._changed(this)},isZero:function(){var t=wt.isZero;return t(this._x)&&t(this._y)},isSelected:function(){return!!(this._owner._selection&this._getSelection())},setSelected:function(t){this._owner._changeSelection(this._getSelection(),t)},_getSelection:function(){var t=this._owner;return this===t._point?1:this===t._handleIn?2:this===t._handleOut?4:0}}),ut=V.extend({_class:"Curve",beans:!0,initialize:function(e,n,r,s,u,h,o,l){var p,v,c,g,k,x,f=arguments.length;3===f?(this._path=e,p=n,v=r):f?1===f?"segment1"in e?(p=new _t(e.segment1),v=new _t(e.segment2)):"point1"in e?(c=e.point1,k=e.handle1,x=e.handle2,g=e.point2):Array.isArray(e)&&(c=[e[0],e[1]],g=[e[6],e[7]],k=[e[2]-e[0],e[3]-e[1]],x=[e[4]-e[6],e[5]-e[7]]):2===f?(p=new _t(e),v=new _t(n)):4===f?(c=e,k=n,x=r,g=s):8===f&&(c=[e,n],g=[o,l],k=[r-e,s-n],x=[u-o,h-l]):(p=new _t,v=new _t),this._segment1=p||new _t(c,null,k),this._segment2=v||new _t(g,x,null)},_serialize:function(t,e){return V.serialize(this.hasHandles()?[this.getPoint1(),this.getHandle1(),this.getHandle2(),this.getPoint2()]:[this.getPoint1(),this.getPoint2()],t,!0,e)},_changed:function(){this._length=this._bounds=ot},clone:function(){return new ut(this._segment1,this._segment2)},toString:function(){var t=["point1: "+this._segment1._point];return this._segment1._handleOut.isZero()||t.push("handle1: "+this._segment1._handleOut),this._segment2._handleIn.isZero()||t.push("handle2: "+this._segment2._handleIn),t.push("point2: "+this._segment2._point),"{ "+t.join(", ")+" }"},classify:function(){return ut.classify(this.getValues())},remove:function(){var t=!1;if(this._path){var e=this._segment2,n=e._handleOut;(t=e.remove())&&this._segment1._handleOut.set(n)}return t},getPoint1:function(){return this._segment1._point},setPoint1:function(){this._segment1._point.set(q.read(arguments))},getPoint2:function(){return this._segment2._point},setPoint2:function(){this._segment2._point.set(q.read(arguments))},getHandle1:function(){return this._segment1._handleOut},setHandle1:function(){this._segment1._handleOut.set(q.read(arguments))},getHandle2:function(){return this._segment2._handleIn},setHandle2:function(){this._segment2._handleIn.set(q.read(arguments))},getSegment1:function(){return this._segment1},getSegment2:function(){return this._segment2},getPath:function(){return this._path},getIndex:function(){return this._segment1._index},getNext:function(){var t=this._path&&this._path._curves;return t&&(t[this._segment1._index+1]||this._path._closed&&t[0])||null},getPrevious:function(){var t=this._path&&this._path._curves;return t&&(t[this._segment1._index-1]||this._path._closed&&t[t.length-1])||null},isFirst:function(){return!this._segment1._index},isLast:function(){var t=this._path;return t&&this._segment1._index===t._curves.length-1||!1},isSelected:function(){return this.getPoint1().isSelected()&&this.getHandle1().isSelected()&&this.getHandle2().isSelected()&&this.getPoint2().isSelected()},setSelected:function(t){this.getPoint1().setSelected(t),this.getHandle1().setSelected(t),this.getHandle2().setSelected(t),this.getPoint2().setSelected(t)},getValues:function(t){return ut.getValues(this._segment1,this._segment2,t)},getPoints:function(){for(var t=this.getValues(),e=[],n=0;n<8;n+=2)e.push(new q(t[n],t[n+1]));return e}},{getLength:function(){return null==this._length&&(this._length=ut.getLength(this.getValues(),0,1)),this._length},getArea:function(){return ut.getArea(this.getValues())},getLine:function(){return new F(this._segment1._point,this._segment2._point)},getPart:function(t,e){return new ut(ut.getPart(this.getValues(),t,e))},getPartLength:function(t,e){return ut.getLength(this.getValues(),t,e)},divideAt:function(t){return this.divideAtTime(t&&t.curve===this?t.time:this.getTimeAt(t))},divideAtTime:function(t,e){var s=null;if(t>=1e-8&&t<=.99999999){var u=ut.subdivide(this.getValues(),t),h=u[0],o=u[1],l=e||this.hasHandles(),f=this._segment1,p=this._segment2,v=this._path;l&&(f._handleOut._set(h[2]-h[0],h[3]-h[1]),p._handleIn._set(o[4]-o[6],o[5]-o[7]));var c=h[6],g=h[7],k=new _t(new q(c,g),l&&new q(h[4]-c,h[5]-g),l&&new q(o[2]-c,o[3]-g));v?(v.insert(f._index+1,k),s=this.getNext()):(this._segment2=k,this._changed(),s=new ut(k,p))}return s},splitAt:function(t){var e=this._path;return e?e.splitAt(t):null},splitAtTime:function(t){return this.splitAt(this.getLocationAtTime(t))},divide:function(t,e){return this.divideAtTime(t===ot?.5:e?t:this.getTimeAt(t))},split:function(t,e){return this.splitAtTime(t===ot?.5:e?t:this.getTimeAt(t))},reversed:function(){return new ut(this._segment2.reversed(),this._segment1.reversed())},clearHandles:function(){this._segment1._handleOut._set(0,0),this._segment2._handleIn._set(0,0)},statics:{getValues:function(t,e,n,r){var s=t._point,u=t._handleOut,h=e._handleIn,o=e._point,l=s.x,f=s.y,p=o.x,v=o.y,c=r?[l,f,l,f,p,v,p,v]:[l,f,l+u._x,f+u._y,p+h._x,v+h._y,p,v];return n&&n._transformCoordinates(c,c,4),c},subdivide:function(t,e){var n=t[0],r=t[1],s=t[2],u=t[3],h=t[4],o=t[5],l=t[6],f=t[7];e===ot&&(e=.5);var p=1-e,v=p*n+e*s,c=p*r+e*u,g=p*s+e*h,k=p*u+e*o,x=p*h+e*l,C=p*o+e*f,_=p*v+e*g,b=p*c+e*k,d=p*g+e*x,y=p*k+e*C,S=p*_+e*d,P=p*b+e*y;return[[n,r,v,c,_,b,S,P],[S,P,d,y,x,C,l,f]]},getMonoCurves:function(t,e){var n=[],r=e?0:1,s=t[r+0],u=t[r+2],h=t[r+4],o=t[r+6];if(s>=u==u>=h&&u>=h==h>=o||ut.isStraight(t))n.push(t);else{var g=[],k=wt.solveQuadratic(3*(u-h)-s+o,2*(s+h)-4*u,u-s,g,1e-8,.99999999);if(k){g.sort();var x=g[0],C=ut.subdivide(t,x);n.push(C[0]),k>1&&(C=ut.subdivide(C[1],x=(g[1]-x)/(1-x)),n.push(C[0])),n.push(C[1])}else n.push(t)}return n},solveCubic:function(t,e,n,r,s,u){var h=t[e],o=t[e+2],l=t[e+4],f=t[e+6],p=0;if(!(h<n&&f<n&&o<n&&l<n||h>n&&f>n&&o>n&&l>n)){var v=3*(o-h),c=3*(l-o)-v;p=wt.solveCubic(f-h-v-c,c,v,h-n,r,s,u)}return p},getTimeOf:function(t,e){var n=new q(t[0],t[1]),r=new q(t[6],t[7]),u=1e-7;if(null===(e.isClose(n,1e-12)?0:e.isClose(r,1e-12)?1:null))for(var o=[e.x,e.y],l=[],f=0;f<2;f++)for(var p=ut.solveCubic(t,f,o[f],l,0,1),v=0;v<p;v++){var c=l[v];if(e.isClose(ut.getPoint(t,c),u))return c}return e.isClose(n,u)?0:e.isClose(r,u)?1:null},getNearestTime:function(t,e){if(ut.isStraight(t)){var n=t[0],r=t[1],h=t[6]-n,o=t[7]-r,l=h*h+o*o;if(0===l)return 0;var f=((e.x-n)*h+(e.y-r)*o)/l;return f<1e-12?0:f>.999999999999?1:ut.getTimeOf(t,new q(n+f*h,r+f*o))}var v=1/0,c=0;function g(C){if(C>=0&&C<=1){var _=e.getDistance(ut.getPoint(t,C),!0);if(_<v)return v=_,c=C,!0}}for(var k=0;k<=100;k++)g(k/100);for(var x=.005;x>1e-8;)!g(c-x)&&!g(c+x)&&(x/=2);return c},getPart:function(t,e,n){var r=e>n;if(r){var s=e;e=n,n=s}return e>0&&(t=ut.subdivide(t,e)[1]),n<1&&(t=ut.subdivide(t,(n-e)/(1-e))[0]),r?[t[6],t[7],t[4],t[5],t[2],t[3],t[0],t[1]]:t},isFlatEnough:function(t,e){var n=t[0],r=t[1],l=t[6],f=t[7],p=3*t[2]-2*n-l,v=3*t[3]-2*r-f,c=3*t[4]-2*l-n,g=3*t[5]-2*f-r;return Math.max(p*p,c*c)+Math.max(v*v,g*g)<=16*e*e},getArea:function(t){var e=t[0],n=t[1],r=t[2],s=t[3],u=t[4],h=t[5],o=t[6],l=t[7];return 3*((l-n)*(r+u)-(o-e)*(s+h)+s*(e-u)-r*(n-h)+l*(u+e/3)-o*(h+n/3))/20},getBounds:function(t){for(var e=t.slice(0,2),n=e.slice(),r=[0,0],s=0;s<2;s++)ut._addBounds(t[s],t[s+2],t[s+4],t[s+6],s,0,e,n,r);return new pt(e[0],e[1],n[0]-e[0],n[1]-e[1])},_addBounds:function(t,e,n,r,s,u,h,o,l){function f(S,P){var w=S-P,E=S+P;w<h[s]&&(h[s]=w),E>o[s]&&(o[s]=E)}var p=h[s]+(u/=2),v=o[s]-u;if(t<p||e<p||n<p||r<p||t>v||e>v||n>v||r>v)if(e<t!=e<r&&n<t!=n<r)f(t,0),f(r,0);else{var x=wt.solveQuadratic(3*(e-n)-t+r,2*(t+n)-4*e,e-t,l);f(r,0);for(var b=0;b<x;b++){var d=l[b],y=1-d;1e-8<=d&&d<=.99999999&&f(y*y*y*t+3*y*y*d*e+3*y*d*d*n+d*d*d*r,u)}}}}},V.each(["getBounds","getStrokeBounds","getHandleBounds"],function(t){this[t]=function(){this._bounds||(this._bounds={});var e=this._bounds[t];return e||(e=this._bounds[t]=Rt[t]([this._segment1,this._segment2],!1,this._path)),e.clone()}},{}),V.each({isStraight:function(t,e,n,r){if(e.isZero()&&n.isZero())return!0;var s=r.subtract(t);if(s.isZero())return!1;if(s.isCollinear(e)&&s.isCollinear(n)){var u=new F(t,r);if(u.getDistance(t.add(e))<1e-7&&u.getDistance(r.add(n))<1e-7){var o=s.dot(s),l=s.dot(e)/o,f=s.dot(n)/o;return l>=0&&l<=1&&f<=0&&f>=-1}}return!1},isLinear:function(t,e,n,r){var s=r.subtract(t).divide(3);return e.equals(s)&&n.negate().equals(s)}},function(t,e){this[e]=function(n){var r=this._segment1,s=this._segment2;return t(r._point,r._handleOut,s._handleIn,s._point,n)},this.statics[e]=function(n,r){var s=n[0],u=n[1],h=n[6],o=n[7];return t(new q(s,u),new q(n[2]-s,n[3]-u),new q(n[4]-h,n[5]-o),new q(h,o),r)}},{statics:{},hasHandles:function(){return!this._segment1._handleOut.isZero()||!this._segment2._handleIn.isZero()},hasLength:function(t){return(!this.getPoint1().equals(this.getPoint2())||this.hasHandles())&&this.getLength()>(t||0)},isCollinear:function(t){return t&&this.isStraight()&&t.isStraight()&&this.getLine().isCollinear(t.getLine())},isHorizontal:function(){return this.isStraight()&&Math.abs(this.getTangentAtTime(.5).y)<1e-8},isVertical:function(){return this.isStraight()&&Math.abs(this.getTangentAtTime(.5).x)<1e-8}}),{beans:!1,getLocationAt:function(t,e){return this.getLocationAtTime(e?t:this.getTimeAt(t))},getLocationAtTime:function(t){return null!=t&&t>=0&&t<=1?new ue(this,t):null},getTimeAt:function(t,e){return ut.getTimeAt(this.getValues(),t,e)},getParameterAt:"#getTimeAt",getTimesWithTangent:function(){var t=q.read(arguments);return t.isZero()?[]:ut.getTimesWithTangent(this.getValues(),t)},getOffsetAtTime:function(t){return this.getPartLength(0,t)},getLocationOf:function(){return this.getLocationAtTime(this.getTimeOf(q.read(arguments)))},getOffsetOf:function(){var t=this.getLocationOf.apply(this,arguments);return t?t.getOffset():null},getTimeOf:function(){return ut.getTimeOf(this.getValues(),q.read(arguments))},getParameterOf:"#getTimeOf",getNearestLocation:function(){var t=q.read(arguments),e=this.getValues(),n=ut.getNearestTime(e,t),r=ut.getPoint(e,n);return new ue(this,n,r,null,t.getDistance(r))},getNearestPoint:function(){var t=this.getNearestLocation.apply(this,arguments);return t&&t.getPoint()}},new function(){var t=["getPoint","getTangent","getNormal","getWeightedTangent","getWeightedNormal","getCurvature"];return V.each(t,function(e){this[e+"At"]=function(n,r){var s=this.getValues();return ut[e](s,r?n:ut.getTimeAt(s,n))},this[e+"AtTime"]=function(n){return ut[e](this.getValues(),n)}},{statics:{_evaluateMethods:t}})},new function(){function t(r){var s=r[0],u=r[1],h=r[2],o=r[3],l=r[4],f=r[5],c=9*(h-l)+3*(r[6]-s),g=6*(s+l)-12*h,k=3*(h-s),x=9*(o-f)+3*(r[7]-u),C=6*(u+f)-12*o,_=3*(o-u);return function(b){var d=(c*b+g)*b+k,y=(x*b+C)*b+_;return Math.sqrt(d*d+y*y)}}function e(r,s){return Math.max(2,Math.min(16,Math.ceil(32*Math.abs(s-r))))}function n(r,s,u,h){if(null==s||s<0||s>1)return null;var o=r[0],l=r[1],f=r[2],p=r[3],v=r[4],c=r[5],g=r[6],k=r[7],x=wt.isZero;x(f-o)&&x(p-l)&&(f=o,p=l),x(v-g)&&x(c-k)&&(v=g,c=k);var P,w,C=3*(f-o),_=3*(v-f)-C,b=g-o-C-_,d=3*(p-l),y=3*(c-p)-d,S=k-l-d-y;if(0===u)P=0===s?o:1===s?g:((b*s+_)*s+C)*s+o,w=0===s?l:1===s?k:((S*s+y)*s+d)*s+l;else{var E=1e-8,T=1-E;if(s<E?(P=C,w=d):s>T?(P=3*(g-v),w=3*(k-c)):(P=(3*b*s+2*_)*s+C,w=(3*S*s+2*y)*s+d),h){0===P&&0===w&&(s<E||s>T)&&(P=v-f,w=c-p);var O=Math.sqrt(P*P+w*w);O&&(P/=O,w/=O)}if(3===u){v=6*b*s+2*_,c=6*S*s+2*y;var B=Math.pow(P*P+w*w,1.5);P=0!==B?(P*c-w*v)/B:0,w=0}}return 2===u?new q(w,-P):new q(P,w)}return{statics:{classify:function(r){var s=r[0],u=r[1],h=r[2],o=r[3],l=r[4],f=r[5],p=r[6],v=r[7],g=h*(u-v)+o*(p-s)+s*v-u*p,x=3*(l*(o-u)+f*(s-h)+h*u-o*s),C=x-g,_=C-g+(s*(v-f)+u*(l-p)+p*f-v*l),b=Math.sqrt(_*_+C*C+x*x),d=0!==b?1/b:0,y=wt.isZero,S="serpentine";function P(O,B,M){var D=B!==ot,R=D&&B>0&&B<1,z=D&&M>0&&M<1;return D&&(!(R||z)||"loop"===O&&!(R&&z))&&(O="arch",R=z=!1),{type:O,roots:R||z?R&&z?B<M?[B,M]:[M,B]:[R?B:M]:null}}if(C*=d,x*=d,y(_*=d))return y(C)?P(y(x)?"line":"quadratic"):P(S,x/(3*C));var w=3*C*C-4*_*x;if(y(w))return P("cusp",C/(2*_));var E=w>0?Math.sqrt(w/3):Math.sqrt(-w),T=2*_;return P(w>0?S:"loop",(C+E)/T,(C-E)/T)},getLength:function(r,s,u,h){if(s===ot&&(s=0),u===ot&&(u=1),ut.isStraight(r)){var o=r;u<1&&(o=ut.subdivide(o,u)[0],s/=u),s>0&&(o=ut.subdivide(o,s)[1]);var l=o[6]-o[0],f=o[7]-o[1];return Math.sqrt(l*l+f*f)}return wt.integrate(h||t(r),s,u,e(s,u))},getTimeAt:function(r,s,u){if(u===ot&&(u=s<0?1:0),0===s)return u;var h=Math.abs,l=s>0,f=l?u:0,p=l?1:u,v=t(r),c=ut.getLength(r,f,p,v),g=h(s)-c;if(h(g)<1e-12)return l?p:f;if(g>1e-12)return null;var x=0;return wt.findRoot(function C(_){return x+=wt.integrate(v,u,_,e(u,_)),u=_,x-s},v,u+s/c,f,p,32,1e-12)},getPoint:function(r,s){return n(r,s,0,!1)},getTangent:function(r,s){return n(r,s,1,!0)},getWeightedTangent:function(r,s){return n(r,s,1,!1)},getNormal:function(r,s){return n(r,s,2,!0)},getWeightedNormal:function(r,s){return n(r,s,2,!1)},getCurvature:function(r,s){return n(r,s,3,!1).x},getPeaks:function(r){var s=r[0],u=r[1],h=r[2],o=r[3],l=r[4],f=r[5],c=3*h-s-3*l+r[6],g=3*s-6*h+3*l,k=-3*s+3*h,x=3*o-u-3*f+r[7],C=3*u-6*o+3*f,_=-3*u+3*o,y=[];return wt.solveCubic(9*(c*c+x*x),9*(c*g+C*x),2*(g*g+C*C)+3*(k*c+_*x),k*g+C*_,y,1e-8,.99999999),y.sort()}}}},new function(){function t(g,k,x,C,_,b,d){var y=!d&&x.getPrevious()===_,S=!d&&x!==_&&x.getNext()===_,P=1e-8,w=1-P;if(null!==C&&C>=(y?P:0)&&C<=(S?w:1)&&null!==b&&b>=(S?P:0)&&b<=(y?w:1)){var E=new ue(x,C,null,d),T=new ue(_,b,null,d);E._intersection=T,T._intersection=E,(!k||k(E))&&ue.insert(g,E,!0)}}function e(g,k,x,C,_,b,d,y,S,P,w,E,T){if(++S>=4096||++y>=40)return S;var gt,yt,B=k[0],M=k[1],D=k[6],R=k[7],z=F.getSignedDistance,H=z(B,M,D,R,k[2],k[3]),G=z(B,M,D,R,k[4],k[5]),Y=H*G>0?3/4:4/9,it=Y*Math.min(0,H,G),lt=Y*Math.max(0,H,G),ft=z(B,M,D,R,g[0],g[1]),K=z(B,M,D,R,g[2],g[3]),tt=z(B,M,D,R,g[4],g[5]),nt=z(B,M,D,R,g[6],g[7]),dt=function n(g,k,x,C){var w,_=[0,g],b=[1/3,k],d=[2/3,x],y=[1,C],S=k-(2*g+C)/3,P=x-(g+2*C)/3;if(S*P<0)w=[[_,b,y],[_,d,y]];else{var E=S/P;w=[E>=2?[_,b,y]:E<=.5?[_,d,y]:[_,b,d,y],[_,y]]}return(S||P)<0?w.reverse():w}(ft,K,tt,nt),ct=dt[0],Q=dt[1];if(0===H&&0===G&&0===ft&&0===K&&0===tt&&0===nt||null==(gt=r(ct,Q,it,lt))||null==(yt=r(ct.reverse(),Q.reverse(),it,lt)))return S;var It=P+(w-P)*gt,bt=P+(w-P)*yt;if(Math.max(T-E,bt-It)<1e-9){var te=(It+bt)/2,ie=(E+T)/2;t(_,b,d?C:x,d?ie:te,d?x:C,d?te:ie)}else{g=ut.getPart(g,gt,yt);var re=T-E;if(yt-gt>.8)if(bt-It>re)S=e(k,(Dt=ut.subdivide(g,.5))[0],C,x,_,b,!d,y,S,E,T,It,te=(It+bt)/2),S=e(k,Dt[1],C,x,_,b,!d,y,S,E,T,te,bt);else{var Dt;S=e((Dt=ut.subdivide(k,.5))[0],g,C,x,_,b,!d,y,S,E,ie=(E+T)/2,It,bt),S=e(Dt[1],g,C,x,_,b,!d,y,S,ie,T,It,bt)}else S=0===re||re>=1e-9?e(k,g,C,x,_,b,!d,y,S,E,T,It,bt):e(g,k,x,C,_,b,d,y,S,It,bt,E,T)}return S}function r(g,k,x,C){return g[0][1]<x?s(g,!0,x):k[0][1]>C?s(k,!1,C):g[0][0]}function s(g,k,x){for(var C=g[0][0],_=g[0][1],b=1,d=g.length;b<d;b++){var y=g[b][0],S=g[b][1];if(k?S>=x:S<=x)return S===x?y:C+(x-_)*(y-C)/(S-_);C=y,_=S}return null}function u(g,k,x,C,_){var b=wt.isZero;if(b(C)&&b(_)){var d=ut.getTimeOf(g,new q(k,x));return null===d?[]:[d]}for(var y=Math.atan2(-_,C),S=Math.sin(y),P=Math.cos(y),w=[],E=[],T=0;T<8;T+=2){var O=g[T]-k,B=g[T+1]-x;w.push(O*P-B*S,O*S+B*P)}return ut.solveCubic(w,1,0,E,0,1),E}function h(g,k,x,C,_,b,d){for(var y=k[0],S=k[1],E=u(g,y,S,k[6]-y,k[7]-S),T=0,O=E.length;T<O;T++){var B=E[T],M=ut.getPoint(g,B),D=ut.getTimeOf(k,M);null!==D&&t(_,b,d?C:x,d?D:B,d?x:C,d?B:D)}}function o(g,k,x,C,_,b){var d=F.intersect(g[0],g[1],g[6],g[7],k[0],k[1],k[6],k[7]);d&&t(_,b,x,ut.getTimeOf(g,d),C,ut.getTimeOf(k,d))}function l(g,k,x,C,_,b){var d=1e-12,y=Math.min,S=Math.max;if(S(g[0],g[2],g[4],g[6])+d>y(k[0],k[2],k[4],k[6])&&y(g[0],g[2],g[4],g[6])-d<S(k[0],k[2],k[4],k[6])&&S(g[1],g[3],g[5],g[7])+d>y(k[1],k[3],k[5],k[7])&&y(g[1],g[3],g[5],g[7])-d<S(k[1],k[3],k[5],k[7])){var P=v(g,k);if(P)for(var w=0;w<2;w++){var E=P[w];t(_,b,x,E[0],C,E[1],!0)}else{var T=ut.isStraight(g),O=ut.isStraight(k),B=T&&O,M=T&&!O,D=_.length;if((B?o:T||O?h:e)(M?k:g,M?g:k,M?C:x,M?x:C,_,b,M,0,0,0,1,0,1),!B||_.length===D)for(w=0;w<4;w++){var R=w>>1,z=1&w,H=6*R,G=6*z,Y=new q(g[H],g[H+1]),it=new q(k[G],k[G+1]);Y.isClose(it,d)&&t(_,b,x,R,C,z)}}}return _}function f(g,k,x,C){var _=ut.classify(g);if("loop"===_.type){var b=_.roots;t(x,C,k,b[0],k,b[1])}return x}function v(g,k){function x(nt){var dt=nt[6]-nt[0],ct=nt[7]-nt[1];return dt*dt+ct*ct}var C=Math.abs,_=F.getDistance,d=1e-7,y=ut.isStraight(g),S=ut.isStraight(k),P=y&&S,w=x(g)<x(k),E=w?k:g,T=w?g:k,O=E[0],B=E[1],M=E[6]-O,D=E[7]-B;if(_(O,B,M,D,T[0],T[1],!0)<d&&_(O,B,M,D,T[6],T[7],!0)<d)!P&&_(O,B,M,D,E[2],E[3],!0)<d&&_(O,B,M,D,E[4],E[5],!0)<d&&_(O,B,M,D,T[2],T[3],!0)<d&&_(O,B,M,D,T[4],T[5],!0)<d&&(y=S=P=!0);else if(P)return null;if(y^S)return null;for(var R=[g,k],z=[],H=0;H<4&&z.length<2;H++){var G=1&H,Y=1^G,it=H>>1,lt=ut.getTimeOf(R[G],new q(R[Y][it?6:0],R[Y][it?7:1]));if(null!=lt){var ft=G?[it,lt]:[lt,it];(!z.length||C(ft[0]-z[0][0])>1e-8&&C(ft[1]-z[0][1])>1e-8)&&z.push(ft)}if(H>2&&!z.length)break}if(2!==z.length)z=null;else if(!P){var K=ut.getPart(g,z[0][0],z[1][0]),tt=ut.getPart(k,z[0][1],z[1][1]);(C(tt[2]-K[2])>d||C(tt[3]-K[3])>d||C(tt[4]-K[4])>d||C(tt[5]-K[5])>d)&&(z=null)}return z}return{getIntersections:function(g){var k=this.getValues(),x=g&&g!==this&&g.getValues();return x?l(k,x,this,g,[]):f(k,this,[])},statics:{getOverlaps:v,getIntersections:function p(g,k,x,C,_,b){var y=!k;y&&(k=g);for(var S=g.length,P=k.length,w=new Array(S),E=y?w:new Array(P),T=[],O=0;O<S;O++)w[O]=g[O].getValues(C);if(!y)for(O=0;O<P;O++)E[O]=k[O].getValues(_);for(var B=Ce.findCurveBoundsCollisions(w,E,1e-7),M=0;M<S;M++){var D=g[M],R=w[M];y&&f(R,D,T,x);var z=B[M];if(z)for(var H=0;H<z.length;H++){if(b&&T.length)return T;var G=z[H];(!y||G>M)&&l(R,E[G],D,k[G],T,x)}}return T},getCurveLineIntersections:u,getTimesWithTangent:function c(g,k){var x=g[0],C=g[1],_=g[2],b=g[3],d=g[4],y=g[5],S=g[6],P=g[7],w=k.normalize(),E=w.x,T=w.y,O=3*S-9*d+9*_-3*x,B=3*P-9*y+9*b-3*C,M=6*d-12*_+6*x,D=6*y-12*b+6*C,R=3*_-3*x,z=3*b-3*C,H=2*O*T-2*B*E,G=[];if(Math.abs(H)<wt.CURVETIME_EPSILON){if(0!=(H=O*D-B*M)){var it=-(O*z-B*R)/H;it>=0&&it<=1&&G.push(it)}}else{var lt=(M*M-4*O*R)*T*T+(-2*M*D+4*B*R+4*O*z)*E*T+(D*D-4*B*z)*E*E,ft=M*T-D*E;if(lt>=0&&0!=H){var K=Math.sqrt(lt),tt=-(ft+K)/H,nt=(-ft+K)/H;tt>=0&&tt<=1&&G.push(tt),nt>=0&&nt<=1&&G.push(nt)}}return G}}}}),ue=V.extend({_class:"CurveLocation",initialize:function(e,n,r,s,u){if(n>=.99999999){var h=e.getNext();h&&(n=0,e=h)}this._setCurve(e),this._time=n,this._point=r||e.getPointAtTime(n),this._overlap=s,this._distance=u,this._intersection=this._next=this._previous=null},_setPath:function(t){this._path=t,this._version=t?t._version:0},_setCurve:function(t){this._setPath(t._path),this._curve=t,this._segment=null,this._segment1=t._segment1,this._segment2=t._segment2},_setSegment:function(t){var e=t.getCurve();e?this._setCurve(e):(this._setPath(t._path),this._segment1=t,this._segment2=null),this._segment=t,this._time=t===this._segment1?0:1,this._point=t._point.clone()},getSegment:function(){var t=this._segment;if(!t){var e=this.getCurve(),n=this.getTime();0===n?t=e._segment1:1===n?t=e._segment2:null!=n&&(t=e.getPartLength(0,n)<e.getPartLength(n,1)?e._segment1:e._segment2),this._segment=t}return t},getCurve:function(){var t=this._path,e=this;function n(r){var s=r&&r.getCurve();if(s&&null!=(e._time=s.getTimeOf(e._point)))return e._setCurve(s),s}return t&&t._version!==this._version&&(this._time=this._offset=this._curveOffset=this._curve=null),this._curve||n(this._segment)||n(this._segment1)||n(this._segment2.getPrevious())},getPath:function(){var t=this.getCurve();return t&&t._path},getIndex:function(){var t=this.getCurve();return t&&t.getIndex()},getTime:function(){var t=this.getCurve(),e=this._time;return t&&null==e?this._time=t.getTimeOf(this._point):e},getParameter:"#getTime",getPoint:function(){return this._point},getOffset:function(){var t=this._offset;if(null==t){t=0;var e=this.getPath(),n=this.getIndex();if(e&&null!=n)for(var r=e.getCurves(),s=0;s<n;s++)t+=r[s].getLength();this._offset=t+=this.getCurveOffset()}return t},getCurveOffset:function(){var t=this._curveOffset;if(null==t){var e=this.getCurve(),n=this.getTime();this._curveOffset=t=null!=n&&e&&e.getPartLength(0,n)}return t},getIntersection:function(){return this._intersection},getDistance:function(){return this._distance},divide:function(){var t=this.getCurve(),e=t&&t.divideAtTime(this.getTime());return e&&this._setSegment(e._segment1),e},split:function(){var t=this.getCurve(),e=t._path,n=t&&t.splitAtTime(this.getTime());return n&&this._setSegment(e.getLastSegment()),n},equals:function(t,e){var n=this===t;if(!n&&t instanceof ue){var r=this.getCurve(),s=t.getCurve(),u=r._path;if(u===s._path){var o=Math.abs,f=o(this.getOffset()-t.getOffset()),p=!e&&this._intersection,v=!e&&t._intersection;n=(f<1e-7||u&&o(u.getLength()-f)<1e-7)&&(!p&&!v||p&&v&&p.equals(v,!0))}}return n},toString:function(){var t=[],e=this.getPoint(),n=xt.instance;e&&t.push("point: "+e);var r=this.getIndex();null!=r&&t.push("index: "+r);var s=this.getTime();return null!=s&&t.push("time: "+n.number(s)),null!=this._distance&&t.push("distance: "+n.number(this._distance)),"{ "+t.join(", ")+" }"},isTouching:function(){var t=this._intersection;if(t&&this.getTangent().isCollinear(t.getTangent())){var e=this.getCurve(),n=t.getCurve();return!(e.isStraight()&&n.isStraight()&&e.getLine().intersect(n.getLine()))}return!1},isCrossing:function(){var t=this._intersection;if(!t)return!1;var e=this.getTime(),n=t.getTime(),r=1e-8,s=1-r,u=e>=r&&e<=s,h=n>=r&&n<=s;if(u&&h)return!this.isTouching();var o=this.getCurve(),l=o&&e<r?o.getPrevious():o,f=t.getCurve(),p=f&&n<r?f.getPrevious():f;if(e>s&&(o=o.getNext()),n>s&&(f=f.getNext()),!(l&&o&&p&&f))return!1;var v=[];function c(E,T){var O=E.getValues(),B=ut.classify(O).roots||ut.getPeaks(O),M=B.length,D=ut.getLength(O,T&&M?B[M-1]:0,!T&&M?B[0]:1);v.push(M?D:D/32)}function g(E,T,O){return T<O?E>T&&E<O:E>T||E<O}u||(c(l,!0),c(o,!1)),h||(c(p,!0),c(f,!1));var k=this.getPoint(),x=Math.min.apply(Math,v),C=u?o.getTangentAtTime(e):o.getPointAt(x).subtract(k),_=u?C.negate():l.getPointAt(-x).subtract(k),b=h?f.getTangentAtTime(n):f.getPointAt(x).subtract(k),d=h?b.negate():p.getPointAt(-x).subtract(k),y=_.getAngle(),S=C.getAngle(),P=d.getAngle(),w=b.getAngle();return!!(u?g(y,P,w)^g(S,P,w)&&g(y,w,P)^g(S,w,P):g(P,y,S)^g(w,y,S)&&g(P,S,y)^g(w,S,y))},hasOverlap:function(){return!!this._overlap}},V.each(ut._evaluateMethods,function(t){var e=t+"At";this[t]=function(){var n=this.getCurve(),r=this.getTime();return null!=r&&n&&n[e](r,!0)}},{preserve:!0}),new function(){function t(e,n,r){var s=e.length,u=0,h=s-1;function o(k,x){for(var C=k+x;C>=-1&&C<=s;C+=x){var _=e[(C%s+s)%s];if(!n.getPoint().isClose(_.getPoint(),1e-7))break;if(n.equals(_))return _}return null}for(;u<=h;){var p,l=u+h>>>1,f=e[l];if(r&&(p=n.equals(f)?f:o(l,-1)||o(l,1)))return n._overlap&&(p._overlap=p._intersection._overlap=!0),p;var v=n.getPath(),c=f.getPath();(v!==c?v._id-c._id:n.getIndex()+n.getTime()-(f.getIndex()+f.getTime()))<0?h=l-1:u=l+1}return e.splice(u,0,n),n}return{statics:{insert:t,expand:function(e){for(var n=e.slice(),r=e.length-1;r>=0;r--)t(n,e[r]._intersection,!1);return n}}}}),ke=X.extend({_class:"PathItem",_selectBounds:!1,_canScaleStroke:!0,beans:!0,initialize:function(){},statics:{create:function(t){var e,n,r;if(V.isPlainObject(t)?(n=t.segments,e=t.pathData):Array.isArray(t)?n=t:"string"==typeof t&&(e=t),n){var s=n[0];r=s&&Array.isArray(s[0])}else e&&(r=(e.match(/m/gi)||[]).length>1||/z\s*\S+/i.test(e));return new(r?Ie:Rt)(t)}},_asPathItem:function(){return this},isClockwise:function(){return this.getArea()>=0},setClockwise:function(t){this.isClockwise()!=(t=!!t)&&this.reverse()},setPathData:function(t){var n,s,u,e=t&&t.match(/[mlhvcsqtaz][^mlhvcsqtaz]*/gi),r=!1,h=new q,o=new q;function l(d,y){var S=+n[d];return r&&(S+=h[y]),S}function f(d){return new q(l(d,"x"),l(d+1,"y"))}this.clear();for(var p=0,v=e&&e.length;p<v;p++){var c=e[p],g=c[0],k=g.toLowerCase(),x=(n=c.match(/[+-]?(?:\d*\.\d+|\d+\.?)(?:[eE][+-]?\d+)?/g))&&n.length;switch(r=g===k,"z"===s&&!/[mz]/.test(k)&&this.moveTo(h),k){case"m":case"l":for(var C="m"===k,_=0;_<x;_+=2)this[C?"moveTo":"lineTo"](h=f(_)),C&&(o=h,C=!1);u=h;break;case"h":case"v":var b="h"===k?"x":"y";for(h=h.clone(),_=0;_<x;_++)h[b]=l(_,b),this.lineTo(h);u=h;break;case"c":for(_=0;_<x;_+=6)this.cubicCurveTo(f(_),u=f(_+2),h=f(_+4));break;case"s":for(_=0;_<x;_+=4)this.cubicCurveTo(/[cs]/.test(s)?h.multiply(2).subtract(u):h,u=f(_),h=f(_+2)),s=k;break;case"q":for(_=0;_<x;_+=4)this.quadraticCurveTo(u=f(_),h=f(_+2));break;case"t":for(_=0;_<x;_+=2)this.quadraticCurveTo(u=/[qt]/.test(s)?h.multiply(2).subtract(u):h,h=f(_)),s=k;break;case"a":for(_=0;_<x;_+=7)this.arcTo(h=f(_+5),new at(+n[_],+n[_+1]),+n[_+2],+n[_+4],+n[_+3]);break;case"z":this.closePath(1e-12),h=o}s=k}},_canComposite:function(){return!(this.hasFill()&&this.hasStroke())},_contains:function(t){var e=t.isInside(this.getBounds({internal:!0,handle:!0}))?this._getWinding(t):{};return e.onPath||!!("evenodd"===this.getFillRule()?1&e.windingL||1&e.windingR:e.winding)},getIntersections:function(t,e,n,r){var s=this===t||!t,u=this._matrix._orNullIfIdentity(),h=s?u:(n||t._matrix)._orNullIfIdentity();return s||this.getBounds(u).intersects(t.getBounds(h),1e-12)?ut.getIntersections(this.getCurves(),!s&&t.getCurves(),e,u,h,r):[]},getCrossings:function(t){return this.getIntersections(t,function(e){return e.isCrossing()})},getNearestLocation:function(){for(var t=q.read(arguments),e=this.getCurves(),n=1/0,r=null,s=0,u=e.length;s<u;s++){var h=e[s].getNearestLocation(t);h._distance<n&&(n=h._distance,r=h)}return r},getNearestPoint:function(){var t=this.getNearestLocation.apply(this,arguments);return t&&t.getPoint()},interpolate:function(t,e,n){var r=!this._children,s=r?"_segments":"_children",u=t[s],h=e[s],o=this[s];if(!u||!h||u.length!==h.length)throw new Error("Invalid operands in interpolate() call: "+t+", "+e);var l=o.length,f=h.length;if(l<f)for(var p=r?_t:Rt,v=l;v<f;v++)this.add(new p);else l>f&&this[r?"removeSegments":"removeChildren"](f,l);for(v=0;v<f;v++)o[v].interpolate(u[v],h[v],n);r&&(this.setClosed(t._closed),this._changed(9))},compare:function(t){var e=!1;if(t){var n=this._children||[this],r=t._children?t._children.slice():[t],s=n.length,u=r.length,h=[],o=0;e=!0;for(var l=Ce.findItemBoundsCollisions(n,r,wt.GEOMETRIC_EPSILON),f=s-1;f>=0&&e;f--){var p=n[f];e=!1;var v=l[f];if(v)for(var c=v.length-1;c>=0&&!e;c--)p.compare(r[v[c]])&&(h[v[c]]||(h[v[c]]=!0,o++),e=!0)}e=e&&o===u}return e}}),Rt=ke.extend({_class:"Path",_serializeFields:{segments:[],closed:!1},initialize:function(e){this._closed=!1,this._segments=[],this._version=0;var n=arguments,r=Array.isArray(e)?"object"==typeof e[0]?e:n:!e||e.size!==ot||e.x===ot&&e.point===ot?null:n;r&&r.length>0?this.setSegments(r):(this._curves=ot,this._segmentSelection=0,!r&&"string"==typeof e&&(this.setPathData(e),e=null)),this._initialize(!r&&e)},_equals:function(t){return this._closed===t._closed&&V.equals(this._segments,t._segments)},copyContent:function(t){this.setSegments(t._segments),this._closed=t._closed},_changed:function t(e){if(t.base.call(this,e),8&e){if(this._length=this._area=ot,32&e)this._version++;else if(this._curves)for(var n=0,r=this._curves.length;n<r;n++)this._curves[n]._changed()}else 64&e&&(this._bounds=ot)},getStyle:function(){var t=this._parent;return(t instanceof Ie?t:this)._style},getSegments:function(){return this._segments},setSegments:function(t){var e=this.isFullySelected(),n=t&&t.length;if(this._segments.length=0,this._segmentSelection=0,this._curves=ot,n){var r=t[n-1];"boolean"==typeof r&&(this.setClosed(r),n--),this._add(_t.readList(t,0,{},n))}e&&this.setFullySelected(!0)},getFirstSegment:function(){return this._segments[0]},getLastSegment:function(){return this._segments[this._segments.length-1]},getCurves:function(){var t=this._curves,e=this._segments;if(!t){var n=this._countCurves();t=this._curves=new Array(n);for(var r=0;r<n;r++)t[r]=new ut(this,e[r],e[r+1]||e[0])}return t},getFirstCurve:function(){return this.getCurves()[0]},getLastCurve:function(){var t=this.getCurves();return t[t.length-1]},isClosed:function(){return this._closed},setClosed:function(t){if(this._closed!=(t=!!t)){if(this._closed=t,this._curves){var e=this._curves.length=this._countCurves();t&&(this._curves[e-1]=new ut(this,this._segments[e-1],this._segments[0]))}this._changed(41)}}},{beans:!0,getPathData:function(t,e){var o,l,f,p,v,c,g,k,n=this._segments,r=n.length,s=new xt(e),u=new Array(6),h=!0,x=[];function C(b,d){if(b._transformCoordinates(t,u),o=u[0],l=u[1],h)x.push("M"+s.pair(o,l)),h=!1;else if(c=u[3],(v=u[2])===o&&c===l&&g===f&&k===p){if(!d){var y=o-f,S=l-p;x.push(0===y?"v"+s.number(S):0===S?"h"+s.number(y):"l"+s.pair(y,S))}}else x.push("c"+s.pair(g-f,k-p)+" "+s.pair(v-f,c-p)+" "+s.pair(o-f,l-p));f=o,p=l,g=u[4],k=u[5]}if(!r)return"";for(var _=0;_<r;_++)C(n[_]);return this._closed&&r>0&&(C(n[0],!0),x.push("z")),x.join("")},isEmpty:function(){return!this._segments.length},_transformContent:function(t){for(var e=this._segments,n=new Array(6),r=0,s=e.length;r<s;r++)e[r]._transformCoordinates(t,n,!0);return!0},_add:function(t,h){for(var n=this._segments,r=this._curves,s=t.length,u=null==h,o=(h=u?n.length:h,0);o<s;o++){var l=t[o];l._path&&(l=t[o]=l.clone()),l._path=this,l._index=h+o,l._selection&&this._updateSelection(l,0,l._selection)}if(u)V.push(n,t);else{n.splice.apply(n,[h,0].concat(t)),o=h+s;for(var f=n.length;o<f;o++)n[o]._index=o}if(r){var p=this._countCurves(),v=h>0&&h+s-1===p?h-1:h,c=v,g=Math.min(v+s,p);for(t._curves&&(r.splice.apply(r,[v,0].concat(t._curves)),c+=t._curves.length),o=c;o<g;o++)r.splice(o,0,new ut(this,null,null));this._adjustCurves(v,g)}return this._changed(41),t},_adjustCurves:function(t,e){for(var s,n=this._segments,r=this._curves,u=t;u<e;u++)(s=r[u])._path=this,s._segment1=n[u],s._segment2=n[u+1]||n[0],s._changed();(s=r[this._closed&&!t?n.length-1:t-1])&&(s._segment2=n[t]||n[0],s._changed()),(s=r[e])&&(s._segment1=n[e],s._changed())},_countCurves:function(){var t=this._segments.length;return!this._closed&&t>0?t-1:t},add:function(t){var e=arguments;return e.length>1&&"number"!=typeof t?this._add(_t.readList(e)):this._add([_t.read(e)])[0]},insert:function(t,e){var n=arguments;return n.length>2&&"number"!=typeof e?this._add(_t.readList(n,1),t):this._add([_t.read(n,1)],t)[0]},addSegment:function(){return this._add([_t.read(arguments)])[0]},insertSegment:function(t){return this._add([_t.read(arguments,1)],t)[0]},addSegments:function(t){return this._add(_t.readList(t))},insertSegments:function(t,e){return this._add(_t.readList(e),t)},removeSegment:function(t){return this.removeSegments(t,t+1)[0]||null},removeSegments:function(t,e,n){t=t||0,e=V.pick(e,this._segments.length);var r=this._segments,s=this._curves,u=r.length,h=r.splice(t,e-t),o=h.length;if(!o)return h;for(var l=0;l<o;l++){var f=h[l];f._selection&&this._updateSelection(f,f._selection,0),f._index=f._path=null}l=t;for(var p=r.length;l<p;l++)r[l]._index=l;if(s){var v=t>0&&e===u+(this._closed?1:0)?t-1:t;for(l=(s=s.splice(v,o)).length-1;l>=0;l--)s[l]._path=null;n&&(h._curves=s.slice(1)),this._adjustCurves(v,v)}return this._changed(41),h},clear:"#removeSegments",hasHandles:function(){for(var t=this._segments,e=0,n=t.length;e<n;e++)if(t[e].hasHandles())return!0;return!1},clearHandles:function(){for(var t=this._segments,e=0,n=t.length;e<n;e++)t[e].clearHandles()},getLength:function(){if(null==this._length){for(var t=this.getCurves(),e=0,n=0,r=t.length;n<r;n++)e+=t[n].getLength();this._length=e}return this._length},getArea:function(){var t=this._area;if(null==t){var e=this._segments,n=this._closed;t=0;for(var r=0,s=e.length;r<s;r++){var u=r+1===s;t+=ut.getArea(ut.getValues(e[r],e[u?0:r+1],null,u&&!n))}this._area=t}return t},isFullySelected:function(){var t=this._segments.length;return this.isSelected()&&t>0&&this._segmentSelection===7*t},setFullySelected:function(t){t&&this._selectSegments(!0),this.setSelected(t)},setSelection:function t(e){1&e||this._selectSegments(!1),t.base.call(this,e)},_selectSegments:function(t){var e=this._segments,n=e.length,r=t?7:0;this._segmentSelection=r*n;for(var s=0;s<n;s++)e[s]._selection=r},_updateSelection:function(t,e,n){t._selection=n,(this._segmentSelection+=n-e)>0&&this.setSelected(!0)},divideAt:function(t){var n,e=this.getLocationAt(t);return e&&(n=e.getCurve().divideAt(e.getCurveOffset()))?n._segment1:null},splitAt:function(t){var e=this.getLocationAt(t),n=e&&e.index,r=e&&e.time;r>.99999999&&(n++,r=0);var h=this.getCurves();if(n>=0&&n<h.length){r>=1e-8&&h[n++].divideAtTime(r);var l,o=this.removeSegments(n,this._segments.length,!0);return this._closed?(this.setClosed(!1),l=this):((l=new Rt(X.NO_INSERT)).insertAbove(this),l.copyAttributes(this)),l._add(o,0),this.addSegment(o[0]),l}return null},split:function(t,e){var n,r=e===ot?t:(n=this.getCurves()[t])&&n.getLocationAtTime(e);return null!=r?this.splitAt(r):null},join:function(t,e){var n=e||0;if(t&&t!==this){var r=t._segments,s=this.getLastSegment(),u=t.getLastSegment();if(!u)return this;s&&s._point.isClose(u._point,n)&&t.reverse();var h=t.getFirstSegment();if(s&&s._point.isClose(h._point,n))s.setHandleOut(h._handleOut),this._add(r.slice(1));else{var o=this.getFirstSegment();o&&o._point.isClose(h._point,n)&&t.reverse(),u=t.getLastSegment(),o&&o._point.isClose(u._point,n)?(o.setHandleIn(u._handleIn),this._add(r.slice(0,r.length-1),0)):this._add(r.slice())}t._closed&&this._add([r[0]]),t.remove()}var l=this.getFirstSegment(),f=this.getLastSegment();return l!==f&&l._point.isClose(f._point,n)&&(l.setHandleIn(f._handleIn),f.remove(),this.setClosed(!0)),this},reduce:function(t){for(var e=this.getCurves(),n=t&&t.simplify,r=n?1e-7:0,s=e.length-1;s>=0;s--){var u=e[s];!u.hasHandles()&&(!u.hasLength(r)||n&&u.isCollinear(u.getNext()))&&u.remove()}return this},reverse:function(){this._segments.reverse();for(var t=0,e=this._segments.length;t<e;t++){var n=this._segments[t],r=n._handleIn;n._handleIn=n._handleOut,n._handleOut=r,n._index=t}this._curves=null,this._changed(9)},flatten:function(t){for(var n=new wi(this,t||.25,256,!0).parts,r=n.length,s=[],u=0;u<r;u++)s.push(new _t(n[u].curve.slice(0,2)));!this._closed&&r>0&&s.push(new _t(n[r-1].curve.slice(6))),this.setSegments(s)},simplify:function(t){var e=new Ri(this).fit(t||2.5);return e&&this.setSegments(e),!!e},smooth:function(t){var e=this,n=t||{},r=n.type||"asymmetric",s=this._segments,u=s.length,h=this._closed;function o(ct,Q){var gt=ct&&ct.index;if(null!=gt){var yt=ct.path;if(yt&&yt!==e)throw new Error(ct._class+" "+gt+" of "+yt+" is not part of "+e);Q&&ct instanceof ut&&gt++}else gt="number"==typeof ct?ct:Q;return Math.min(gt<0&&h?gt%u:gt<0?gt+u:gt,u-1)}var l=h&&n.from===ot&&n.to===ot,f=o(n.from,0),p=o(n.to,u-1);if(f>p)if(h)f-=u;else{var v=f;f=p,p=v}if(/^(?:asymmetric|continuous)$/.test(r)){var c="asymmetric"===r,g=Math.min,k=p-f+1,x=k-1,C=l?g(k,4):1,_=C,b=C,d=[];if(h||(_=g(1,f),b=g(1,u-p-1)),(x+=_+b)<=1)return;for(var y=0,S=f-_;y<=x;y++,S++)d[y]=s[(S<0?S+u:S)%u]._point;var P=d[0]._x+2*d[1]._x,w=d[0]._y+2*d[1]._y,E=2,T=x-1,O=[P],B=[w],M=[E],D=[],R=[];for(y=1;y<x;y++){var z=y<T,Y=z?4:c?3:8,it=z?2:c?0:1,lt=(z||c?1:2)/E;E=M[y]=(z?4:c?2:7)-lt,P=O[y]=Y*d[y]._x+it*d[y+1]._x-lt*P,w=B[y]=Y*d[y]._y+it*d[y+1]._y-lt*w}for(D[T]=O[T]/M[T],R[T]=B[T]/M[T],y=x-2;y>=0;y--)D[y]=(O[y]-D[y+1])/M[y],R[y]=(B[y]-R[y+1])/M[y];D[x]=(3*d[x]._x-D[T])/2,R[x]=(3*d[x]._y-R[T])/2,y=_;var ft=x-b;for(S=f;y<=ft;y++,S++){var K=s[S<0?S+u:S],tt=K._point,nt=D[y]-tt._x,dt=R[y]-tt._y;(l||y<ft)&&K.setHandleOut(nt,dt),(l||y>_)&&K.setHandleIn(-nt,-dt)}}else for(y=f;y<=p;y++)s[y<0?y+u:y].smooth(n,!l&&y===f,!l&&y===p)},toShape:function(t){if(!this._closed)return null;var n,r,s,u,e=this._segments;function h(c,g){var k=e[c],x=k.getNext(),C=e[g],_=C.getNext();return k._handleOut.isZero()&&x._handleIn.isZero()&&C._handleOut.isZero()&&_._handleIn.isZero()&&x._point.subtract(k._point).isCollinear(_._point.subtract(C._point))}function l(c){var g=e[c],k=g.getNext(),x=g._handleOut,C=k._handleIn,_=.5522847498307936;if(x.isOrthogonal(C)){var b=g._point,d=k._point,y=new F(b,x,!0).intersect(new F(d,C,!0),!0);return y&&wt.isZero(x.getLength()/y.subtract(b).getLength()-_)&&wt.isZero(C.getLength()/y.subtract(d).getLength()-_)}return!1}function f(c,g){return e[c]._point.getDistance(e[g]._point)}if(!this.hasHandles()&&4===e.length&&h(0,2)&&h(1,3)&&function o(c){var g=e[c],k=g.getPrevious(),x=g.getNext();return k._handleOut.isZero()&&g._handleIn.isZero()&&g._handleOut.isZero()&&x._handleIn.isZero()&&g._point.subtract(k._point).isOrthogonal(x._point.subtract(g._point))}(1)?(n=Tt.Rectangle,r=new at(f(0,3),f(0,1)),u=e[1]._point.add(e[2]._point).divide(2)):8===e.length&&l(0)&&l(2)&&l(4)&&l(6)&&h(1,5)&&h(3,7)?(n=Tt.Rectangle,s=(r=new at(f(1,6),f(0,3))).subtract(new at(f(0,7),f(1,2))).divide(2),u=e[3]._point.add(e[4]._point).divide(2)):4===e.length&&l(0)&&l(1)&&l(2)&&l(3)&&(wt.isZero(f(0,2)-f(1,3))?(n=Tt.Circle,s=f(0,2)/2):(n=Tt.Ellipse,s=new at(f(2,0)/2,f(3,1)/2)),u=e[1]._point),n){var p=this.getPosition(!0),v=new n({center:p,size:r,radius:s,insert:!1});return v.copyAttributes(this,!0),v._matrix.prepend(this._matrix),v.rotate(u.subtract(p).getAngle()+90),(t===ot||t)&&v.insertAbove(this),v}return null},toPath:"#clone",compare:function t(e){if(!e||e instanceof Ie)return t.base.call(this,e);var n=this.getCurves(),r=e.getCurves(),s=n.length,u=r.length;if(!s||!u)return s==u;for(var f,v,h=n[0].getValues(),o=[],l=0,p=0,c=0;c<u;c++){var C=r[c].getValues();if(o.push(C),g=ut.getOverlaps(h,C)){f=!c&&g[0][0]>0?u-1:c,v=g[0][1];break}}var _,k=Math.abs;for(C=o[f];h&&C;){var g;if((g=ut.getOverlaps(h,C))&&k(g[0][0]-p)<1e-8){1===(p=g[1][0])&&(h=++l<s?n[l].getValues():null,p=0);var d=g[0][1];if(k(d-v)<1e-8){if(_||(_=[f,d]),1===(v=g[1][1])&&(++f>=u&&(f=0),C=o[f]||r[f].getValues(),v=0),!h)return _[0]===f&&_[1]===v;continue}}break}return!1},_hitTestSelf:function(t,e,n,r){var v,c,g,k,x,C,s=this,u=this.getStyle(),h=this._segments,o=h.length,l=this._closed,f=e._tolerancePadding,p=f,_=e.stroke&&u.hasStroke(),b=e.fill&&u.hasFill(),d=e.curves,y=_?u.getStrokeWidth()/2:b&&e.tolerance>0||d?0:null;function S(D,R){return t.subtract(D).divide(R).length<=1}function P(D,R,z){if(!e.selected||R.isSelected()){var H=D._point;if(R!==H&&(R=R.add(H)),S(R,p))return new ee(z,s,{segment:D,point:R})}}function w(D,R){return(R||e.segments)&&P(D,D._point,"segment")||!R&&e.handles&&(P(D,D._handleIn,"handle-in")||P(D,D._handleOut,"handle-out"))}function E(D){k.add(D)}function T(D){var z,R=l||D._index>0&&D._index<o-1;return"round"===(R?v:c)?S(D._point,p):(k=new Rt({internal:!0,closed:!0}),R?D.isSmooth()||Rt._addBevelJoin(D,v,y,g,null,r,E,!0):"square"===c&&Rt._addSquareCap(D,c,y,null,r,E,!0),k.isEmpty()?void 0:k.contains(t)||(z=k.getNearestLocation(t))&&S(z.getPoint(),f))}if(null!==y&&(y>0?(v=u.getStrokeJoin(),c=u.getStrokeCap(),g=u.getMiterLimit(),p=p.add(Rt._getStrokePadding(y,r))):v=c="round"),!e.ends||e.segments||l){if(e.segments||e.handles)for(var O=0;O<o;O++)if(C=w(h[O]))return C}else if(C=w(h[0],!0)||w(h[o-1],!0))return C;if(null!==y){if(x=this.getNearestLocation(t)){var B=x.getTime();0===B||1===B&&o>1?T(x.getSegment())||(x=null):S(x.getPoint(),p)||(x=null)}if(!x&&"miter"===v&&o>1)for(O=0;O<o;O++){var M=h[O];if(t.getDistance(M._point)<=g*y&&T(M)){x=M.getLocation();break}}}return!x&&b&&this._contains(t)||x&&!_&&!d?new ee("fill",this):x?new ee(_?"stroke":"curve",this,{location:x,point:x.getPoint()}):null}},V.each(ut._evaluateMethods,function(t){this[t+"At"]=function(e){var n=this.getLocationAt(e);return n&&n[t]()}},{beans:!1,getLocationOf:function(){for(var t=q.read(arguments),e=this.getCurves(),n=0,r=e.length;n<r;n++){var s=e[n].getLocationOf(t);if(s)return s}return null},getOffsetOf:function(){var t=this.getLocationOf.apply(this,arguments);return t?t.getOffset():null},getLocationAt:function(t){if("number"==typeof t){for(var e=this.getCurves(),n=0,r=0,s=e.length;r<s;r++){var u=n,h=e[r];if((n+=h.getLength())>t)return h.getLocationAt(t-u)}if(e.length>0&&t<=this.getLength())return new ue(e[e.length-1],1)}else if(t&&t.getPath&&t.getPath()===this)return t;return null},getOffsetsWithTangent:function(){var t=q.read(arguments);if(t.isZero())return[];for(var e=[],n=0,r=this.getCurves(),s=0,u=r.length;s<u;s++){for(var h=r[s],o=h.getTimesWithTangent(t),l=0,f=o.length;l<f;l++){var p=n+h.getOffsetAtTime(o[l]);e.indexOf(p)<0&&e.push(p)}n+=h.length}return e}}),new function(){function e(n,r,s){var f,p,v,c,g,k,x,C,u=r._segments,h=u.length,o=new Array(6),l=!0;function _(d){if(s)d._transformCoordinates(s,o),f=o[0],p=o[1];else{var y=d._point;f=y._x,p=y._y}var S;l?(n.moveTo(f,p),l=!1):(s?(g=o[2],k=o[3]):(g=f+(S=d._handleIn)._x,k=p+S._y),g===f&&k===p&&x===v&&C===c?n.lineTo(f,p):n.bezierCurveTo(x,C,g,k,f,p)),v=f,c=p,s?(x=o[4],C=o[5]):(x=v+(S=d._handleOut)._x,C=c+S._y)}for(var b=0;b<h;b++)_(u[b]);r._closed&&h>0&&_(u[0])}return{_draw:function(n,r,s,u){var h=r.dontStart,o=r.dontFinish||r.clip,l=this.getStyle(),f=l.hasFill(),p=l.hasStroke(),v=l.getDashArray(),c=!rt.support.nativeDash&&p&&v&&v.length;function g(d){return v[(d%c+c)%c]}if(h||n.beginPath(),(f||p&&!c||o)&&(e(n,this,u),this._closed&&n.closePath()),!o&&(f||p)&&(this._setStyles(n,r,s),f&&(n.fill(l.getFillRule()),n.shadowColor="rgba(0,0,0,0)"),p)){if(c){h||n.beginPath();for(var _,k=new wi(this,.25,32,!1,u),x=k.length,C=-l.getDashOffset(),b=0;C>0;)C-=g(b--)+g(b--);for(;C<x;)_=C+g(b++),(C>0||_>0)&&k.drawPart(n,Math.max(C,0),Math.max(_,0)),C=_+g(b++)}n.stroke()}},_drawSelected:function(n,r){n.beginPath(),e(n,this,r),n.stroke(),function t(n,r,s,u){if(!(u<=0))for(var p,v,h=u/2,o=u-2,l=h-1,f=new Array(6),g=0,k=r.length;g<k;g++){var x=r[g],C=x._selection;if(x._transformCoordinates(s,f),p=f[0],v=f[1],2&C&&c(2),4&C&&c(4),n.fillRect(p-h,v-h,u,u),o>0&&!(1&C)){var _=n.fillStyle;n.fillStyle="#ffffff",n.fillRect(p-l,v-l,o,o),n.fillStyle=_}}function c(b){var d=f[b],y=f[b+1];(p!=d||v!=y)&&(n.beginPath(),n.moveTo(p,v),n.lineTo(d,y),n.stroke(),n.beginPath(),n.arc(d,y,h,0,2*Math.PI,!0),n.fill())}}(n,this._segments,r,rt.settings.handleSize)}}},new function(){function t(e){var n=e._segments;if(!n.length)throw new Error("Use a moveTo() command first");return n[n.length-1]}return{moveTo:function(){var e=this._segments;1===e.length&&this.removeSegment(0),e.length||this._add([new _t(q.read(arguments))])},moveBy:function(){throw new Error("moveBy() is unsupported on Path items.")},lineTo:function(){this._add([new _t(q.read(arguments))])},cubicCurveTo:function(){var e=arguments,n=q.read(e),r=q.read(e),s=q.read(e),u=t(this);u.setHandleOut(n.subtract(u._point)),this._add([new _t(s,r.subtract(s))])},quadraticCurveTo:function(){var e=arguments,n=q.read(e),r=q.read(e),s=t(this)._point;this.cubicCurveTo(n.add(s.subtract(n).multiply(1/3)),n.add(r.subtract(n).multiply(1/3)),r)},curveTo:function(){var e=arguments,n=q.read(e),r=q.read(e),s=V.pick(V.read(e),.5),u=1-s,h=t(this)._point,o=n.subtract(h.multiply(u*u)).subtract(r.multiply(s*s)).divide(2*s*u);if(o.isNaN())throw new Error("Cannot put a curve through points with parameter = "+s);this.quadraticCurveTo(o,r)},arcTo:function(){var p,v,c,g,e=arguments,n=Math.abs,r=Math.sqrt,s=t(this),u=s._point,h=q.read(e),l=V.peek(e);if("boolean"==typeof(f=V.pick(l,!0)))var o=(k=u.add(h).divide(2)).add(k.subtract(u).rotate(f?-90:90));else if(V.remain(e)<=2)o=h,h=q.read(e);else if(!u.equals(h)){var x=at.read(e),C=wt.isZero;if(C(x.width)||C(x.height))return this.lineTo(h);var _=V.read(e),f=!!V.read(e),b=!!V.read(e),k=u.add(h).divide(2),y=(d=u.subtract(k).rotate(-_)).x,S=d.y,P=n(x.width),w=n(x.height),E=P*P,T=w*w,O=y*y,B=S*S,M=r(O/E+B/T);if(M>1&&(E=(P*=M)*P,T=(w*=M)*w),n(M=(E*T-E*B-T*O)/(E*B+T*O))<1e-12&&(M=0),M<0)throw new Error("Cannot create an arc with the given arguments");p=new q(P*S/w,-w*y/P).multiply((b===f?-1:1)*r(M)).rotate(_).add(k),v=(c=(g=(new At).translate(p).rotate(_).scale(P,w))._inverseTransform(u)).getDirectedAngle(g._inverseTransform(h)),!f&&v>0?v-=360:f&&v<0&&(v+=360)}if(o){var D=new F(u.add(o).divide(2),o.subtract(u).rotate(90),!0),R=new F(o.add(h).divide(2),h.subtract(o).rotate(90),!0),z=new F(u,h),H=z.getSide(o);if(!(p=D.intersect(R,!0))){if(!H)return this.lineTo(h);throw new Error("Cannot create an arc with the given arguments")}v=(c=u.subtract(p)).getDirectedAngle(h.subtract(p));var G=z.getSide(p,!0);0===G?v=H*n(v):H===G&&(v+=v<0?360:-360)}if(v){for(var it=n(v),lt=it>=360?4:Math.ceil((it-1e-5)/90),ft=v/lt,K=ft*Math.PI/360,tt=4/3*Math.sin(K)/(1+Math.cos(K)),nt=[],dt=0;dt<=lt;dt++){var d=h,ct=null;if(dt<lt&&(ct=c.rotate(90).multiply(tt),g?(d=g._transformPoint(c),ct=g._transformPoint(c.add(ct)).subtract(d)):d=p.add(c)),dt){var Q=c.rotate(-90).multiply(tt);g&&(Q=g._transformPoint(c.add(Q)).subtract(d)),nt.push(new _t(d,Q,ct))}else s.setHandleOut(ct);c=c.rotate(ft)}this._add(nt)}},lineBy:function(){var e=q.read(arguments),n=t(this)._point;this.lineTo(n.add(e))},curveBy:function(){var e=arguments,n=q.read(e),r=q.read(e),s=V.read(e),u=t(this)._point;this.curveTo(u.add(n),u.add(r),s)},cubicCurveBy:function(){var e=arguments,n=q.read(e),r=q.read(e),s=q.read(e),u=t(this)._point;this.cubicCurveTo(u.add(n),u.add(r),u.add(s))},quadraticCurveBy:function(){var e=arguments,n=q.read(e),r=q.read(e),s=t(this)._point;this.quadraticCurveTo(s.add(n),s.add(r))},arcBy:function(){var e=arguments,n=t(this)._point,r=n.add(q.read(e)),s=V.pick(V.peek(e),!0);this.arcTo(r,"boolean"==typeof s?s:n.add(q.read(e)))},closePath:function(e){this.setClosed(!0),this.join(this,e)}}},{_getBounds:function(t,e){return Rt[e.handle?"getHandleBounds":e.stroke?"getStrokeBounds":"getBounds"](this._segments,this._closed,this,t,e)},statics:{getBounds:function(t,e,n,r,s,u){var h=t[0];if(!h)return new pt;var o=new Array(6),l=h._transformCoordinates(r,new Array(6)),f=l.slice(0,2),p=f.slice(),v=new Array(2);function c(x){x._transformCoordinates(r,o);for(var C=0;C<2;C++)ut._addBounds(l[C],l[C+4],o[C+2],o[C],C,u?u[C]:0,f,p,v);var _=l;l=o,o=_}for(var g=1,k=t.length;g<k;g++)c(t[g]);return e&&c(h),new pt(f[0],f[1],p[0]-f[0],p[1]-f[1])},getStrokeBounds:function(t,e,n,r,s){var u=n.getStyle(),h=u.hasStroke(),o=u.getStrokeWidth(),l=h&&n._getStrokeMatrix(r,s),f=h&&Rt._getStrokePadding(o,l),p=Rt.getBounds(t,e,n,r,s,f);if(!h)return p;var v=o/2,c=u.getStrokeJoin(),g=u.getStrokeCap(),k=u.getMiterLimit(),x=new pt(new at(f));function C(P){p=p.include(P)}function _(P){p=p.unite(x.setCenter(P._point.transform(r)))}function b(P,w){"round"===w||P.isSmooth()?_(P):Rt._addBevelJoin(P,w,v,k,r,l,C)}function d(P,w){"round"===w?_(P):Rt._addSquareCap(P,w,v,r,l,C)}var y=t.length-(e?0:1);if(y>0){for(var S=1;S<y;S++)b(t[S],c);e?b(t[0],c):(d(t[0],g),d(t[t.length-1],g))}return p},_getStrokePadding:function(t,e){if(!e)return[t,t];var n=new q(t,0).transform(e),r=new q(0,t).transform(e),s=n.getAngleInRadians(),u=n.getLength(),h=r.getLength(),o=Math.sin(s),l=Math.cos(s),f=Math.tan(s),p=Math.atan2(h*f,u),v=Math.atan2(h,f*u);return[Math.abs(u*Math.cos(p)*l+h*Math.sin(p)*o),Math.abs(h*Math.sin(v)*l+u*Math.cos(v)*o)]},_addBevelJoin:function(t,e,n,r,s,u,h,o){var l=t.getCurve(),f=l.getPrevious(),p=l.getPoint1().transform(s),v=f.getNormalAtTime(1).multiply(n).transform(u),c=l.getNormalAtTime(0).multiply(n).transform(u),g=v.getDirectedAngle(c);if((g<0||g>=180)&&(v=v.negate(),c=c.negate()),o&&h(p),h(p.add(v)),"miter"===e){var k=new F(p.add(v),new q(-v.y,v.x),!0).intersect(new F(p.add(c),new q(-c.y,c.x),!0),!0);k&&p.getDistance(k)<=r*n&&h(k)}h(p.add(c))},_addSquareCap:function(t,e,n,r,s,u,h){var o=t._point.transform(r),l=t.getLocation(),f=l.getNormal().multiply(0===l.getTime()?n:-n).transform(s);"square"===e&&(h&&(u(o.subtract(f)),u(o.add(f))),o=o.add(f.rotate(-90))),u(o.add(f)),u(o.subtract(f))},getHandleBounds:function(t,e,n,r,s){var o,l,u=n.getStyle();if(s.stroke&&u.hasStroke()){var f=n._getStrokeMatrix(r,s),p=u.getStrokeWidth()/2,v=p;"miter"===u.getStrokeJoin()&&(v=p*u.getMiterLimit()),"square"===u.getStrokeCap()&&(v=Math.max(v,p*Math.SQRT2)),o=Rt._getStrokePadding(p,f),l=Rt._getStrokePadding(v,f)}for(var c=new Array(6),g=1/0,k=-g,x=g,C=k,_=0,b=t.length;_<b;_++){t[_]._transformCoordinates(r,c);for(var y=0;y<6;y+=2){var S=y?o:l,P=S?S[0]:0,w=S?S[1]:0,E=c[y],T=c[y+1],O=E-P,B=E+P,M=T-w,D=T+w;O<g&&(g=O),B>k&&(k=B),M<x&&(x=M),D>C&&(C=D)}}return new pt(g,x,k-g,C-x)}}});Rt.inject({statics:new function(){var t=.5522847498307936,e=[new _t([-1,0],[0,t],[0,-t]),new _t([0,-1],[-t,0],[t,0]),new _t([1,0],[0,-t],[0,t]),new _t([0,1],[t,0],[-t,0])];function n(s,u,h){var o=V.getNamed(h),l=new Rt(o&&(1==o.insert?X.INSERT:0==o.insert?X.NO_INSERT:null));return l._add(s),l._closed=u,l.set(o,X.INSERT)}function r(s,u,h){for(var o=new Array(4),l=0;l<4;l++){var f=e[l];o[l]=new _t(f._point.multiply(u).add(s),f._handleIn.multiply(u),f._handleOut.multiply(u))}return n(o,!0,h)}return{Line:function(){var s=arguments;return n([new _t(q.readNamed(s,"from")),new _t(q.readNamed(s,"to"))],!1,s)},Circle:function(){var s=arguments,u=q.readNamed(s,"center"),h=V.readNamed(s,"radius");return r(u,new at(h),s)},Rectangle:function(){var v,s=arguments,u=pt.readNamed(s,"rectangle"),h=at.readNamed(s,"radius",0,{readNull:!0}),o=u.getBottomLeft(!0),l=u.getTopLeft(!0),f=u.getTopRight(!0),p=u.getBottomRight(!0);if(!h||h.isZero())v=[new _t(o),new _t(l),new _t(f),new _t(p)];else{var c=(h=at.min(h,u.getSize(!0).divide(2))).width,g=h.height,k=c*t,x=g*t;v=[new _t(o.add(c,0),null,[-k,0]),new _t(o.subtract(0,g),[0,x]),new _t(l.add(0,g),null,[0,-x]),new _t(l.add(c,0),[-k,0],null),new _t(f.subtract(c,0),null,[k,0]),new _t(f.add(0,g),[0,-x],null),new _t(p.subtract(0,g),null,[0,x]),new _t(p.subtract(c,0),[k,0])]}return n(v,!0,s)},RoundRectangle:"#Rectangle",Ellipse:function(){var s=arguments,u=Tt._readEllipse(s);return r(u.center,u.radius,s)},Oval:"#Ellipse",Arc:function(){var s=arguments,u=q.readNamed(s,"from"),h=q.readNamed(s,"through"),o=q.readNamed(s,"to"),l=V.getNamed(s),f=new Rt(l&&0==l.insert&&X.NO_INSERT);return f.moveTo(u),f.arcTo(h,o),f.set(l)},RegularPolygon:function(){for(var s=arguments,u=q.readNamed(s,"center"),h=V.readNamed(s,"sides"),o=V.readNamed(s,"radius"),l=360/h,f=h%3==0,p=new q(0,f?-o:o),v=f?-1:.5,c=new Array(h),g=0;g<h;g++)c[g]=new _t(u.add(p.rotate((g+v)*l)));return n(c,!0,s)},Star:function(){for(var s=arguments,u=q.readNamed(s,"center"),h=2*V.readNamed(s,"points"),o=V.readNamed(s,"radius1"),l=V.readNamed(s,"radius2"),f=360/h,p=new q(0,-1),v=new Array(h),c=0;c<h;c++)v[c]=new _t(u.add(p.rotate(f*c).multiply(c%2?l:o)));return n(v,!0,s)}}}});var Ie=ke.extend({_class:"CompoundPath",_serializeFields:{children:[]},beans:!0,initialize:function(e){this._children=[],this._namedChildren={},this._initialize(e)||("string"==typeof e?this.setPathData(e):this.addChildren(Array.isArray(e)?e:arguments))},insertChildren:function t(e,n){var r=n,s=r[0];s&&"number"==typeof s[0]&&(r=[r]);for(var u=n.length-1;u>=0;u--){var h=r[u];r===n&&!(h instanceof Rt)&&(r=V.slice(r)),Array.isArray(h)?r[u]=new Rt({segments:h,insert:!1}):h instanceof Ie&&(r.splice.apply(r,[u,1].concat(h.removeChildren())),h.remove())}return t.base.call(this,e,r)},reduce:function t(e){for(var n=this._children,r=n.length-1;r>=0;r--)(s=n[r].reduce(e)).isEmpty()&&s.remove();var s;return n.length?t.base.call(this):((s=new Rt(X.NO_INSERT)).copyAttributes(this),s.insertAbove(this),this.remove(),s)},isClosed:function(){for(var t=this._children,e=0,n=t.length;e<n;e++)if(!t[e]._closed)return!1;return!0},setClosed:function(t){for(var e=this._children,n=0,r=e.length;n<r;n++)e[n].setClosed(t)},getFirstSegment:function(){var t=this.getFirstChild();return t&&t.getFirstSegment()},getLastSegment:function(){var t=this.getLastChild();return t&&t.getLastSegment()},getCurves:function(){for(var t=this._children,e=[],n=0,r=t.length;n<r;n++)V.push(e,t[n].getCurves());return e},getFirstCurve:function(){var t=this.getFirstChild();return t&&t.getFirstCurve()},getLastCurve:function(){var t=this.getLastChild();return t&&t.getLastCurve()},getArea:function(){for(var t=this._children,e=0,n=0,r=t.length;n<r;n++)e+=t[n].getArea();return e},getLength:function(){for(var t=this._children,e=0,n=0,r=t.length;n<r;n++)e+=t[n].getLength();return e},getPathData:function(t,e){for(var n=this._children,r=[],s=0,u=n.length;s<u;s++){var h=n[s],o=h._matrix;r.push(h.getPathData(t&&!o.isIdentity()?t.appended(o):t,e))}return r.join("")},_hitTestChildren:function t(e,n,r){return t.base.call(this,e,n.class===Rt||"path"===n.type?n:V.set({},n,{fill:!1}),r)},_draw:function(t,e,n,r){var s=this._children;if(s.length){e=e.extend({dontStart:!0,dontFinish:!0}),t.beginPath();for(var u=0,h=s.length;u<h;u++)s[u].draw(t,e,r);if(!e.clip){this._setStyles(t,e,n);var o=this._style;o.hasFill()&&(t.fill(o.getFillRule()),t.shadowColor="rgba(0,0,0,0)"),o.hasStroke()&&t.stroke()}}},_drawSelected:function(t,e,n){for(var r=this._children,s=0,u=r.length;s<u;s++){var h=r[s],o=h._matrix;n[h._id]||h._drawSelected(t,o.isIdentity()?e:e.appended(o))}}},new function(){function t(e,n){var r=e._children;if(n&&!r.length)throw new Error("Use a moveTo() command first");return r[r.length-1]}return V.each(["lineTo","cubicCurveTo","quadraticCurveTo","curveTo","arcTo","lineBy","cubicCurveBy","quadraticCurveBy","curveBy","arcBy"],function(e){this[e]=function(){var n=t(this,!0);n[e].apply(n,arguments)}},{moveTo:function(){var e=t(this),n=e&&e.isEmpty()?e:new Rt(X.NO_INSERT);n!==e&&this.addChild(n),n.moveTo.apply(n,arguments)},moveBy:function(){var e=t(this,!0),n=e&&e.getLastSegment(),r=q.read(arguments);this.moveTo(n?r.add(n._point):r)},closePath:function(e){t(this,!0).closePath(e)}})},V.each(["reverse","flatten","simplify","smooth"],function(t){this[t]=function(e){for(var r,n=this._children,s=0,u=n.length;s<u;s++)r=n[s][t](e)||r;return r}},{}));ke.inject(new function(){var t=Math.min,e=Math.max,n=Math.abs,r={unite:{1:!0,2:!0},intersect:{2:!0},subtract:{1:!0},exclude:{1:!0,"-1":!0}};function s(_){return _._children||[_]}function u(_,b){var d=_.clone(!1).reduce({simplify:!0}).transform(null,!0,!0);if(b){for(var y=s(d),S=0,P=y.length;S<P;S++)!(_=y[S])._closed&&!_.isEmpty()&&(_.closePath(1e-12),_.getFirstSegment().setHandleIn(0,0),_.getLastSegment().setHandleOut(0,0));d=d.resolveCrossings().reorient("nonzero"===d.getFillRule(),!0)}return d}function h(_,b,d,y,S){var P=new Ie(X.NO_INSERT);return P.addChildren(_,!0),P=P.reduce({simplify:b}),S&&0==S.insert||P.insertAbove(y&&d.isSibling(y)&&d.getIndex()<y.getIndex()?y:d),P.copyAttributes(d,!0),P}function o(_){return _.hasOverlap()||_.isCrossing()}function l(_,b,d,y){if(y&&(0==y.trace||y.stroke)&&/^(subtract|intersect)$/.test(d))return f(_,b,d);var S=u(_,!0),P=b&&_!==b&&u(b,!0),w=r[d];w[d]=!0,P&&(w.subtract||w.exclude)^P.isClockwise()^S.isClockwise()&&P.reverse();var D,E=g(ue.expand(S.getIntersections(P,o))),T=s(S),O=P&&s(P),B=[],M=[];function R(ct){for(var Q=0,gt=ct.length;Q<gt;Q++){var yt=ct[Q];V.push(B,yt._segments),V.push(M,yt.getCurves()),yt._overlapsOnly=!0}}function z(ct){for(var Q=[],gt=0,yt=ct&&ct.length;gt<yt;gt++)Q.push(M[ct[gt]]);return Q}if(E.length){R(T),O&&R(O);for(var H=new Array(M.length),G=0,Y=M.length;G<Y;G++)H[G]=M[G].getValues();var it=Ce.findCurveBoundsCollisions(H,H,0,!0),lt={};for(G=0;G<M.length;G++){var ft=M[G],K=ft._path._id;(lt[K]=lt[K]||{})[ft.getIndex()]={hor:z(it[G].hor),ver:z(it[G].ver)}}for(G=0,Y=E.length;G<Y;G++)x(E[G]._segment,S,P,lt,w);for(G=0,Y=B.length;G<Y;G++){var nt=B[G],dt=nt._intersection;nt._winding||x(nt,S,P,lt,w),dt&&dt._overlap||(nt._path._overlapsOnly=!1)}D=C(B,w)}else D=c(O?T.concat(O):T.slice(),function(ct){return!!w[ct]});return h(D,!0,_,b,y)}function f(_,b,d){var y=u(_),S=u(b),P=y.getIntersections(S,o),w="subtract"===d,E="divide"===d,T={},O=[];function B(R){if(!T[R._id]&&(E||S.contains(R.getPointAt(R.getLength()/2))^w))return O.unshift(R),T[R._id]=!0}for(var M=P.length-1;M>=0;M--){var D=P[M].split();D&&(B(D)&&D.getFirstSegment().setHandleIn(0,0),y.getLastSegment().setHandleOut(0,0))}return B(y),h(O,!1,_,b)}function p(_,b){for(var d=_;d;){if(d===b)return;d=d._previous}for(;_._next&&_._next!==b;)_=_._next;if(!_._next){for(;b._previous;)b=b._previous;_._next=b,b._previous=_}}function v(_){for(var b=_.length-1;b>=0;b--)_[b].clearHandles()}function c(_,b,d){var y=_&&_.length;if(y){var S=V.each(_,function(it,lt){this[it._id]={container:null,winding:it.isClockwise()?1:-1,index:lt}},{}),P=_.slice().sort(function(it,lt){return n(lt.getArea())-n(it.getArea())}),w=P[0],E=Ce.findItemBoundsCollisions(P,null,wt.GEOMETRIC_EPSILON);null==d&&(d=w.isClockwise());for(var T=0;T<y;T++){var O=P[T],B=S[O._id],M=0,D=E[T];if(D)for(var R=null,z=D.length-1;z>=0;z--)if(D[z]<T){R=R||O.getInteriorPoint();var H=P[D[z]];if(H.contains(R)){var G=S[H._id];B.winding+=M=G.winding,B.container=G.exclude?G.container:H;break}}if(b(B.winding)===b(M))B.exclude=!0,_[B.index]=null;else{var Y=B.container;O.setClockwise(Y?!Y.isClockwise():d)}}}return _}function g(_,b,d){var O,B,M,y=b&&[],w=!1,E=d||[],T=d&&{};function D(Q){return Q._path._id+"."+Q._segment1._index}for(var R=(d&&d.length)-1;R>=0;R--)(z=d[R])._path&&(T[D(z)]=!0);for(R=_.length-1;R>=0;R--){var z,lt,H=_[R],G=H._time,Y=G,it=b&&!b(H);if((z=H._curve)&&(z!==B?(w=!z.hasHandles()||T&&T[D(z)],O=[],M=null,B=z):M>=1e-8&&(G/=M)),it)O&&O.push(H);else{if(b&&y.unshift(H),M=Y,G<1e-8)lt=z._segment1;else if(G>.99999999)lt=z._segment2;else{var ft=z.divideAtTime(G,!0);w&&E.push(z,ft),lt=ft._segment1;for(var K=O.length-1;K>=0;K--){var tt=O[K];tt._time=(tt._time-G)/(1-G)}}H._setSegment(lt);var nt=lt._intersection,dt=H._intersection;if(nt){p(nt,dt);for(var ct=nt;ct;)p(ct._intersection,nt),ct=ct._next}else lt._intersection=dt}}return d||v(E),y||_}function k(_,b,d,y,S){var nt,dt,P=Array.isArray(b)?b:b[d?"hor":"ver"],w=d?1:0,E=1^w,T=[_.x,_.y],O=T[w],B=T[E],D=1e-6,R=O-1e-9,z=O+1e-9,H=0,G=0,Y=0,it=0,lt=!1,ft=!1,K=1,tt=[];function ct(Lt){var Xt=Lt[E+0],de=Lt[E+6];if(!(B<t(Xt,de)||B>e(Xt,de))){var ne=Lt[w+0],Se=Lt[w+2],Be=Lt[w+4],Pe=Lt[w+6];if(Xt===de)return void((ne<z&&Pe>R||Pe<z&&ne>R)&&(lt=!0));var _e=B===Xt?0:B===de||R>e(ne,Se,Be,Pe)||z<t(ne,Se,Be,Pe)?1:ut.solveCubic(Lt,E,B,tt,0,1)>0?tt[0]:1,pe=0===_e?ne:1===_e?Pe:ut.getPoint(Lt,_e)[d?"y":"x"],ve=Xt>de?1:-1,me=nt[w+6];return B!==Xt?(pe<R?Y+=ve:pe>z?it+=ve:lt=!0,pe>O-D&&pe<O+D&&(K/=2)):(ve!==(nt[E]>nt[E+6]?1:-1)?ne<R?Y+=ve:ne>z&&(it+=ve):ne!=me&&(me<z&&pe>z?(it+=ve,lt=!0):me>R&&pe<R&&(Y+=ve,lt=!0)),K/=4),nt=Lt,!S&&pe>R&&pe<z&&0===ut.getTangent(Lt,_e)[d?"x":"y"]&&k(_,b,!d,y,!0)}}function Q(Lt){var Xt=Lt[E+0],de=Lt[E+2],ne=Lt[E+4],Se=Lt[E+6];if(B<=e(Xt,de,ne,Se)&&B>=t(Xt,de,ne,Se))for(var Le,Be=Lt[w+0],Pe=Lt[w+2],_e=Lt[w+4],pe=Lt[w+6],ve=R>e(Be,Pe,_e,pe)||z<t(Be,Pe,_e,pe)?[Lt]:ut.getMonoCurves(Lt,d),me=0,Ot=ve.length;me<Ot;me++)if(Le=ct(ve[me]))return Le}for(var gt=0,yt=P.length;gt<yt;gt++){var ie,It=P[gt],bt=It._path,te=It.getValues();if(!(gt&&P[gt-1]._path===bt||(nt=null,bt._closed||(dt=ut.getValues(bt.getLastCurve().getSegment2(),It.getSegment1(),null,!y),dt[E]!==dt[E+6]&&(nt=dt)),nt))){nt=te;for(var re=bt.getLastCurve();re&&re!==It;){var Dt=re.getValues();if(Dt[E]!==Dt[E+6]){nt=Dt;break}re=re.getPrevious()}}if(ie=Q(te))return ie;if(gt+1===yt||P[gt+1]._path!==bt){if(dt&&(ie=Q(dt)))return ie;lt&&!Y&&!it&&(Y=it=bt.isClockwise(y)^d?1:-1),H+=Y,G+=it,Y=it=0,lt&&(ft=!0,lt=!1),dt=null}}return H=n(H),G=n(G),{winding:e(H,G),windingL:H,windingR:G,quality:K,onPath:ft}}function x(_,b,d,y,S){var P=[],w=_,E=0;do{if(T=_.getCurve()){var O=T.getLength();P.push({segment:_,curve:T,length:O}),E+=O}_=_.getNext()}while(_&&!_._intersection&&_!==w);for(var B=[.5,.25,.75],M={winding:0,quality:-1},z=0;z<B.length&&M.quality<.5;z++){O=E*B[z];for(var H=0,G=P.length;H<G;H++){var Y=P[H],it=Y.length;if(O<=it){var T,lt=(T=Y.curve)._path,ft=lt._parent,K=ft instanceof Ie?ft:lt,tt=wt.clamp(T.getTimeAt(O),.001,.999),nt=T.getPointAtTime(tt),dt=n(T.getTangentAtTime(tt).y)<Math.SQRT1_2,ct=null;if(S.subtract&&d){var gt=(K===b?d:b)._getWinding(nt,dt,!0);if(K===b&&gt.winding||K===d&&!gt.winding){if(gt.quality<1)continue;ct={winding:0,quality:1}}}(ct=ct||k(nt,y[lt._id][T.getIndex()],dt,!0)).quality>M.quality&&(M=ct);break}O-=it}}for(H=P.length-1;H>=0;H--)P[H].segment._winding=M}function C(_,b){var y,d=[];function S(yt){var It;return!(!yt||yt._visited||b&&(!b[(It=yt._winding||{}).winding]||b.unite&&2===It.winding&&It.windingL&&It.windingR))}function P(yt){if(yt)for(var It=0,bt=y.length;It<bt;It++)if(yt===y[It])return!0;return!1}function w(yt){for(var It=yt._segments,bt=0,te=It.length;bt<te;bt++)It[bt]._visited=!0}function E(yt,It){var bt=yt._intersection,te=bt,ie=[];function re(Dt,Lt){for(;Dt&&Dt!==Lt;){var Xt=Dt._segment,de=Xt&&Xt._path;if(de){var ne=Xt.getNext()||de.getFirstSegment(),Se=ne._intersection;Xt!==yt&&(P(Xt)||P(ne)||ne&&S(Xt)&&(S(ne)||Se&&S(Se._segment)))&&ie.push(Xt),It&&y.push(Xt)}Dt=Dt._next}}if(It&&(y=[yt]),bt){for(re(bt);bt&&bt._previous;)bt=bt._previous;re(bt,te)}return ie}_.sort(function(yt,It){var bt=yt._intersection,te=It._intersection,ie=!(!bt||!bt._overlap),Dt=yt._path,Lt=It._path;return ie^!(!te||!te._overlap)?ie?1:-1:!bt^!te?bt?1:-1:Dt!==Lt?Dt._id-Lt._id:yt._index-It._index});for(var T=0,O=_.length;T<O;T++){var G,Y,it,B=_[T],M=S(B),D=null,R=!1,z=!0,H=[];if(M&&B._path._overlapsOnly){var lt=B._path,ft=B._intersection._segment._path;lt.compare(ft)&&(lt.getArea()&&d.push(lt.clone(!1)),w(lt),w(ft),M=!1)}for(;M;){var K=!D,tt=E(B,K),nt=tt.shift(),dt=!(R=!K&&(P(B)||P(nt)))&&nt;if(K&&(D=new Rt(X.NO_INSERT),G=null),R){(B.isFirst()||B.isLast())&&(z=B._path._closed),B._visited=!0;break}if(dt&&G&&(H.push(G),G=null),G||(dt&&tt.push(B),G={start:D._segments.length,crossings:tt,visited:Y=[],handleIn:it}),dt&&(B=nt),!S(B)){D.removeSegments(G.start);for(var ct=0,Q=Y.length;ct<Q;ct++)Y[ct]._visited=!1;Y.length=0;do{(!(B=G&&G.crossings.shift())||!B._path)&&(B=null,(G=H.pop())&&(Y=G.visited,it=G.handleIn))}while(G&&!S(B));if(!B)break}var gt=B.getNext();D.add(new _t(B._point,it,gt&&B._handleOut)),B._visited=!0,Y.push(B),B=gt||B._path.getFirstSegment(),it=gt&&gt._handleIn}R&&(z&&(D.getFirstSegment().setHandleIn(it),D.setClosed(z)),0!==D.getArea()&&d.push(D))}return d}return{_getWinding:function(_,b,d){return k(_,this.getCurves(),b,d)},unite:function(_,b){return l(this,_,"unite",b)},intersect:function(_,b){return l(this,_,"intersect",b)},subtract:function(_,b){return l(this,_,"subtract",b)},exclude:function(_,b){return l(this,_,"exclude",b)},divide:function(_,b){return b&&(0==b.trace||b.stroke)?f(this,_,"divide"):h([this.subtract(_,b),this.intersect(_,b)],!0,this,_,b)},resolveCrossings:function(){var _=this._children,b=_||[this];function d(G,Y){var it=G&&G._intersection;return it&&it._overlap&&it._path===Y}var y=!1,S=!1,P=this.getIntersections(null,function(G){return G.hasOverlap()&&(y=!0)||G.isCrossing()&&(S=!0)}),w=y&&S&&[];if(P=ue.expand(P),y)for(var E=g(P,function(G){return G.hasOverlap()},w),T=E.length-1;T>=0;T--){var O=E[T],B=O._path,M=O._segment,D=M.getPrevious(),R=M.getNext();d(D,B)&&d(R,B)&&(M.remove(),D._handleOut._set(0,0),R._handleIn._set(0,0),D!==M&&!D.getCurve().hasLength()&&(R._handleIn.set(D._handleIn),D.remove()))}S&&(g(P,y&&function(G){var Y=G.getCurve(),it=G.getSegment(),lt=G._intersection,ft=lt._curve,K=lt._segment;if(Y&&ft&&Y._path&&ft._path)return!0;it&&(it._intersection=null),K&&(K._intersection=null)},w),w&&v(w),b=C(V.each(b,function(G){V.push(this,G._segments)},[])));var H,z=b.length;return z>1&&_?(b!==_&&this.setChildren(b),H=this):1===z&&!_&&(b[0]!==this&&this.setSegments(b[0].removeSegments()),H=this),H||((H=new Ie(X.NO_INSERT)).addChildren(b),(H=H.reduce()).copyAttributes(this),this.replaceWith(H)),H},reorient:function(_,b){var d=this._children;return d&&d.length?this.setChildren(c(this.removeChildren(),function(y){return!!(_?y:1&y)},b)):b!==ot&&this.setClockwise(b),this},getInteriorPoint:function(){var b=this.getBounds().getCenter(!0);if(!this.contains(b)){for(var d=this.getCurves(),y=b.y,S=[],P=[],w=0,E=d.length;w<E;w++){var T=d[w].getValues(),O=T[1],B=T[3],M=T[5],D=T[7];if(y>=t(O,B,M,D)&&y<=e(O,B,M,D))for(var R=ut.getMonoCurves(T),z=0,H=R.length;z<H;z++){var G=R[z],Y=G[1],it=G[7];if(Y!==it&&(y>=Y&&y<=it||y>=it&&y<=Y)){var lt=y===Y?G[0]:y===it?G[6]:1===ut.solveCubic(G,1,y,P,0,1)?ut.getPoint(G,P[0]).x:(G[0]+G[6])/2;S.push(lt)}}}S.length>1&&(S.sort(function(ft,K){return ft-K}),b.x=(S[0]+S[1])/2)}return b}}});var wi=V.extend({_class:"PathFlattener",initialize:function(t,e,n,r,s){var v,u=[],h=[],o=0,l=1/(n||32),f=t._segments,p=f[0];function c(C,_){var b=ut.getValues(C,_,s);u.push(b),g(b,C._index,0,1)}function g(C,_,b,d){if(!(d-b>l)||r&&ut.isStraight(C)||ut.isFlatEnough(C,e||.25)){var P=C[6]-C[0],w=C[7]-C[1],E=Math.sqrt(P*P+w*w);E>0&&h.push({offset:o+=E,curve:C,index:_,time:d})}else{var y=ut.subdivide(C,.5),S=(b+d)/2;g(y[0],_,b,S),g(y[1],_,S,d)}}for(var k=1,x=f.length;k<x;k++)c(p,v=f[k]),p=v;t._closed&&c(v||p,f[0]),this.curves=u,this.parts=h,this.length=o,this.index=0},_get:function(t){for(var s,e=this.parts,n=e.length,u=this.index;s=u,u&&!(e[--u].offset<t););for(;s<n;s++){var h=e[s];if(h.offset>=t){this.index=s;var o=e[s-1],l=o&&o.index===h.index?o.time:0,f=o?o.offset:0;return{index:h.index,time:l+(h.time-l)*(t-f)/(h.offset-f)}}}return{index:e[n-1].index,time:1}},drawPart:function(t,e,n){for(var r=this._get(e),s=this._get(n),u=r.index,h=s.index;u<=h;u++){var o=ut.getPart(this.curves[u],u===r.index?r.time:0,u===s.index?s.time:1);u===r.index&&t.moveTo(o[0],o[1]),t.bezierCurveTo.apply(t,o.slice(2))}}},V.each(ut._evaluateMethods,function(t){this[t+"At"]=function(e){var n=this._get(e);return ut[t](this.curves[n.index],n.time)}},{})),Ri=V.extend({initialize:function(t){for(var u,e=this.points=[],n=t._segments,r=t._closed,s=0,h=n.length;s<h;s++){var o=n[s].point;(!u||!u.equals(o))&&e.push(u=o.clone())}r&&(e.unshift(e[e.length-1]),e.push(e[1])),this.closed=r},fit:function(t){var e=this.points,n=e.length,r=null;return n>0&&(r=[new _t(e[0])],n>1&&(this.fitCubic(r,t,0,n-1,e[1].subtract(e[0]),e[n-2].subtract(e[n-1])),this.closed&&(r.shift(),r.pop()))),r},fitCubic:function(t,e,n,r,s,u){var h=this.points;if(r-n!=1){for(var c,p=this.chordLengthParameterize(n,r),v=Math.max(e,e*e),g=!0,k=0;k<=4;k++){var x=this.generateBezier(n,r,p,s,u),C=this.findMaxError(n,r,x,p);if(C.error<e&&g)return void this.addCurve(t,x);if(c=C.index,C.error>=v)break;g=this.reparameterize(n,r,p,x),v=C.error}var _=h[c-1].subtract(h[c+1]);this.fitCubic(t,e,n,c,s,_),this.fitCubic(t,e,c,r,_.negate(),u)}else{var o=h[n],l=h[r],f=o.getDistance(l)/3;this.addCurve(t,[o,o.add(s.normalize(f)),l.add(u.normalize(f)),l])}},addCurve:function(t,e){t[t.length-1].setHandleOut(e[1].subtract(e[0])),t.push(new _t(e[3],e[2].subtract(e[3])))},generateBezier:function(t,e,n,r,s){for(var u=1e-12,h=Math.abs,o=this.points,l=o[t],f=o[e],p=[[0,0],[0,0]],v=[0,0],c=0,g=e-t+1;c<g;c++){var k=n[c],x=1-k,C=3*k*x,_=x*x*x,b=C*x,d=C*k,y=k*k*k,S=r.normalize(b),P=s.normalize(d),w=o[t+c].subtract(l.multiply(_+b)).subtract(f.multiply(d+y));p[0][0]+=S.dot(S),p[0][1]+=S.dot(P),p[1][0]=p[0][1],p[1][1]+=P.dot(P),v[0]+=S.dot(w),v[1]+=P.dot(w)}var T,O,E=p[0][0]*p[1][1]-p[1][0]*p[0][1];if(h(E)>u)T=(v[0]*p[1][1]-v[1]*p[0][1])/E,O=(p[0][0]*v[1]-p[1][0]*v[0])/E;else{var D=p[0][0]+p[0][1],R=p[1][0]+p[1][1];T=O=h(D)>u?v[0]/D:h(R)>u?v[1]/R:0}var G,Y,z=f.getDistance(l),H=u*z;if(T<H||O<H)T=O=z/3;else{var it=f.subtract(l);G=r.normalize(T),Y=s.normalize(O),G.dot(it)-Y.dot(it)>z*z&&(T=O=z/3,G=Y=null)}return[l,l.add(G||r.normalize(T)),f.add(Y||s.normalize(O)),f]},reparameterize:function(t,e,n,r){for(var s=t;s<=e;s++)n[s-t]=this.findRoot(r,this.points[s],n[s-t]);s=1;for(var u=n.length;s<u;s++)if(n[s]<=n[s-1])return!1;return!0},findRoot:function(t,e,n){for(var r=[],s=[],u=0;u<=2;u++)r[u]=t[u+1].subtract(t[u]).multiply(3);for(u=0;u<=1;u++)s[u]=r[u+1].subtract(r[u]).multiply(2);var h=this.evaluate(3,t,n),o=this.evaluate(2,r,n),l=this.evaluate(1,s,n),f=h.subtract(e),p=o.dot(o)+f.dot(l);return wt.isMachineZero(p)?n:n-f.dot(o)/p},evaluate:function(t,e,n){for(var r=e.slice(),s=1;s<=t;s++)for(var u=0;u<=t-s;u++)r[u]=r[u].multiply(1-n).add(r[u+1].multiply(n));return r[0]},chordLengthParameterize:function(t,e){for(var n=[0],r=t+1;r<=e;r++)n[r-t]=n[r-t-1]+this.points[r].getDistance(this.points[r-1]);r=1;for(var s=e-t;r<=s;r++)n[r]/=n[s];return n},findMaxError:function(t,e,n,r){for(var s=Math.floor((e-t+1)/2),u=0,h=t+1;h<e;h++){var l=this.evaluate(3,n,r[h-t]).subtract(this.points[h]),f=l.x*l.x+l.y*l.y;f>=u&&(u=f,s=h)}return{error:u,index:s}}}),Ve=X.extend({_class:"TextItem",_applyMatrix:!1,_canApplyMatrix:!1,_serializeFields:{content:null},_boundsOptions:{stroke:!1,handle:!1},initialize:function(e){this._content="",this._lines=[];var n=e&&V.isPlainObject(e)&&e.x===ot&&e.y===ot;this._initialize(n&&e,!n&&q.read(arguments))},_equals:function(t){return this._content===t._content},copyContent:function(t){this.setContent(t._content)},getContent:function(){return this._content},setContent:function(t){this._content=""+t,this._lines=this._content.split(/\r\n|\n|\r/gm),this._changed(521)},isEmpty:function(){return!this._content},getCharacterStyle:"#getStyle",setCharacterStyle:"#setStyle",getParagraphStyle:"#getStyle",setParagraphStyle:"#setStyle"}),He=Ve.extend({_class:"PointText",initialize:function(){Ve.apply(this,arguments)},getPoint:function(){var t=this._matrix.getTranslation();return new be(t.x,t.y,this,"setPoint")},setPoint:function(){var t=q.read(arguments);this.translate(t.subtract(this._matrix.getTranslation()))},_draw:function(t,e,n){if(this._content){this._setStyles(t,e,n);var r=this._lines,s=this._style,u=s.hasFill(),h=s.hasStroke(),o=s.getLeading(),l=t.shadowColor;t.font=s.getFontStyle(),t.textAlign=s.getJustification();for(var f=0,p=r.length;f<p;f++){t.shadowColor=l;var v=r[f];u&&(t.fillText(v,0,0),t.shadowColor="rgba(0,0,0,0)"),h&&t.strokeText(v,0,0),t.translate(0,o)}}},_getBounds:function(t,e){var n=this._style,r=this._lines,s=r.length,u=n.getJustification(),h=n.getLeading(),o=this.getView().getTextWidth(n.getFontStyle(),r),l=0;"left"!==u&&(l-=o/("center"===u?2:1));var f=new pt(l,s?-.75*h:0,o,s*h);return t?t._transformBounds(f,f):f}}),Zt=V.extend(new function(){var r,t={gray:["gray"],rgb:["red","green","blue"],hsb:["hue","saturation","brightness"],hsl:["hue","saturation","lightness"],gradient:["gradient","origin","destination","highlight"]},e={},n={transparent:[0,0,0,0]},u=[[0,3,1],[2,0,1],[1,0,3],[1,2,0],[3,1,0],[0,1,2]],h={"rgb-hsb":function(o,l,f){var p=Math.max(o,l,f),c=p-Math.min(o,l,f);return[0===c?0:60*(p==o?(l-f)/c+(l<f?6:0):p==l?(f-o)/c+2:(o-l)/c+4),0===p?0:c/p,p]},"hsb-rgb":function(o,l,f){var v,p=(o=(o/60%6+6)%6)-(v=Math.floor(o)),c=[f,f*(1-l),f*(1-l*p),f*(1-l*(1-p))];return[c[(v=u[v])[0]],c[v[1]],c[v[2]]]},"rgb-hsl":function(o,l,f){var p=Math.max(o,l,f),v=Math.min(o,l,f),c=p-v,g=0===c,x=(p+v)/2;return[g?0:60*(p==o?(l-f)/c+(l<f?6:0):p==l?(f-o)/c+2:(o-l)/c+4),g?0:x<.5?c/(p+v):c/(2-p-v),x]},"hsl-rgb":function(o,l,f){if(0===l)return[f,f,f];for(var p=[(o=(o/360%1+1)%1)+1/3,o,o-1/3],v=f<.5?f*(1+l):f+l-f*l,c=2*f-v,g=[],k=0;k<3;k++){var x=p[k];x<0&&(x+=1),x>1&&(x-=1),g[k]=6*x<1?c+6*(v-c)*x:2*x<1?v:3*x<2?c+(v-c)*(2/3-x)*6:c}return g},"rgb-gray":function(o,l,f){return[.2989*o+.587*l+.114*f]},"gray-rgb":function(o){return[o,o,o]},"gray-hsb":function(o){return[0,0,o]},"gray-hsl":function(o){return[0,0,o]},"gradient-rgb":function(){return[]},"rgb-gradient":function(){return[]}};return V.each(t,function(o,l){e[l]=[],V.each(o,function(f,p){var v=V.capitalize(f),c=/^(hue|saturation)$/.test(f),g=e[l][p]="gradient"===l?"gradient"===f?function(k){var x=this._components[0];return x!==(k=Ke.read(Array.isArray(k)?k:arguments,0,{readNull:!0}))&&(x&&x._removeOwner(this),k&&k._addOwner(this)),k}:function(){return q.read(arguments,0,{readNull:"highlight"===f,clone:!0})}:function(k){return null==k||isNaN(k)?0:+k};this["get"+v]=function(){return this._type===l||c&&/^hs[bl]$/.test(this._type)?this._components[p]:this._convert(l)[p]},this["set"+v]=function(k){this._type!==l&&!(c&&/^hs[bl]$/.test(this._type))&&(this._components=this._convert(l),this._properties=t[l],this._type=l),this._components[p]=g.call(this,k),this._changed()}},this)},{_class:"Color",_readIndex:!0,initialize:function o(l){var c,g,k,x,f=arguments,p=this.__read,v=0;Array.isArray(l)&&(l=(f=l)[0]);var C=null!=l&&typeof l;if("string"===C&&l in t&&(c=l,l=f[1],Array.isArray(l)?(g=l,k=f[2]):(p&&(v=1),f=V.slice(f,1),C=typeof l)),!g){if(x="number"===C?f:"object"===C&&null!=l.length?l:null){c||(c=x.length>=3?"rgb":"gray");var _=t[c].length;k=x[_],p&&(v+=x===arguments?_+(null!=k?1:0):1),x.length>_&&(x=V.slice(x,0,_))}else if("string"===C){var b=function s(o){var p,l=o.match(/^#([\da-f]{2})([\da-f]{2})([\da-f]{2})([\da-f]{2})?$/i)||o.match(/^#([\da-f])([\da-f])([\da-f])([\da-f])?$/i),f="rgb";if(l){var v=l[4]?4:3;p=new Array(v);for(var c=0;c<v;c++){var g=l[c+1];p[c]=parseInt(1==g.length?g+g:g,16)/255}}else if(l=o.match(/^(rgb|hsl)a?\((.*)\)$/)){f=l[1],p=l[2].trim().split(/[,\s]+/g);for(var k="hsl"===f,x=(c=0,Math.min(p.length,4));c<x;c++){var C=p[c];if(g=parseFloat(C),k)if(0===c){var _=C.match(/([a-z]*)$/)[1];g*={turn:360,rad:180/Math.PI,grad:.9}[_]||1}else c<3&&(g/=100);else c<3&&(g/=/%$/.test(C)?100:255);p[c]=g}}else{var b=n[o];if(!b)if(qt){r||((r=zt.getContext(1,1,{willReadFrequently:!0})).globalCompositeOperation="copy"),r.fillStyle="rgba(0,0,0,0)",r.fillStyle=o,r.fillRect(0,0,1,1);var d=r.getImageData(0,0,1,1).data;b=n[o]=[d[0]/255,d[1]/255,d[2]/255]}else b=[0,0,0];p=b.slice()}return[f,p]}(l);c=b[0],4===(g=b[1]).length&&(k=g[3],g.length--)}else if("object"===C)if(l.constructor===o){if(c=l._type,g=l._components.slice(),k=l._alpha,"gradient"===c)for(var d=1,y=g.length;d<y;d++){var S=g[d];S&&(g[d]=S.clone())}}else if(l.constructor===Ke)c="gradient",x=f;else{var P=t[c="hue"in l?"lightness"in l?"hsl":"hsb":"gradient"in l||"stops"in l||"radial"in l?"gradient":"gray"in l?"gray":"rgb"],w=e[c];for(this._components=g=[],d=0,y=P.length;d<y;d++)null==(E=l[P[d]])&&!d&&"gradient"===c&&"stops"in l&&(E={stops:l.stops,radial:l.radial}),null!=(E=w[d].call(this,E))&&(g[d]=E);k=l.alpha}p&&c&&(v=1)}if(this._type=c||"rgb",!g)for(this._components=g=[],d=0,y=(w=e[this._type]).length;d<y;d++){var E;null!=(E=w[d].call(this,x&&x[d]))&&(g[d]=E)}return this._components=g,this._properties=t[this._type],this._alpha=k,p&&(this.__read=v),this},set:"#initialize",_serialize:function(o,l){var f=this.getComponents();return V.serialize(/^(gray|rgb)$/.test(this._type)?f:[this._type].concat(f),o,!0,l)},_changed:function(){this._canvasStyle=null,this._owner&&(this._setter?this._owner[this._setter](this):this._owner._changed(129))},_convert:function(o){var l;return this._type===o?this._components.slice():(l=h[this._type+"-"+o])?l.apply(this,this._components):h["rgb-"+o].apply(this,h[this._type+"-rgb"].apply(this,this._components))},convert:function(o){return new Zt(o,this._convert(o),this._alpha)},getType:function(){return this._type},setType:function(o){this._components=this._convert(o),this._properties=t[o],this._type=o},getComponents:function(){var o=this._components.slice();return null!=this._alpha&&o.push(this._alpha),o},getAlpha:function(){return null!=this._alpha?this._alpha:1},setAlpha:function(o){this._alpha=null==o?null:Math.min(Math.max(o,0),1),this._changed()},hasAlpha:function(){return null!=this._alpha},equals:function(o){var l=V.isPlainValue(o,!0)?Zt.read(arguments):o;return l===this||l&&this._class===l._class&&this._type===l._type&&this.getAlpha()===l.getAlpha()&&V.equals(this._components,l._components)||!1},toString:function(){for(var o=this._properties,l=[],f="gradient"===this._type,p=xt.instance,v=0,c=o.length;v<c;v++){var g=this._components[v];null!=g&&l.push(o[v]+": "+(f?g:p.number(g)))}return null!=this._alpha&&l.push("alpha: "+p.number(this._alpha)),"{ "+l.join(", ")+" }"},toCSS:function(o){var l=this._convert("rgb"),f=o||null==this._alpha?1:this._alpha;function p(v){return Math.round(255*(v<0?0:v>1?1:v))}return l=[p(l[0]),p(l[1]),p(l[2])],f<1&&l.push(f<0?0:f),o?"#"+((1<<24)+(l[0]<<16)+(l[1]<<8)+l[2]).toString(16).slice(1):(4==l.length?"rgba(":"rgb(")+l.join(",")+")"},toCanvasStyle:function(o,l){if(this._canvasStyle)return this._canvasStyle;if("gradient"!==this._type)return this._canvasStyle=this.toCSS();var C,f=this._components,p=f[0],v=p._stops,c=f[1],g=f[2],k=f[3],x=l&&l.inverted();if(x&&(c=x._transformPoint(c),g=x._transformPoint(g),k&&(k=x._transformPoint(k))),p._radial){var _=g.getDistance(c);if(k){var b=k.subtract(c);b.getLength()>_&&(k=c.add(b.normalize(_-.1)))}var d=k||c;C=o.createRadialGradient(d.x,d.y,0,c.x,c.y,_)}else C=o.createLinearGradient(c.x,c.y,g.x,g.y);for(var y=0,S=v.length;y<S;y++){var P=v[y],w=P._offset;C.addColorStop(null==w?y/(S-1):w,P._color.toCanvasStyle())}return this._canvasStyle=C},transform:function(o){if("gradient"===this._type){for(var l=this._components,f=1,p=l.length;f<p;f++){var v=l[f];o._transformPoint(v,v,!0)}this._changed()}},statics:{_types:t,random:function(){var o=Math.random;return new Zt(o(),o(),o())},_setOwner:function(o,l,f){return o&&(o._owner&&l&&o._owner!==l&&(o=o.clone()),!o._owner^!l&&(o._owner=l||null,o._setter=f||null)),o}}})},new function(){return V.each({add:function(e,n){return e+n},subtract:function(e,n){return e-n},multiply:function(e,n){return e*n},divide:function(e,n){return e/n}},function(e,n){this[n]=function(r){r=Zt.read(arguments);for(var s=this._type,u=this._components,h=r._convert(s),o=0,l=u.length;o<l;o++)h[o]=e(u[o],h[o]);return new Zt(s,h,null!=this._alpha?e(this._alpha,r.getAlpha()):null)}},{})}),Ke=V.extend({_class:"Gradient",initialize:function(e,n){this._id=ae.get(),e&&V.isPlainObject(e)&&(this.set(e),e=n=null),null==this._stops&&this.setStops(e||["white","black"]),null==this._radial&&this.setRadial("string"==typeof n&&"radial"===n||n||!1)},_serialize:function(t,e){return e.add(this,function(){return V.serialize([this._stops,this._radial],t,!0,e)})},_changed:function(){for(var t=0,e=this._owners&&this._owners.length;t<e;t++)this._owners[t]._changed()},_addOwner:function(t){this._owners||(this._owners=[]),this._owners.push(t)},_removeOwner:function(t){var e=this._owners?this._owners.indexOf(t):-1;-1!=e&&(this._owners.splice(e,1),this._owners.length||(this._owners=ot))},clone:function(){for(var t=[],e=0,n=this._stops.length;e<n;e++)t[e]=this._stops[e].clone();return new Ke(t,this._radial)},getStops:function(){return this._stops},setStops:function(t){if(t.length<2)throw new Error("Gradient stop list needs to contain at least two stops.");var e=this._stops;if(e)for(var n=0,r=e.length;n<r;n++)e[n]._owner=ot;for(n=0,r=(e=this._stops=ii.readList(t,0,{clone:!0})).length;n<r;n++)e[n]._owner=this;this._changed()},getRadial:function(){return this._radial},setRadial:function(t){this._radial=t,this._changed()},equals:function(t){if(t===this)return!0;if(t&&this._class===t._class){var e=this._stops,n=t._stops,r=e.length;if(r===n.length){for(var s=0;s<r;s++)if(!e[s].equals(n[s]))return!1;return!0}}return!1}}),ii=V.extend({_class:"GradientStop",initialize:function(e,n){var r=e,s=n;"object"==typeof e&&n===ot&&(Array.isArray(e)&&"number"!=typeof e[0]?(r=e[0],s=e[1]):("color"in e||"offset"in e||"rampPoint"in e)&&(r=e.color,s=e.offset||e.rampPoint||0)),this.setColor(r),this.setOffset(s)},clone:function(){return new ii(this._color.clone(),this._offset)},_serialize:function(t,e){var n=this._color,r=this._offset;return V.serialize(null==r?[n]:[n,r],t,!0,e)},_changed:function(){this._owner&&this._owner._changed(129)},getOffset:function(){return this._offset},setOffset:function(t){this._offset=t,this._changed()},getRampPoint:"#getOffset",setRampPoint:"#setOffset",getColor:function(){return this._color},setColor:function(){Zt._setOwner(this._color,null),this._color=Zt._setOwner(Zt.read(arguments,0),this,"setColor"),this._changed()},equals:function(t){return t===this||t&&this._class===t._class&&this._color.equals(t._color)&&this._offset==t._offset||!1}}),ni=V.extend(new function(){var t={fillColor:null,fillRule:"nonzero",strokeColor:null,strokeWidth:1,strokeCap:"butt",strokeJoin:"miter",strokeScaling:!0,miterLimit:10,dashOffset:0,dashArray:[],shadowColor:null,shadowBlur:0,shadowOffset:new q,selectedColor:null},e=V.set({},t,{fontFamily:"sans-serif",fontWeight:"normal",fontSize:12,leading:null,justification:"left"}),n=V.set({},e,{fillColor:new Zt}),r={strokeWidth:193,strokeCap:193,strokeJoin:193,strokeScaling:201,miterLimit:193,fontFamily:9,fontWeight:9,fontSize:9,font:9,leading:9,justification:9},s={beans:!0},u={_class:"Style",beans:!0,initialize:function(o,l,f){this._values={},this._owner=l,this._project=l&&l._project||f||rt.project,this._defaults=!l||l instanceof vt?e:l instanceof Ve?n:t,o&&this.set(o)}};return V.each(e,function(h,o){var l=/Color$/.test(o),f="shadowOffset"===o,p=V.capitalize(o),v=r[o],c="set"+p,g="get"+p;u[c]=function(k){var x=this._owner,C=x&&x._children,_=C&&C.length>0&&!(x instanceof Ie);if(_)for(var b=0,d=C.length;b<d;b++)C[b]._style[c](k);if(("selectedColor"===o||!_)&&o in this._defaults){var y=this._values[o];y!==k&&(l&&(y&&(Zt._setOwner(y,null),y._canvasStyle=null),k&&k.constructor===Zt&&(k=Zt._setOwner(k,x,_&&c))),this._values[o]=k,x&&x._changed(v||129))}},u[g]=function(k){var x=this._owner,C=x&&x._children,_=C&&C.length>0&&!(x instanceof Ie);if(_&&!k)for(var d=0,y=C.length;d<y;d++){var S=C[d]._style[g]();if(d){if(!V.equals(b,S))return ot}else b=S}else if(o in this._defaults){var b;if((b=this._values[o])===ot)(b=this._defaults[o])&&b.clone&&(b=b.clone());else{var P=l?Zt:f?q:null;P&&(!b||b.constructor!==P)&&(this._values[o]=b=P.read([b],0,{readNull:!0,clone:!0}))}}return b&&l&&(b=Zt._setOwner(b,x,_&&c)),b},s[g]=function(k){return this._style[g](k)},s[c]=function(k){this._style[c](k)}}),V.each({Font:"FontFamily",WindingRule:"FillRule"},function(h,o){var l="get"+o,f="set"+o;u[l]=s[l]="#get"+h,u[f]=s[f]="#set"+h}),X.inject(s),u},{set:function(t){var e=t instanceof ni,n=e?t._values:t;if(n)for(var r in n)if(r in this._defaults){var s=n[r];this[r]=s&&e&&s.clone?s.clone():s}},equals:function(t){function e(n,r,s){var u=n._values,h=r._values,o=r._defaults;for(var l in u){var p=h[l];if(!(s&&l in h||V.equals(u[l],p===ot?o[l]:p)))return!1}return!0}return t===this||t&&this._class===t._class&&e(this,t)&&e(t,this,!0)||!1},_dispose:function(){var t;(t=this.getFillColor())&&(t._canvasStyle=null),(t=this.getStrokeColor())&&(t._canvasStyle=null),(t=this.getShadowColor())&&(t._canvasStyle=null)},hasFill:function(){var t=this.getFillColor();return!!t&&t.alpha>0},hasStroke:function(){var t=this.getStrokeColor();return!!t&&t.alpha>0&&this.getStrokeWidth()>0},hasShadow:function(){var t=this.getShadowColor();return!!t&&t.alpha>0&&(this.getShadowBlur()>0||!this.getShadowOffset().isZero())},getView:function(){return this._project._view},getFontStyle:function(){var t=this.getFontSize();return this.getFontWeight()+" "+t+(/[a-z]/i.test(t+"")?" ":"px ")+this.getFontFamily()},getFont:"#getFontFamily",setFont:"#setFontFamily",getLeading:function t(){var e=t.base.call(this),n=this.getFontSize();return/pt|em|%|px/.test(n)&&(n=this.getView().getPixelSize(n)),null!=e?e:1.2*n}}),Ht=new function(){function t(e,n,r,s){for(var u=["","webkit","moz","Moz","ms","o"],h=n[0].toUpperCase()+n.substring(1),o=0;o<6;o++){var l=u[o],f=l?l+h:n;if(f in e){if(!r)return e[f];e[f]=s;break}}}return{getStyles:function(e){var n=e&&9!==e.nodeType?e.ownerDocument:e,r=n&&n.defaultView;return r&&r.getComputedStyle(e,"")},getBounds:function(e,n){var h,r=e.ownerDocument,s=r.body,u=r.documentElement;try{h=e.getBoundingClientRect()}catch{h={left:0,top:0,width:0,height:0}}var o=h.left-(u.clientLeft||s.clientLeft||0),l=h.top-(u.clientTop||s.clientTop||0);if(!n){var f=r.defaultView;o+=f.pageXOffset||u.scrollLeft||s.scrollLeft,l+=f.pageYOffset||u.scrollTop||s.scrollTop}return new pt(o,l,h.width,h.height)},getViewportBounds:function(e){var n=e.ownerDocument,r=n.defaultView,s=n.documentElement;return new pt(0,0,r.innerWidth||s.clientWidth,r.innerHeight||s.clientHeight)},getOffset:function(e,n){return Ht.getBounds(e,n).getPoint()},getSize:function(e){return Ht.getBounds(e,!0).getSize()},isInvisible:function(e){return Ht.getSize(e).equals(new at(0,0))},isInView:function(e){return!Ht.isInvisible(e)&&Ht.getViewportBounds(e).intersects(Ht.getBounds(e,!0))},isInserted:function(e){return et.body.contains(e)},getPrefixed:function(e,n){return e&&t(e,n)},setPrefixed:function(e,n,r){if("object"==typeof n)for(var s in n)t(e,s,!0,n[s]);else t(e,n,!0,r)}}},$t={add:function(t,e){if(t)for(var n in e)for(var r=e[n],s=n.split(/[\s,]+/g),u=0,h=s.length;u<h;u++){var o=s[u];t.addEventListener(o,r,t===et&&("touchstart"===o||"touchmove"===o)&&{passive:!1})}},remove:function(t,e){if(t)for(var n in e)for(var r=e[n],s=n.split(/[\s,]+/g),u=0,h=s.length;u<h;u++)t.removeEventListener(s[u],r,!1)},getPoint:function(t){var e=t.targetTouches?t.targetTouches.length?t.targetTouches[0]:t.changedTouches[0]:t;return new q(e.pageX||e.clientX+et.documentElement.scrollLeft,e.pageY||e.clientY+et.documentElement.scrollTop)},getTarget:function(t){return t.target||t.srcElement},getRelatedTarget:function(t){return t.relatedTarget||t.toElement},getOffset:function(t,e){return $t.getPoint(t).subtract(Ht.getOffset(e||$t.getTarget(t)))}};$t.requestAnimationFrame=new function(){var r,t=Ht.getPrefixed(qt,"requestAnimationFrame"),e=!1,n=[];function s(){var u=n;n=[];for(var h=0,o=u.length;h<o;h++)u[h]();(e=t&&n.length)&&t(s)}return function(u){n.push(u),t?e||(t(s),e=!0):r||(r=setInterval(s,16.666666666666668))}};var Ut=V.extend(Ue,{_class:"View",initialize:function t(e,n){function r(v){return n[v]||parseInt(n.getAttribute(v),10)}function s(){var v=Ht.getSize(n);return v.isNaN()||v.isZero()?new at(r("width"),r("height")):v}var u;if(qt&&n){this._id=n.getAttribute("id"),null==this._id&&n.setAttribute("id",this._id="paper-view-"+t._id++),$t.add(n,this._viewEvents);var h="none";if(Ht.setPrefixed(n.style,{userDrag:h,userSelect:h,touchCallout:h,contentZooming:h,tapHighlightColor:"rgba(0,0,0,0)"}),he.hasAttribute(n,"resize")){var o=this;$t.add(qt,this._windowEvents={resize:function(){o.setViewSize(s())}})}if(u=s(),he.hasAttribute(n,"stats")&&typeof Stats<"u"){this._stats=new Stats;var l=this._stats.domElement,f=l.style,p=Ht.getOffset(n);f.position="absolute",f.left=p.x+"px",f.top=p.y+"px",et.body.appendChild(l)}}else u=new at(n),n=null;this._project=e,this._scope=e._scope,this._element=n,this._pixelRatio||(this._pixelRatio=qt&&qt.devicePixelRatio||1),this._setElementSize(u.width,u.height),this._viewSize=u,t._views.push(this),t._viewsById[this._id]=this,(this._matrix=new At)._owner=this,t._focused||(t._focused=this),this._frameItems={},this._frameItemCount=0,this._itemEvents={native:{},virtual:{}},this._autoUpdate=!rt.agent.node,this._needsUpdate=!1},remove:function(){if(!this._project)return!1;Ut._focused===this&&(Ut._focused=null),Ut._views.splice(Ut._views.indexOf(this),1),delete Ut._viewsById[this._id];var t=this._project;return t._view===this&&(t._view=null),$t.remove(this._element,this._viewEvents),$t.remove(qt,this._windowEvents),this._element=this._project=null,this.off("frame"),this._animate=!1,this._frameItems={},!0},_events:V.each(X._itemHandlers.concat(["onResize","onKeyDown","onKeyUp"]),function(t){this[t]={}},{onFrame:{install:function(){this.play()},uninstall:function(){this.pause()}}}),_animate:!1,_time:0,_count:0,getAutoUpdate:function(){return this._autoUpdate},setAutoUpdate:function(t){this._autoUpdate=t,t&&this.requestUpdate()},update:function(){},draw:function(){this.update()},requestUpdate:function(){if(!this._requested){var t=this;$t.requestAnimationFrame(function(){if(t._requested=!1,t._animate){t.requestUpdate();var e=t._element;(!Ht.getPrefixed(et,"hidden")||"true"===he.getAttribute(e,"keepalive"))&&Ht.isInView(e)&&t._handleFrame()}t._autoUpdate&&t.update()}),this._requested=!0}},play:function(){this._animate=!0,this.requestUpdate()},pause:function(){this._animate=!1},_handleFrame:function(){rt=this._scope;var t=Date.now()/1e3,e=this._last?t-this._last:0;this._last=t,this.emit("frame",new V({delta:e,time:this._time+=e,count:this._count++})),this._stats&&this._stats.update()},_animateItem:function(t,e){var n=this._frameItems;e?(n[t._id]={item:t,time:0,count:0},1==++this._frameItemCount&&this.on("frame",this._handleFrameItems)):(delete n[t._id],0==--this._frameItemCount&&this.off("frame",this._handleFrameItems))},_handleFrameItems:function(t){for(var e in this._frameItems){var n=this._frameItems[e];n.item.emit("frame",new V(t,{time:n.time+=t.delta,count:n.count++}))}},_changed:function(){this._project._changed(4097),this._bounds=this._decomposed=ot},getElement:function(){return this._element},getPixelRatio:function(){return this._pixelRatio},getResolution:function(){return 72*this._pixelRatio},getViewSize:function(){var t=this._viewSize;return new A(t.width,t.height,this,"setViewSize")},setViewSize:function(){var t=at.read(arguments),e=t.subtract(this._viewSize);e.isZero()||(this._setElementSize(t.width,t.height),this._viewSize.set(t),this._changed(),this.emit("resize",{size:t,delta:e}),this._autoUpdate&&this.update())},_setElementSize:function(t,e){var n=this._element;n&&(n.width!==t&&(n.width=t),n.height!==e&&(n.height=e))},getBounds:function(){return this._bounds||(this._bounds=this._matrix.inverted()._transformBounds(new pt(new q,this._viewSize))),this._bounds},getSize:function(){return this.getBounds().getSize()},isVisible:function(){return Ht.isInView(this._element)},isInserted:function(){return Ht.isInserted(this._element)},getPixelSize:function(t){var n,e=this._element;if(e){var r=e.parentNode,s=et.createElement("div");s.style.fontSize=t,r.appendChild(s),n=parseFloat(Ht.getStyles(s).fontSize),r.removeChild(s)}else n=parseFloat(n);return n},getTextWidth:function(t,e){return 0}},V.each(["rotate","scale","shear","skew"],function(t){var e="rotate"===t;this[t]=function(){var n=arguments,r=(e?V:q).read(n),s=q.read(n,0,{readNull:!0});return this.transform((new At)[t](r,s||this.getCenter(!0)))}},{_decompose:function(){return this._decomposed||(this._decomposed=this._matrix.decompose())},translate:function(){var t=new At;return this.transform(t.translate.apply(t,arguments))},getCenter:function(){return this.getBounds().getCenter()},setCenter:function(){var t=q.read(arguments);this.translate(this.getCenter().subtract(t))},getZoom:function(){var t=this._decompose().scaling;return(t.x+t.y)/2},setZoom:function(t){this.transform((new At).scale(t/this.getZoom(),this.getCenter()))},getRotation:function(){return this._decompose().rotation},setRotation:function(t){var e=this.getRotation();null!=e&&null!=t&&this.rotate(t-e)},getScaling:function(){var t=this._decompose().scaling;return new be(t.x,t.y,this,"setScaling")},setScaling:function(){var t=this.getScaling(),e=q.read(arguments,0,{clone:!0,readNull:!0});t&&e&&this.scale(e.x/t.x,e.y/t.y)},getMatrix:function(){return this._matrix},setMatrix:function(){var t=this._matrix;t.set.apply(t,arguments)},transform:function(t){this._matrix.append(t)},scrollBy:function(){this.translate(q.read(arguments).negate())}}),{projectToView:function(){return this._matrix._transformPoint(q.read(arguments))},viewToProject:function(){return this._matrix._inverseTransform(q.read(arguments))},getEventPoint:function(t){return this.viewToProject($t.getOffset(t,this._element))}},{statics:{_views:[],_viewsById:{},_id:0,create:function(t,e){return et&&"string"==typeof e&&(e=et.getElementById(e)),new(qt?fi:Ut)(t,e)}}},new function(){if(qt){var t,e,l,f,p,n=!1,r=!1,o=qt.navigator;o.pointerEnabled||o.msPointerEnabled?(l="pointerdown MSPointerDown",f="pointermove MSPointerMove",p="pointerup pointercancel MSPointerUp MSPointerCancel"):(l="touchstart",f="touchmove",p="touchend touchcancel","ontouchstart"in qt&&o.userAgent.match(/mobile|tablet|ip(ad|hone|od)|android|silk/i)||(l+=" mousedown",f+=" mousemove",p+=" mouseup"));var v={},c={mouseout:function(D){var R=Ut._focused,z=$t.getRelatedTarget(D);if(R&&(!z||"HTML"===z.nodeName)){var H=$t.getOffset(D,R._element),G=H.x,Y=Math.abs,it=Y(G),ft=it-(1<<25);H.x=Y(ft)<it?ft*(G<0?-1:1):G,h(R,D,R.viewToProject(H))}},scroll:u};v[l]=function(D){var R=Ut._focused=s(D);n||(n=!0,R._handleMouseEvent("mousedown",D))},c[f]=function(D){var R=Ut._focused;if(!r){var z=s(D);z?R!==z&&(R&&h(R,D),t||(t=R),R=Ut._focused=e=z):e&&e===R&&(t&&!t.isInserted()&&(t=null),R=Ut._focused=t,t=null,u())}R&&h(R,D)},c[l]=function(){r=!0},c[p]=function(D){var R=Ut._focused;R&&n&&R._handleMouseEvent("mouseup",D),r=n=!1},$t.add(et,c),$t.add(qt,{load:u});var b,d,y,S,P,w,E,T,g=!1,k=!1,x={doubleclick:"click",mousedrag:"mousemove"},C=!1,M={mousedown:{mousedown:1,mousedrag:1,click:1,doubleclick:1},mouseup:{mouseup:1,mousedrag:1,click:1,doubleclick:1},mousemove:{mousedrag:1,mousemove:1,mouseenter:1,mouseleave:1}};return{_viewEvents:v,_handleMouseEvent:function(D,R,z){var H=this._itemEvents,G=H.native[D],Y="mousemove"===D,it=this._scope.tool,lt=this;function ft(gt){return H.virtual[gt]||lt.responds(gt)||it&&it.responds(gt)}Y&&n&&ft("mousedrag")&&(D="mousedrag"),z||(z=this.getEventPoint(R));var K=this.getBounds().contains(z),tt=G&&K&&lt._project.hitTest(z,{tolerance:0,fill:!0,stroke:!0}),nt=tt&&tt.item||null,dt=!1,ct={};if(ct[D.substr(5)]=!0,G&&nt!==S&&(S&&O(S,null,"mouseleave",R,z),nt&&O(nt,null,"mouseenter",R,z),S=nt),C^K&&(O(this,null,K?"mouseenter":"mouseleave",R,z),dt=!0),(K||ct.drag)&&!z.equals(d)&&(B(this,nt,Y?D:"mousemove",R,z,d),dt=!0),C=K,ct.down&&K||ct.up&&b){if(B(this,nt,D,R,z,b),ct.down){if(T=nt===w&&Date.now()-E<300,y=w=nt,!k&&nt){for(var Q=nt;Q&&!Q.responds("mousedrag");)Q=Q._parent;Q&&(P=nt)}b=z}else ct.up&&(!k&&nt===y&&(E=Date.now(),B(this,nt,T?"doubleclick":"click",R,z,b),T=!1),y=P=null);C=!1,dt=!0}d=z,dt&&it&&(g=it._handleMouseEvent(D,R,z,ct)||g),!1!==R.cancelable&&(g&&!ct.move||ct.down&&ft("mouseup"))&&R.preventDefault()},_handleKeyEvent:function(D,R,z,H){var it,G=this._scope,Y=G.tool;function lt(ft){ft.responds(D)&&(rt=G,ft.emit(D,it=it||new ri(D,R,z,H)))}this.isVisible()&&(lt(this),Y&&Y.responds(D)&&lt(Y))},_countItemEvent:function(D,R){var z=this._itemEvents,H=z.native,G=z.virtual;for(var Y in M)H[Y]=(H[Y]||0)+(M[Y][D]||0)*R;G[D]=(G[D]||0)+R},statics:{updateFocus:u,_resetState:function(){n=r=g=C=!1,t=e=b=d=y=S=P=w=E=T=null}}}}function s(D){var R=$t.getTarget(D);return R.getAttribute&&Ut._viewsById[R.getAttribute("id")]}function u(){var D=Ut._focused;if(!D||!D.isVisible())for(var R=0,z=Ut._views.length;R<z;R++)if((D=Ut._views[R]).isVisible()){Ut._focused=e=D;break}}function h(D,R,z){D._handleMouseEvent("mousemove",R,z)}function O(D,R,z,H,G,Y,it){var ft,lt=!1;function K(tt,nt){if(tt.responds(nt)){if(ft||(ft=new Te(nt,H,G,R||tt,Y?G.subtract(Y):null)),tt.emit(nt,ft)&&(g=!0,ft.prevented&&(k=!0),ft.stopped))return lt=!0}else{var dt=x[nt];if(dt)return K(tt,dt)}}for(;D&&D!==it&&!K(D,z);)D=D._parent;return lt}function B(D,R,z,H,G,Y){return D._project.removeOn(z),k=g=!1,P&&O(P,null,z,H,G,Y)||R&&R!==P&&!R.isDescendant(P)&&O(R,null,"mousedrag"===z?"mousemove":z,H,G,Y,P)||O(D,P||R||D,z,H,G,Y)}}),fi=Ut.extend({_class:"CanvasView",initialize:function(e,n){if(!(n instanceof qt.HTMLCanvasElement)){var r=at.read(arguments,1);if(r.isZero())throw new Error("Cannot create CanvasView with the provided argument: "+V.slice(arguments,1));n=zt.getCanvas(r)}var s=this._context=n.getContext("2d");if(s.save(),this._pixelRatio=1,!/^off|false$/.test(he.getAttribute(n,"hidpi"))){var u=qt.devicePixelRatio||1,h=Ht.getPrefixed(s,"backingStorePixelRatio")||1;this._pixelRatio=u/h}Ut.call(this,e,n),this._needsUpdate=!0},remove:function t(){return this._context.restore(),t.base.call(this)},_setElementSize:function t(e,n){var r=this._pixelRatio;if(t.base.call(this,e*r,n*r),1!==r){var s=this._element,u=this._context;if(!he.hasAttribute(s,"resize")){var h=s.style;h.width=e+"px",h.height=n+"px"}u.restore(),u.save(),u.scale(r,r)}},getContext:function(){return this._context},getPixelSize:function t(e){var r,n=rt.agent;if(n&&n.firefox)r=t.base.call(this,e);else{var s=this._context,u=s.font;s.font=e+" serif",r=parseFloat(s.font),s.font=u}return r},getTextWidth:function(t,e){var n=this._context,r=n.font,s=0;n.font=t;for(var u=0,h=e.length;u<h;u++)s=Math.max(s,n.measureText(e[u]).width);return n.font=r,s},update:function(){if(!this._needsUpdate)return!1;var t=this._project,e=this._context,n=this._viewSize;return e.clearRect(0,0,n.width+1,n.height+1),t&&t.draw(e,this._matrix,this._pixelRatio),this._needsUpdate=!1,!0}}),We=V.extend({_class:"Event",initialize:function(e){this.event=e,this.type=e&&e.type},prevented:!1,stopped:!1,preventDefault:function(){this.prevented=!0,this.event.preventDefault()},stopPropagation:function(){this.stopped=!0,this.event.stopPropagation()},stop:function(){this.stopPropagation(),this.preventDefault()},getTimeStamp:function(){return this.event.timeStamp},getModifiers:function(){return si.modifiers}}),ri=We.extend({_class:"KeyEvent",initialize:function(e,n,r,s){this.type=e,this.event=n,this.key=r,this.character=s},toString:function(){return"{ type: '"+this.type+"', key: '"+this.key+"', character: '"+this.character+"', modifiers: "+this.getModifiers()+" }"}}),si=new function(){var s,u,t={"\t":"tab"," ":"space","\b":"backspace","\x7f":"delete",Spacebar:"space",Del:"delete",Win:"meta",Esc:"escape"},e={tab:"\t",space:" ",enter:"\r"},n={},r={},h=new V({shift:!1,control:!1,alt:!1,meta:!1,capsLock:!1,space:!1}).inject({option:{get:function(){return this.alt}},command:{get:function(){var f=rt&&rt.agent;return f&&f.mac?this.meta:this.control}}});function o(f){var p=f.key||f.keyIdentifier;return p=/^U\+/.test(p)?String.fromCharCode(parseInt(p.substr(2),16)):/^Arrow[A-Z]/.test(p)?p.substr(5):"Unidentified"===p||p===ot?String.fromCharCode(f.keyCode):p,t[p]||(p.length>1?V.hyphenate(p):p.toLowerCase())}function l(f,p,v,c){var x,k=Ut._focused;if(n[p]=f,f?r[p]=v:delete r[p],p.length>1&&(x=V.camelize(p))in h){h[x]=f;var C=rt&&rt.agent;if("meta"===x&&C&&C.mac)if(f)s={};else{for(var _ in s)_ in r&&l(!1,_,s[_],c);s=null}}else f&&s&&(s[p]=v);k&&k._handleKeyEvent(f?"keydown":"keyup",c,p,v)}return $t.add(et,{keydown:function(f){var p=o(f),v=rt&&rt.agent;p.length>1||v&&v.chrome&&(f.altKey||v.mac&&f.metaKey||!v.mac&&f.ctrlKey)?l(!0,p,e[p]||(p.length>1?"":p),f):u=p},keypress:function(f){if(u){var p=o(f),v=f.charCode,c=v>=32?String.fromCharCode(v):p.length>1?"":p;p!==u&&(p=c.toLowerCase()),l(!0,p,c,f),u=null}},keyup:function(f){var p=o(f);p in r&&l(!1,p,r[p],f)}}),$t.add(qt,{blur:function(f){for(var p in r)l(!1,p,r[p],f)}}),{modifiers:h,isDown:function(f){return!!n[f]}}},Te=We.extend({_class:"MouseEvent",initialize:function(e,n,r,s,u){this.type=e,this.event=n,this.point=r,this.target=s,this.delta=u},toString:function(){return"{ type: '"+this.type+"', point: "+this.point+", target: "+this.target+(this.delta?", delta: "+this.delta:"")+", modifiers: "+this.getModifiers()+" }"}}),Ci=We.extend({_class:"ToolEvent",_item:null,initialize:function(e,n,r){this.tool=e,this.type=n,this.event=r},_choosePoint:function(t,e){return t||(e?e.clone():null)},getPoint:function(){return this._choosePoint(this._point,this.tool._point)},setPoint:function(t){this._point=t},getLastPoint:function(){return this._choosePoint(this._lastPoint,this.tool._lastPoint)},setLastPoint:function(t){this._lastPoint=t},getDownPoint:function(){return this._choosePoint(this._downPoint,this.tool._downPoint)},setDownPoint:function(t){this._downPoint=t},getMiddlePoint:function(){return!this._middlePoint&&this.tool._lastPoint?this.tool._point.add(this.tool._lastPoint).divide(2):this._middlePoint},setMiddlePoint:function(t){this._middlePoint=t},getDelta:function(){return!this._delta&&this.tool._lastPoint?this.tool._point.subtract(this.tool._lastPoint):this._delta},setDelta:function(t){this._delta=t},getCount:function(){return this.tool[/^mouse(down|up)$/.test(this.type)?"_downCount":"_moveCount"]},setCount:function(t){this.tool[/^mouse(down|up)$/.test(this.type)?"downCount":"count"]=t},getItem:function(){if(!this._item){var t=this.tool._scope.project.hitTest(this.getPoint());if(t){for(var e=t.item,n=e._parent;/^(Group|CompoundPath)$/.test(n._class);)e=n,n=n._parent;this._item=e}}return this._item},setItem:function(t){this._item=t},toString:function(){return"{ type: "+this.type+", point: "+this.getPoint()+", count: "+this.getCount()+", modifiers: "+this.getModifiers()+" }"}}),Si=ce.extend({_class:"Tool",_list:"tools",_reference:"tool",_events:["onMouseDown","onMouseUp","onMouseDrag","onMouseMove","onActivate","onDeactivate","onEditOptions","onKeyDown","onKeyUp"],initialize:function(e){ce.call(this),this._moveCount=-1,this._downCount=-1,this.set(e)},getMinDistance:function(){return this._minDistance},setMinDistance:function(t){this._minDistance=t,null!=t&&null!=this._maxDistance&&t>this._maxDistance&&(this._maxDistance=t)},getMaxDistance:function(){return this._maxDistance},setMaxDistance:function(t){this._maxDistance=t,null!=this._minDistance&&null!=t&&t<this._minDistance&&(this._minDistance=t)},getFixedDistance:function(){return this._minDistance==this._maxDistance?this._minDistance:null},setFixedDistance:function(t){this._minDistance=this._maxDistance=t},_handleMouseEvent:function(t,e,n,r){rt=this._scope,r.drag&&!this.responds(t)&&(t="mousemove");var s=r.move||r.drag,u=this.responds(t),h=this.minDistance,o=this.maxDistance,l=!1,f=this;function p(c,g){var k=n,x=s?f._point:f._downPoint||k;if(s){if(f._moveCount>=0&&k.equals(x))return!1;if(x&&(null!=c||null!=g)){var C=k.subtract(x),_=C.getLength();if(_<(c||0))return!1;g&&(k=x.add(C.normalize(Math.min(_,g))))}f._moveCount++}return f._point=k,f._lastPoint=x||k,r.down&&(f._moveCount=-1,f._downPoint=k,f._downCount++),!0}function v(){u&&(l=f.emit(t,new Ci(f,t,e))||l)}if(r.down)p(),v();else if(r.up)p(null,o),v();else if(u)for(;p(h,o);)v();return l}}),ki=V.extend(Ue,{_class:"Tween",statics:{easings:new V({linear:function(t){return t},easeInQuad:function(t){return t*t},easeOutQuad:function(t){return t*(2-t)},easeInOutQuad:function(t){return t<.5?2*t*t:2*(2-t)*t-1},easeInCubic:function(t){return t*t*t},easeOutCubic:function(t){return--t*t*t+1},easeInOutCubic:function(t){return t<.5?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1},easeInQuart:function(t){return t*t*t*t},easeOutQuart:function(t){return 1- --t*t*t*t},easeInOutQuart:function(t){return t<.5?8*t*t*t*t:1-8*--t*t*t*t},easeInQuint:function(t){return t*t*t*t*t},easeOutQuint:function(t){return 1+--t*t*t*t*t},easeInOutQuint:function(t){return t<.5?16*t*t*t*t*t:1+16*--t*t*t*t*t}})},initialize:function t(e,n,r,s,u,h){this.object=e;var o=typeof u,l="function"===o;this.type=l?o:"string"===o?u:"linear",this.easing=l?u:t.easings[this.type],this.duration=s,this.running=!1,this._then=null,this._startTime=null;var f=n||r;this._keys=f?Object.keys(f):[],this._parsedKeys=this._parseKeys(this._keys),this._from=f&&this._getState(n),this._to=f&&this._getState(r),!1!==h&&this.start()},then:function(t){return this._then=t,this},start:function(){return this._startTime=null,this.running=!0,this},stop:function(){return this.running=!1,this},update:function(t){if(this.running){t>=1&&(t=1,this.running=!1);for(var e=this.easing(t),n=this._keys,r=function(p){return"function"==typeof p?p(e,t):p},s=0,u=n&&n.length;s<u;s++){var h=n[s],o=r(this._from[h]),l=r(this._to[h]),f=o&&l&&o.__add&&l.__add?l.__subtract(o).__multiply(e).__add(o):(l-o)*e+o;this._setProperty(this._parsedKeys[h],f)}this.responds("update")&&this.emit("update",new V({progress:t,factor:e})),!this.running&&this._then&&this._then(this.object)}return this},_events:{onUpdate:{}},_handleFrame:function(t){var e=this._startTime,n=e?(t-e)/this.duration:0;e||(this._startTime=t),this.update(n)},_getState:function(t){for(var e=this._keys,n={},r=0,s=e.length;r<s;r++){var l,u=e[r],h=this._parsedKeys[u],o=this._getProperty(h);if(t){var f=this._resolveValue(o,t[u]);this._setProperty(h,f),l=(l=this._getProperty(h))&&l.clone?l.clone():l,this._setProperty(h,o)}else l=o&&o.clone?o.clone():o;n[u]=l}return n},_resolveValue:function(t,e){if(e){if(Array.isArray(e)&&2===e.length){var n=e[0];return n&&n.match&&n.match(/^[+\-\*\/]=/)?this._calculate(t,n[0],e[1]):e}if("string"==typeof e){var r=e.match(/^[+\-*/]=(.*)/);if(r){var s=JSON.parse(r[1].replace(/(['"])?([a-zA-Z0-9_]+)(['"])?:/g,'"$2": '));return this._calculate(t,e[0],s)}}}return e},_calculate:function(t,e,n){return rt.PaperScript.calculateBinary(t,e,n)},_parseKeys:function(t){for(var e={},n=0,r=t.length;n<r;n++){var s=t[n],u=s.replace(/\.([^.]*)/g,"/$1").replace(/\[['"]?([^'"\]]*)['"]?\]/g,"/$1");e[s]=u.split("/")}return e},_getProperty:function(t,e){for(var n=this.object,r=0,s=t.length-(e||0);r<s&&n;r++)n=n[t[r]];return n},_setProperty:function(t,e){var n=this._getProperty(t,1);n&&(n[t[t.length-1]]=e)}}),Wt_request=function(t){var e=new jt.XMLHttpRequest;return e.open((t.method||"get").toUpperCase(),t.url,V.pick(t.async,!0)),t.mimeType&&e.overrideMimeType(t.mimeType),e.onload=function(){var n=e.status;0===n||200===n?t.onLoad&&t.onLoad.call(e,e.responseText):e.onerror()},e.onerror=function(){var n=e.status,r='Could not load "'+t.url+'" (Status: '+n+")";if(!t.onError)throw new Error(r);t.onError(r,n)},e.send(null)},zt=V.exports.CanvasProvider={canvases:[],getCanvas:function(t,e,n){if(!qt)return null;var r,s=!0;"object"==typeof t&&(e=t.height,t=t.width),this.canvases.length?r=this.canvases.pop():(r=et.createElement("canvas"),s=!1);var u=r.getContext("2d",n||{});if(!u)throw new Error("Canvas "+r+" is unable to provide a 2D context.");return r.width===t&&r.height===e?s&&u.clearRect(0,0,t+1,e+1):(r.width=t,r.height=e),u.save(),r},getContext:function(t,e,n){var r=this.getCanvas(t,e,n);return r?r.getContext("2d",n||{}):null},release:function(t){var e=t&&t.canvas?t.canvas:t;e&&e.getContext&&(e.getContext("2d").restore(),this.canvases.push(e))}},oe=new function(){var r,s,u,h,o,l,f,p,v,c,g,t=Math.min,e=Math.max,n=Math.abs;function k(S,P,w){return.2989*S+.587*P+.114*w}function x(S,P,w,O){var T=O-k(S,P,w),B=(O=k(v=S+T,c=P+T,g=w+T),t(v,c,g)),M=e(v,c,g);if(B<0){var D=O-B;v=O+(v-O)*O/D,c=O+(c-O)*O/D,g=O+(g-O)*O/D}if(M>255){var R=255-O,z=M-O;v=O+(v-O)*R/z,c=O+(c-O)*R/z,g=O+(g-O)*R/z}}function C(S,P,w){return e(S,P,w)-t(S,P,w)}function _(S,P,w,E){var M,T=[S,P,w],O=e(S,P,w),B=t(S,P,w);M=0===t(B=B===S?0:B===P?1:2,O=O===S?0:O===P?1:2)?1===e(B,O)?2:1:0,T[O]>T[B]?(T[M]=(T[M]-T[B])*E/(T[O]-T[B]),T[O]=E):T[M]=T[O]=0,T[B]=0,v=T[0],c=T[1],g=T[2]}var b={multiply:function(){v=o*r/255,c=l*s/255,g=f*u/255},screen:function(){v=o+r-o*r/255,c=l+s-l*s/255,g=f+u-f*u/255},overlay:function(){v=o<128?2*o*r/255:255-2*(255-o)*(255-r)/255,c=l<128?2*l*s/255:255-2*(255-l)*(255-s)/255,g=f<128?2*f*u/255:255-2*(255-f)*(255-u)/255},"soft-light":function(){var S=r*o/255;v=S+o*(255-(255-o)*(255-r)/255-S)/255,c=(S=s*l/255)+l*(255-(255-l)*(255-s)/255-S)/255,g=(S=u*f/255)+f*(255-(255-f)*(255-u)/255-S)/255},"hard-light":function(){v=r<128?2*r*o/255:255-2*(255-r)*(255-o)/255,c=s<128?2*s*l/255:255-2*(255-s)*(255-l)/255,g=u<128?2*u*f/255:255-2*(255-u)*(255-f)/255},"color-dodge":function(){v=0===o?0:255===r?255:t(255,255*o/(255-r)),c=0===l?0:255===s?255:t(255,255*l/(255-s)),g=0===f?0:255===u?255:t(255,255*f/(255-u))},"color-burn":function(){v=255===o?255:0===r?0:e(0,255-255*(255-o)/r),c=255===l?255:0===s?0:e(0,255-255*(255-l)/s),g=255===f?255:0===u?0:e(0,255-255*(255-f)/u)},darken:function(){v=o<r?o:r,c=l<s?l:s,g=f<u?f:u},lighten:function(){v=o>r?o:r,c=l>s?l:s,g=f>u?f:u},difference:function(){(v=o-r)<0&&(v=-v),(c=l-s)<0&&(c=-c),(g=f-u)<0&&(g=-g)},exclusion:function(){v=o+r*(255-o-o)/255,c=l+s*(255-l-l)/255,g=f+u*(255-f-f)/255},hue:function(){_(r,s,u,C(o,l,f)),x(v,c,g,k(o,l,f))},saturation:function(){_(o,l,f,C(r,s,u)),x(v,c,g,k(o,l,f))},luminosity:function(){x(o,l,f,k(r,s,u))},color:function(){x(r,s,u,k(o,l,f))},add:function(){v=t(o+r,255),c=t(l+s,255),g=t(f+u,255)},subtract:function(){v=e(o-r,0),c=e(l-s,0),g=e(f-u,0)},average:function(){v=(o+r)/2,c=(l+s)/2,g=(f+u)/2},negation:function(){v=255-n(255-r-o),c=255-n(255-s-l),g=255-n(255-u-f)}},d=this.nativeModes=V.each(["source-over","source-in","source-out","source-atop","destination-over","destination-in","destination-out","destination-atop","lighter","darker","copy","xor"],function(S){this[S]=!0},{}),y=zt.getContext(1,1,{willReadFrequently:!0});y&&(V.each(b,function(S,P){var w="darken"===P,E=!1;y.save();try{y.fillStyle=w?"#300":"#a00",y.fillRect(0,0,1,1),y.globalCompositeOperation=P,y.globalCompositeOperation===P&&(y.fillStyle=w?"#a00":"#300",y.fillRect(0,0,1,1),E=y.getImageData(0,0,1,1).data[0]!==w?170:51)}catch{}y.restore(),d[P]=E}),zt.release(y)),this.process=function(S,P,w,E,T){var O=P.canvas,B="normal"===S;if(B||d[S])w.save(),w.setTransform(1,0,0,1,0,0),w.globalAlpha=E,B||(w.globalCompositeOperation=S),w.drawImage(O,T.x,T.y),w.restore();else{var M=b[S];if(!M)return;for(var D=w.getImageData(T.x,T.y,O.width,O.height),R=D.data,z=P.getImageData(0,0,O.width,O.height).data,H=0,G=R.length;H<G;H+=4){r=z[H],o=R[H],s=z[H+1],l=R[H+1],u=z[H+2],f=R[H+2],h=z[H+3],p=R[H+3],M();var Y=h*E/255,it=1-Y;R[H]=Y*v+it*o,R[H+1]=Y*c+it*l,R[H+2]=Y*g+it*f,R[H+3]=h*E+it*p}w.putImageData(D,T.x,T.y)}}},Kt=new function(){var t="http://www.w3.org/2000/svg",e="http://www.w3.org/2000/xmlns",n="http://www.w3.org/1999/xlink",r={href:n,xlink:e,xmlns:e+"/","xmlns:xlink":e+"/"};function h(o,l,f){for(var p in l){var v=l[p],c=r[p];"number"==typeof v&&f&&(v=f.number(v)),c?o.setAttributeNS(c,p,v):o.setAttribute(p,v)}return o}return{svg:t,xmlns:e,xlink:n,create:function s(o,l,f){return h(et.createElementNS(t,o),l,f)},get:function u(o,l){var f=r[l],p=f?o.getAttributeNS(f,l):o.getAttribute(l);return"null"===p?null:p},set:h}},Xe=V.each({fillColor:["fill","color"],fillRule:["fill-rule","string"],strokeColor:["stroke","color"],strokeWidth:["stroke-width","number"],strokeCap:["stroke-linecap","string"],strokeJoin:["stroke-linejoin","string"],strokeScaling:["vector-effect","lookup",{true:"none",false:"non-scaling-stroke"},function(t,e){return!e&&(t instanceof ke||t instanceof Tt||t instanceof Ve)}],miterLimit:["stroke-miterlimit","number"],dashArray:["stroke-dasharray","array"],dashOffset:["stroke-dashoffset","number"],fontFamily:["font-family","string"],fontWeight:["font-weight","string"],fontSize:["font-size","number"],justification:["text-anchor","lookup",{left:"start",center:"middle",right:"end"}],opacity:["opacity","number"],blendMode:["mix-blend-mode","style"]},function(t,e){var n=V.capitalize(e),r=t[2];this[e]={type:t[1],property:e,attribute:t[0],toSVG:r,fromSVG:r&&V.each(r,function(s,u){this[s]=u},{}),exportFilter:t[3],get:"get"+n,set:"set"+n}},{});new function(){var t;function e(b,d,y){var w,S=new V,P=b.getTranslation();if(d&&(b.isInvertible()?(w=(b=b._shiftless())._inverseTransform(P),P=null):w=new q,S[y?"cx":"x"]=w.x,S[y?"cy":"y"]=w.y),!b.isIdentity()){var E=b.decompose();if(E){var T=[],O=E.rotation,B=E.scaling,M=E.skewing;P&&!P.isZero()&&T.push("translate("+t.point(P)+")"),O&&T.push("rotate("+t.number(O)+")"),(!wt.isZero(B.x-1)||!wt.isZero(B.y-1))&&T.push("scale("+t.point(B)+")"),M.x&&T.push("skewX("+t.number(M.x)+")"),M.y&&T.push("skewY("+t.number(M.y)+")"),S.transform=T.join(" ")}else S.transform="matrix("+b.getValues().join(",")+")"}return S}function n(b,d){for(var y=e(b._matrix),S=b._children,P=Kt.create("g",y,t),w=0,E=S.length;w<E;w++){var T=S[w],O=C(T,d);if(O)if(T.isClipMask()){var B=Kt.create("clipPath");B.appendChild(O),k(T,B,"clip"),Kt.set(P,{"clip-path":"url(#"+B.id+")"})}else P.appendChild(O)}return P}function u(b){var d=b._type,y=b._radius,S=e(b._matrix,!0,"rectangle"!==d);if("rectangle"===d){d="rect";var P=b._size,w=P.width,E=P.height;S.x-=w/2,S.y-=E/2,S.width=w,S.height=E,y.isZero()&&(y=null)}return y&&("circle"===d?S.r=y:(S.rx=y.width,S.ry=y.height)),Kt.create(d,S,t)}var c,p={Group:n,Layer:n,Raster:function r(b,d){var y=e(b._matrix,!0),S=b.getSize(),P=b.getImage();return y.x-=S.width/2,y.y-=S.height/2,y.width=S.width,y.height=S.height,y.href=0==d.embedImages&&P&&P.src||b.toDataURL(),Kt.create("image",y,t)},Path:function s(b,d){var y=d.matchShapes;if(y){var S=b.toShape(!1);if(S)return u(S)}var E,P=b._segments,w=P.length,T=e(b._matrix);if(y&&w>=2&&!b.hasHandles())if(w>2){E=b._closed?"polygon":"polyline";for(var O=[],B=0;B<w;B++)O.push(t.point(P[B]._point));T.points=O.join(" ")}else{E="line";var M=P[0]._point,D=P[1]._point;T.set({x1:M.x,y1:M.y,x2:D.x,y2:D.y})}else E="path",T.d=b.getPathData(null,d.precision);return Kt.create(E,T,t)},Shape:u,CompoundPath:function h(b,d){var y=e(b._matrix),S=b.getPathData(null,d.precision);return S&&(y.d=S),Kt.create("path",y,t)},SymbolItem:function o(b,d){var y=e(b._matrix,!0),S=b._definition,P=g(S,"symbol"),w=S._item,E=w.getStrokeBounds();return P||((P=Kt.create("symbol",{viewBox:t.rectangle(E)})).appendChild(C(w,d)),k(S,P,"symbol")),y.href="#"+P.id,y.x+=E.x,y.y+=E.y,y.width=E.width,y.height=E.height,y.overflow="visible",Kt.create("use",y,t)},PointText:function f(b){var d=Kt.create("text",e(b._matrix,!0),t);return d.textContent=b._content,d}};function g(b,d){return c||(c={ids:{},svgs:{}}),b&&c.svgs[d+"-"+(b._id||b.__id||(b.__id=ae.get("svg")))]}function k(b,d,y){c||g();var S=c.ids[y]=(c.ids[y]||0)+1;d.id=y+"-"+S,c.svgs[y+"-"+(b._id||b.__id)]=d}function x(b,d){var y=b,S=null;if(c){for(var P in y="svg"===b.nodeName.toLowerCase()&&b,c.svgs)S||(y||(y=Kt.create("svg")).appendChild(b),S=y.insertBefore(Kt.create("defs"),y.firstChild)),S.appendChild(c.svgs[P]);c=null}return d.asString?(new jt.XMLSerializer).serializeToString(y):y}function C(b,d,y){var S=p[b._class],P=S&&S(b,d);if(P){var w=d.onExport;w&&(P=w(b,P,d)||P);var E=JSON.stringify(b._data);E&&"{}"!==E&&"null"!==E&&P.setAttribute("data-paper-data",E)}return P&&function v(b,d,y){var S={},P=!y&&b.getParent(),w=[];return null!=b._name&&(S.id=b._name),V.each(Xe,function(E){var T=E.get,O=E.type,B=b[T]();if(E.exportFilter?E.exportFilter(b,B):!P||!V.equals(P[T](),B)){if("color"===O&&null!=B){var M=B.getAlpha();M<1&&(S[E.attribute+"-opacity"]=M)}"style"===O?w.push(E.attribute+": "+B):S[E.attribute]=null==B?"none":"color"===O?B.gradient?function l(b){var d=g(b,"color");if(!d){var E,y=b.getGradient(),S=y._radial,P=b.getOrigin(),w=b.getDestination();if(S){E={cx:P.x,cy:P.y,r:P.getDistance(w)};var T=b.getHighlight();T&&(E.fx=T.x,E.fy=T.y)}else E={x1:P.x,y1:P.y,x2:w.x,y2:w.y};E.gradientUnits="userSpaceOnUse",d=Kt.create((S?"radial":"linear")+"Gradient",E,t);for(var O=y._stops,B=0,M=O.length;B<M;B++){var D=O[B],R=D._color,z=R.getAlpha(),H=D._offset;E={offset:null==H?B/(M-1):H},R&&(E["stop-color"]=R.toCSS(!0)),z<1&&(E["stop-opacity"]=z),d.appendChild(Kt.create("stop",E,t))}k(b,d,"color")}return"url(#"+d.id+")"}(B):B.toCSS(!0):"array"===O?B.join(","):"lookup"===O?E.toSVG[B]:B}}),w.length&&(S.style=w.join(";")),1===S.opacity&&delete S.opacity,b._visible||(S.visibility="hidden"),Kt.set(d,S,t)}(b,P,y)}function _(b){return b||(b={}),t=new xt(b.precision),b}X.inject({exportSVG:function(b){return x(C(this,b=_(b),!0),b)}}),$.inject({exportSVG:function(b){b=_(b);var d=this._children,y=this.getView(),S=V.pick(b.bounds,"view"),P=b.matrix||"view"===S&&y._matrix,w=P&&At.read([P]),E="view"===S?new pt([0,0],y.getViewSize()):"content"===S?X._getBounds(d,w,{stroke:!0}).rect:pt.read([S],0,{readNull:!0}),T={version:"1.1",xmlns:Kt.svg,"xmlns:xlink":Kt.xlink};E&&(T.width=E.width,T.height=E.height,(E.x||0===E.x||E.y||0===E.y)&&(T.viewBox=t.rectangle(E)));var O=Kt.create("svg",T,t),B=O;w&&!w.isIdentity()&&(B=O.appendChild(Kt.create("g",e(w),t)));for(var M=0,D=d.length;M<D;M++)B.appendChild(C(d[M],b,!0));return x(O,b)}})},new function(){var e,t={};function n(d,y,S,P,w,E){var T=Kt.get(d,y)||E,O=null==T?P?null:S?"":0:S?T:parseFloat(T);return/%\s*$/.test(T)?O/100*(w?1:e[/x|^width/.test(y)?"width":"height"]):O}function r(d,y,S,P,w,E,T){return y=n(d,y||"x",!1,P,w,E),S=n(d,S||"y",!1,P,w,T),!P||null!=y&&null!=S?new q(y,S):null}function s(d,y,S,P,w){return y=n(d,y||"width",!1,P,w),S=n(d,S||"height",!1,P,w),!P||null!=y&&null!=S?new at(y,S):null}function u(d,y,S){return"none"===d?null:"number"===y?parseFloat(d):"array"===y?d?d.split(/[\s,]+/g).map(parseFloat):[]:"color"===y?C(d)||d:"lookup"===y?S[d]:d}function h(d,y,S,P){var w=d.childNodes,E="clippath"===y,T="defs"===y,O=new vt,B=O._project,M=B._currentStyle,D=[];if(!E&&!T&&(O=x(O,d,P),B._currentStyle=O._style.clone()),P)for(var R=d.querySelectorAll("defs"),z=0,H=R.length;z<H;z++)_(R[z],S,!1);for(z=0,H=w.length;z<H;z++){var Y,G=w[z];1===G.nodeType&&!/^defs$/i.test(G.nodeName)&&(Y=_(G,S,!1))&&!(Y instanceof we)&&D.push(Y)}return O.addChildren(D),E&&(O=x(O.reduce(),d,P)),B._currentStyle=M,(E||T)&&(O.remove(),O=null),O}function o(d,y){for(var S=d.getAttribute("points").match(/[+-]?(?:\d*\.\d+|\d+\.?)(?:[eE][+-]?\d+)?/g),P=[],w=0,E=S.length;w<E;w+=2)P.push(new q(parseFloat(S[w]),parseFloat(S[w+1])));var T=new Rt(P);return"polygon"===y&&T.closePath(),T}function f(d,y){var w,S=(n(d,"href",!0)||"").substring(1),P="radialgradient"===y;if(S)(w=t[S].getGradient())._radial^P&&((w=w.clone())._radial=P);else{for(var E=d.childNodes,T=[],O=0,B=E.length;O<B;O++){var M=E[O];1===M.nodeType&&T.push(x(new ii,M))}w=new Ke(T,P)}var D,R,z,H="userSpaceOnUse"!==n(d,"gradientUnits",!0);return P?(R=(D=r(d,"cx","cy",!1,H,"50%","50%")).add(n(d,"r",!1,!1,H,"50%"),0),z=r(d,"fx","fy",!0,H)):(D=r(d,"x1","y1",!1,H,"0%","0%"),R=r(d,"x2","y2",!1,H,"100%","0%")),x(new Zt(w,D,R,z),d)._scaleToBounds=H,null}var p={"#document":function(d,y,S,P){for(var w=d.childNodes,E=0,T=w.length;E<T;E++){var O=w[E];if(1===O.nodeType)return _(O,S,P)}},g:h,svg:h,clippath:h,polygon:o,polyline:o,path:function l(d){return ke.create(d.getAttribute("d"))},lineargradient:f,radialgradient:f,image:function(d){var y=new Vt(n(d,"href",!0));return y.on("load",function(){var S=s(d);this.setSize(S);var P=r(d).add(S.divide(2));this._matrix.append((new At).translate(P))}),y},symbol:function(d,y,S,P){return new we(h(d,y,S,P),!0)},defs:h,use:function(d){var y=(n(d,"href",!0)||"").substring(1),S=t[y],P=r(d);return S?S instanceof we?S.place(P):S.clone().translate(P):null},circle:function(d){return new Tt.Circle(r(d,"cx","cy"),n(d,"r"))},ellipse:function(d){return new Tt.Ellipse({center:r(d,"cx","cy"),radius:s(d,"rx","ry")})},rect:function(d){return new Tt.Rectangle(new pt(r(d),s(d)),s(d,"rx","ry"))},line:function(d){return new Rt.Line(r(d,"x1","y1"),r(d,"x2","y2"))},text:function(d){var y=new He(r(d).add(r(d,"dx","dy")));return y.setContent(d.textContent.trim()||""),y},switch:h};function v(d,y,S,P){if(d.transform){for(var w=(P.getAttribute(S)||"").split(/\)\s*/g),E=new At,T=0,O=w.length;T<O;T++){var B=w[T];if(!B)break;for(var M=B.split(/\(\s*/),D=M[0],R=M[1].split(/[\s,]+/g),z=0,H=R.length;z<H;z++)R[z]=parseFloat(R[z]);switch(D){case"matrix":E.append(new At(R[0],R[1],R[2],R[3],R[4],R[5]));break;case"rotate":E.rotate(R[0],R[1]||0,R[2]||0);break;case"translate":E.translate(R[0],R[1]||0);break;case"scale":E.scale(R);break;case"skewX":E.skew(R[0],0);break;case"skewY":E.skew(0,R[0])}}d.transform(E)}}function c(d,y,S){var P="fill-opacity"===S?"getFillColor":"getStrokeColor",w=d[P]&&d[P]();w&&w.setAlpha(parseFloat(y))}var g=V.set(V.each(Xe,function(d){this[d.attribute]=function(y,S){if(y[d.set]&&(y[d.set](u(S,d.type,d.fromSVG)),"color"===d.type)){var P=y[d.get]();if(P&&P._scaleToBounds){var w=y.getBounds();P.transform((new At).translate(w.getPoint()).scale(w.getSize()))}}}},{}),{id:function(d,y){t[y]=d,d.setName&&d.setName(y)},"clip-path":function(d,y){var S=C(y);if(S){if((S=S.clone()).setClipMask(!0),!(d instanceof vt))return new vt(S,d);d.insertChild(0,S)}},gradientTransform:v,transform:v,"fill-opacity":c,"stroke-opacity":c,visibility:function(d,y){d.setVisible&&d.setVisible("visible"===y)},display:function(d,y){d.setVisible&&d.setVisible(null!==y)},"stop-color":function(d,y){d.setColor&&d.setColor(y)},"stop-opacity":function(d,y){d._color&&d._color.setAlpha(parseFloat(y))},offset:function(d,y){if(d.setOffset){var S=y.match(/(.*)%$/);d.setOffset(S?S[1]/100:parseFloat(y))}},viewBox:function(d,y,S,P,w){var O,E=new pt(u(y,"array")),T=s(P,null,null,!0);if(d instanceof vt){var M=T?T.divide(E.getSize()):1,B=(new At).scale(M).translate(E.getPoint().negate());O=d}else d instanceof we&&(T&&E.setSize(T),O=d._item);if(O){if("visible"!==k(P,"overflow",w)){var D=new Tt.Rectangle(E);D.setClipMask(!0),O.addChild(D)}B&&O.transform(B)}}});function k(d,y,S){var P=d.attributes[y],w=P&&P.value;if(!w&&d.style){var E=V.camelize(y);!(w=d.style[E])&&S.node[E]!==S.parent[E]&&(w=S.node[E])}return w?"none"===w?null:w:ot}function x(d,y,S){var P=y.parentNode,w={node:Ht.getStyles(y)||{},parent:!S&&!/^defs$/i.test(P.tagName)&&Ht.getStyles(P)||{}};return V.each(g,function(E,T){var O=k(y,T,w);d=O!==ot&&E(d,O,T,y,w)||d}),d}function C(d){var y=d&&d.match(/\((?:["'#]*)([^"')]+)/),S=y&&y[1],P=S&&t[qt?S.replace(qt.location.href.split("#")[0]+"#",""):S];return P&&P._scaleToBounds&&((P=P.clone())._scaleToBounds=!0),P}function _(d,y,S){var T,O,B,P=d.nodeName.toLowerCase(),w="#document"!==P,E=et.body;S&&w&&(e=rt.getView().getSize(),e=s(d,null,null,!0)||e,T=Kt.create("svg",{style:"stroke-width: 1px; stroke-miterlimit: 10"}),O=d.parentNode,B=d.nextSibling,T.appendChild(d),E.appendChild(T));var M=rt.settings,D=M.applyMatrix,R=M.insertItems;M.applyMatrix=!1,M.insertItems=!1;var z=p[P],H=z&&z(d,P,y,S)||null;if(M.insertItems=R,M.applyMatrix=D,H){w&&!(H instanceof vt)&&(H=x(H,d,S));var G=y.onImport,Y=w&&d.getAttribute("data-paper-data");G&&(H=G(d,H,y)||H),y.expandShapes&&H instanceof Tt&&(H.remove(),H=H.toPath()),Y&&(H._data=JSON.parse(Y))}return T&&(E.removeChild(T),O&&(B?O.insertBefore(d,B):O.appendChild(d))),S&&(t={},H&&V.pick(y.applyMatrix,D)&&H.matrix.apply(!0,!0)),H}function b(d,y,S){if(!d)return null;y="function"==typeof y?{onLoad:y}:y||{};var P=rt,w=null;function E(M){try{var D="object"==typeof M?M:(new jt.DOMParser).parseFromString(M.trim(),"image/svg+xml");if(!D.nodeName)throw D=null,new Error("Unsupported SVG source: "+d);rt=P,w=_(D,y,!0),(!y||!1!==y.insert)&&S._insertItem(ot,w);var R=y.onLoad;R&&R(w,M)}catch(z){T(z)}}function T(M,D){var R=y.onError;if(!R)throw new Error(M);R(M,D)}if("string"!=typeof d||/^[\s\S]*</.test(d)){if(typeof File<"u"&&d instanceof File){var B=new FileReader;return B.onload=function(){E(B.result)},B.onerror=function(){T(B.error)},B.readAsText(d)}E(d)}else{var O=et.getElementById(d);O?E(O):Wt_request({url:d,async:!0,onLoad:E,onError:T})}return w}X.inject({importSVG:function(d,y){return b(d,y,this)}}),$.inject({importSVG:function(d,y){return this.activate(),b(d,y,this)}})},V.exports.PaperScript=function(){var n,r,C,t=this,e=t.acorn;if(!e)try{e=St(5111)}catch{}function s(x,C){return(t.acorn||e).parse(x,C)}e||(e=n=r={},C=function(x){"use strict";var C,_,b,d;x.version="0.5.0",x.parse=function(N,U){return _=String(N),b=_.length,S(U),$i(),function Vn(N){G=Y=w,C.locations&&(it=new Qe),lt=K=null,ft=[],Je();var U=N||ge(),Z=!0;for(N||(U.body=[]);M!==yt;){var J=Ne();U.body.push(J),Z&&Di(J)&&Bi(!0),Z=!1}return Mt(U,"Program")}(C.program)};var y=x.defaultOptions={ecmaVersion:5,strictSemicolons:!1,allowTrailingCommas:!0,forbidReserved:!1,allowReturnOutsideFunction:!1,locations:!1,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null};function S(N){for(var U in C=N||{},y)Object.prototype.hasOwnProperty.call(C,U)||(C[U]=y[U]);d=C.sourceFile||null}var w,E,T,O,B,M,D,R,z,H,G,Y,it,lt,ft,K,P=x.getLineInfo=function(N,U){for(var Z=1,J=0;;){ui.lastIndex=J;var mt=ui.exec(N);if(!(mt&&mt.index<U))break;++Z,J=mt.index+mt[0].length}return{line:Z,column:U-J}};function tt(N,U){var Z=P(_,N),J=new SyntaxError(U+=" ("+Z.line+":"+Z.column+")");throw J.pos=N,J.loc=Z,J.raisedAt=w,J}x.tokenize=function(N,U){_=String(N),b=_.length,S(U),$i();var Z={};function J(mt){return Y=T,Je(mt),Z.start=E,Z.end=T,Z.startLoc=O,Z.endLoc=B,Z.type=M,Z.value=D,Z}return J.jumpTo=function(mt,Ct){if(w=mt,C.locations){z=1,H=ui.lastIndex=0;for(var kt;(kt=ui.exec(_))&&kt.index<mt;)++z,H=kt.index+kt[0].length}R=Ct,oi()},J};var nt=[],dt={type:"num"},ct={type:"regexp"},Q={type:"string"},gt={type:"name"},yt={type:"eof"},It={keyword:"break"},bt={keyword:"case",beforeExpr:!0},te={keyword:"catch"},ie={keyword:"continue"},re={keyword:"debugger"},Dt={keyword:"default"},Lt={keyword:"do",isLoop:!0},Xt={keyword:"else",beforeExpr:!0},de={keyword:"finally"},ne={keyword:"for",isLoop:!0},Se={keyword:"function"},Be={keyword:"if"},Pe={keyword:"return",beforeExpr:!0},_e={keyword:"switch"},pe={keyword:"throw",beforeExpr:!0},ve={keyword:"try"},Le={keyword:"var"},me={keyword:"while",isLoop:!0},Ot={keyword:"with"},Ii={keyword:"new",beforeExpr:!0},ci={keyword:"this"},di={keyword:"null",atomValue:null},pi={keyword:"true",atomValue:!0},Pi={keyword:"false",atomValue:!1},ai={keyword:"in",binop:7,beforeExpr:!0},gi={break:It,case:bt,catch:te,continue:ie,debugger:re,default:Dt,do:Lt,else:Xt,finally:de,for:ne,function:Se,if:Be,return:Pe,switch:_e,throw:pe,try:ve,var:Le,while:me,with:Ot,null:di,true:pi,false:Pi,new:Ii,in:ai,instanceof:{keyword:"instanceof",binop:7,beforeExpr:!0},this:ci,typeof:{keyword:"typeof",prefix:!0,beforeExpr:!0},void:{keyword:"void",prefix:!0,beforeExpr:!0},delete:{keyword:"delete",prefix:!0,beforeExpr:!0}},i={type:"[",beforeExpr:!0},a={type:"]"},m={type:"{",beforeExpr:!0},I={type:"}"},L={type:"(",beforeExpr:!0},W={type:")"},j={type:",",beforeExpr:!0},st={type:";",beforeExpr:!0},ht={type:":",beforeExpr:!0},Pt={type:"."},Nt={type:"?",beforeExpr:!0},Yt={binop:10,beforeExpr:!0},Oe={isAssign:!0,beforeExpr:!0},Ae={isAssign:!0,beforeExpr:!0},Ge={postfix:!0,prefix:!0,isUpdate:!0},Ye={prefix:!0,beforeExpr:!0},De={binop:1,beforeExpr:!0},Fe={binop:2,beforeExpr:!0},ln={binop:3,beforeExpr:!0},fn={binop:4,beforeExpr:!0},cn={binop:5,beforeExpr:!0},dn={binop:6,beforeExpr:!0},pn={binop:7,beforeExpr:!0},gn={binop:8,beforeExpr:!0},_n={binop:9,prefix:!0,beforeExpr:!0},vn={binop:10,beforeExpr:!0};for(var Ki in x.tokTypes={bracketL:i,bracketR:a,braceL:m,braceR:I,parenL:L,parenR:W,comma:j,semi:st,colon:ht,dot:Pt,question:Nt,slash:Yt,eq:Oe,name:gt,eof:yt,num:dt,regexp:ct,string:Q},gi)x.tokTypes["_"+Ki]=gi[Ki];function _i(N){N=N.split(" ");var U="",Z=[];t:for(var J=0;J<N.length;++J){for(var mt=0;mt<Z.length;++mt)if(Z[mt][0].length==N[J].length){Z[mt].push(N[J]);continue t}Z.push([N[J]])}function Ct(Ft){if(1==Ft.length)return U+="return str === "+JSON.stringify(Ft[0])+";";U+="switch(str){";for(var Me=0;Me<Ft.length;++Me)U+="case "+JSON.stringify(Ft[Me])+":";U+="return true}return false;"}if(Z.length>3){for(Z.sort(function(Ft,Me){return Me.length-Ft.length}),U+="switch(str.length){",J=0;J<Z.length;++J){var kt=Z[J];U+="case "+kt[0].length+":",Ct(kt)}U+="}"}else Ct(N);return new Function("str",U)}var hi,mn=_i("abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile"),xn=_i("class enum extends super const export import"),Xi=_i("implements interface let package private protected public static yield"),Ai=_i("eval arguments"),yn=_i("break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this"),bn=/[\u1680\u180e\u2000-\u200a\u202f\u205f\u3000\ufeff]/,Yi="\xaa\xb5\xba\xc0-\xd6\xd8-\xf6\xf8-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ec\u02ee\u0370-\u0374\u0376\u0377\u037a-\u037d\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u048a-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05d0-\u05ea\u05f0-\u05f2\u0620-\u064a\u066e\u066f\u0671-\u06d3\u06d5\u06e5\u06e6\u06ee\u06ef\u06fa-\u06fc\u06ff\u0710\u0712-\u072f\u074d-\u07a5\u07b1\u07ca-\u07ea\u07f4\u07f5\u07fa\u0800-\u0815\u081a\u0824\u0828\u0840-\u0858\u08a0\u08a2-\u08ac\u0904-\u0939\u093d\u0950\u0958-\u0961\u0971-\u0977\u0979-\u097f\u0985-\u098c\u098f\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bd\u09ce\u09dc\u09dd\u09df-\u09e1\u09f0\u09f1\u0a05-\u0a0a\u0a0f\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32\u0a33\u0a35\u0a36\u0a38\u0a39\u0a59-\u0a5c\u0a5e\u0a72-\u0a74\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2\u0ab3\u0ab5-\u0ab9\u0abd\u0ad0\u0ae0\u0ae1\u0b05-\u0b0c\u0b0f\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32\u0b33\u0b35-\u0b39\u0b3d\u0b5c\u0b5d\u0b5f-\u0b61\u0b71\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99\u0b9a\u0b9c\u0b9e\u0b9f\u0ba3\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bd0\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c33\u0c35-\u0c39\u0c3d\u0c58\u0c59\u0c60\u0c61\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbd\u0cde\u0ce0\u0ce1\u0cf1\u0cf2\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d3a\u0d3d\u0d4e\u0d60\u0d61\u0d7a-\u0d7f\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0e01-\u0e30\u0e32\u0e33\u0e40-\u0e46\u0e81\u0e82\u0e84\u0e87\u0e88\u0e8a\u0e8d\u0e94-\u0e97\u0e99-\u0e9f\u0ea1-\u0ea3\u0ea5\u0ea7\u0eaa\u0eab\u0ead-\u0eb0\u0eb2\u0eb3\u0ebd\u0ec0-\u0ec4\u0ec6\u0edc-\u0edf\u0f00\u0f40-\u0f47\u0f49-\u0f6c\u0f88-\u0f8c\u1000-\u102a\u103f\u1050-\u1055\u105a-\u105d\u1061\u1065\u1066\u106e-\u1070\u1075-\u1081\u108e\u10a0-\u10c5\u10c7\u10cd\u10d0-\u10fa\u10fc-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u1380-\u138f\u13a0-\u13f4\u1401-\u166c\u166f-\u167f\u1681-\u169a\u16a0-\u16ea\u16ee-\u16f0\u1700-\u170c\u170e-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176c\u176e-\u1770\u1780-\u17b3\u17d7\u17dc\u1820-\u1877\u1880-\u18a8\u18aa\u18b0-\u18f5\u1900-\u191c\u1950-\u196d\u1970-\u1974\u1980-\u19ab\u19c1-\u19c7\u1a00-\u1a16\u1a20-\u1a54\u1aa7\u1b05-\u1b33\u1b45-\u1b4b\u1b83-\u1ba0\u1bae\u1baf\u1bba-\u1be5\u1c00-\u1c23\u1c4d-\u1c4f\u1c5a-\u1c7d\u1ce9-\u1cec\u1cee-\u1cf1\u1cf5\u1cf6\u1d00-\u1dbf\u1e00-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u2071\u207f\u2090-\u209c\u2102\u2107\u210a-\u2113\u2115\u2119-\u211d\u2124\u2126\u2128\u212a-\u212d\u212f-\u2139\u213c-\u213f\u2145-\u2149\u214e\u2160-\u2188\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2ce4\u2ceb-\u2cee\u2cf2\u2cf3\u2d00-\u2d25\u2d27\u2d2d\u2d30-\u2d67\u2d6f\u2d80-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u2e2f\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303c\u3041-\u3096\u309d-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312d\u3131-\u318e\u31a0-\u31ba\u31f0-\u31ff\u3400-\u4db5\u4e00-\u9fcc\ua000-\ua48c\ua4d0-\ua4fd\ua500-\ua60c\ua610-\ua61f\ua62a\ua62b\ua640-\ua66e\ua67f-\ua697\ua6a0-\ua6ef\ua717-\ua71f\ua722-\ua788\ua78b-\ua78e\ua790-\ua793\ua7a0-\ua7aa\ua7f8-\ua801\ua803-\ua805\ua807-\ua80a\ua80c-\ua822\ua840-\ua873\ua882-\ua8b3\ua8f2-\ua8f7\ua8fb\ua90a-\ua925\ua930-\ua946\ua960-\ua97c\ua984-\ua9b2\ua9cf\uaa00-\uaa28\uaa40-\uaa42\uaa44-\uaa4b\uaa60-\uaa76\uaa7a\uaa80-\uaaaf\uaab1\uaab5\uaab6\uaab9-\uaabd\uaac0\uaac2\uaadb-\uaadd\uaae0-\uaaea\uaaf2-\uaaf4\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e\uabc0-\uabe2\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\uf900-\ufa6d\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d\ufb1f-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40\ufb41\ufb43\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe70-\ufe74\ufe76-\ufefc\uff21-\uff3a\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc",Qi=new RegExp("["+Yi+"]"),Cn=new RegExp("["+Yi+"\u0300-\u036f\u0483-\u0487\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u0620-\u0649\u0672-\u06d3\u06e7-\u06e8\u06fb-\u06fc\u0730-\u074a\u0800-\u0814\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0840-\u0857\u08e4-\u08fe\u0900-\u0903\u093a-\u093c\u093e-\u094f\u0951-\u0957\u0962-\u0963\u0966-\u096f\u0981-\u0983\u09bc\u09be-\u09c4\u09c7\u09c8\u09d7\u09df-\u09e0\u0a01-\u0a03\u0a3c\u0a3e-\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a66-\u0a71\u0a75\u0a81-\u0a83\u0abc\u0abe-\u0ac5\u0ac7-\u0ac9\u0acb-\u0acd\u0ae2-\u0ae3\u0ae6-\u0aef\u0b01-\u0b03\u0b3c\u0b3e-\u0b44\u0b47\u0b48\u0b4b-\u0b4d\u0b56\u0b57\u0b5f-\u0b60\u0b66-\u0b6f\u0b82\u0bbe-\u0bc2\u0bc6-\u0bc8\u0bca-\u0bcd\u0bd7\u0be6-\u0bef\u0c01-\u0c03\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62-\u0c63\u0c66-\u0c6f\u0c82\u0c83\u0cbc\u0cbe-\u0cc4\u0cc6-\u0cc8\u0cca-\u0ccd\u0cd5\u0cd6\u0ce2-\u0ce3\u0ce6-\u0cef\u0d02\u0d03\u0d46-\u0d48\u0d57\u0d62-\u0d63\u0d66-\u0d6f\u0d82\u0d83\u0dca\u0dcf-\u0dd4\u0dd6\u0dd8-\u0ddf\u0df2\u0df3\u0e34-\u0e3a\u0e40-\u0e45\u0e50-\u0e59\u0eb4-\u0eb9\u0ec8-\u0ecd\u0ed0-\u0ed9\u0f18\u0f19\u0f20-\u0f29\u0f35\u0f37\u0f39\u0f41-\u0f47\u0f71-\u0f84\u0f86-\u0f87\u0f8d-\u0f97\u0f99-\u0fbc\u0fc6\u1000-\u1029\u1040-\u1049\u1067-\u106d\u1071-\u1074\u1082-\u108d\u108f-\u109d\u135d-\u135f\u170e-\u1710\u1720-\u1730\u1740-\u1750\u1772\u1773\u1780-\u17b2\u17dd\u17e0-\u17e9\u180b-\u180d\u1810-\u1819\u1920-\u192b\u1930-\u193b\u1951-\u196d\u19b0-\u19c0\u19c8-\u19c9\u19d0-\u19d9\u1a00-\u1a15\u1a20-\u1a53\u1a60-\u1a7c\u1a7f-\u1a89\u1a90-\u1a99\u1b46-\u1b4b\u1b50-\u1b59\u1b6b-\u1b73\u1bb0-\u1bb9\u1be6-\u1bf3\u1c00-\u1c22\u1c40-\u1c49\u1c5b-\u1c7d\u1cd0-\u1cd2\u1d00-\u1dbe\u1e01-\u1f15\u200c\u200d\u203f\u2040\u2054\u20d0-\u20dc\u20e1\u20e5-\u20f0\u2d81-\u2d96\u2de0-\u2dff\u3021-\u3028\u3099\u309a\ua640-\ua66d\ua674-\ua67d\ua69f\ua6f0-\ua6f1\ua7f8-\ua800\ua806\ua80b\ua823-\ua827\ua880-\ua881\ua8b4-\ua8c4\ua8d0-\ua8d9\ua8f3-\ua8f7\ua900-\ua909\ua926-\ua92d\ua930-\ua945\ua980-\ua983\ua9b3-\ua9c0\uaa00-\uaa27\uaa40-\uaa41\uaa4c-\uaa4d\uaa50-\uaa59\uaa7b\uaae0-\uaae9\uaaf2-\uaaf3\uabc0-\uabe1\uabec\uabed\uabf0-\uabf9\ufb20-\ufb28\ufe00-\ufe0f\ufe20-\ufe26\ufe33\ufe34\ufe4d-\ufe4f\uff10-\uff19\uff3f]"),Ei=/[\n\r\u2028\u2029]/,ui=/\r\n|[\n\r\u2028\u2029]/g,Ti=x.isIdentifierStart=function(N){return N<65?36===N:N<91||(N<97?95===N:N<123||N>=170&&Qi.test(String.fromCharCode(N)))},Ji=x.isIdentifierChar=function(N){return N<48?36===N:N<58||!(N<65)&&(N<91||(N<97?95===N:N<123||N>=170&&Cn.test(String.fromCharCode(N))))};function Qe(){this.line=z,this.column=w-H}function $i(){z=1,w=H=0,R=!0,oi()}function le(N,U){T=w,C.locations&&(B=new Qe),M=N,oi(),D=U,R=N.beforeExpr}function Sn(){var N=C.onComment&&C.locations&&new Qe,U=w,Z=_.indexOf("*/",w+=2);if(-1===Z&&tt(w-2,"Unterminated comment"),w=Z+2,C.locations){ui.lastIndex=U;for(var J;(J=ui.exec(_))&&J.index<w;)++z,H=J.index+J[0].length}C.onComment&&C.onComment(!0,_.slice(U+2,Z),U,w,N,C.locations&&new Qe)}function Vi(){for(var N=w,U=C.onComment&&C.locations&&new Qe,Z=_.charCodeAt(w+=2);w<b&&10!==Z&&13!==Z&&8232!==Z&&8233!==Z;)++w,Z=_.charCodeAt(w);C.onComment&&C.onComment(!1,_.slice(N+2,w),N,w,U,C.locations&&new Qe)}function oi(){for(;w<b;){var N=_.charCodeAt(w);if(32===N)++w;else if(13===N)++w,10===(U=_.charCodeAt(w))&&++w,C.locations&&(++z,H=w);else if(10===N||8232===N||8233===N)++w,C.locations&&(++z,H=w);else if(N>8&&N<14)++w;else if(47===N){var U;if(42===(U=_.charCodeAt(w+1)))Sn();else{if(47!==U)break;Vi()}}else if(160===N)++w;else{if(!(N>=5760&&bn.test(String.fromCharCode(N))))break;++w}}}function Je(N){if(N?w=E+1:E=w,C.locations&&(O=new Qe),N)return tn();if(w>=b)return le(yt);var U=_.charCodeAt(w);if(Ti(U)||92===U)return rn();var Z=function Nn(N){switch(N){case 46:return function kn(){var N=_.charCodeAt(w+1);return N>=48&&N<=57?en(!0):(++w,le(Pt))}();case 40:return++w,le(L);case 41:return++w,le(W);case 59:return++w,le(st);case 44:return++w,le(j);case 91:return++w,le(i);case 93:return++w,le(a);case 123:return++w,le(m);case 125:return++w,le(I);case 58:return++w,le(ht);case 63:return++w,le(Nt);case 48:var U=_.charCodeAt(w+1);if(120===U||88===U)return function Mn(){w+=2;var N=vi(16);return null==N&&tt(E+2,"Expected hexadecimal number"),Ti(_.charCodeAt(w))&&tt(w,"Identifier directly after number"),le(dt,N)}();case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return en(!1);case 34:case 39:return function Rn(N){w++;for(var U="";;){w>=b&&tt(E,"Unterminated string constant");var Z=_.charCodeAt(w);if(Z===N)return++w,le(Q,U);if(92===Z){Z=_.charCodeAt(++w);var J=/^[0-7]+/.exec(_.slice(w,w+3));for(J&&(J=J[0]);J&&parseInt(J,8)>255;)J=J.slice(0,-1);if("0"===J&&(J=null),++w,J)K&&tt(w-2,"Octal literal in strict mode"),U+=String.fromCharCode(parseInt(J,8)),w+=J.length-1;else switch(Z){case 110:U+="\n";break;case 114:U+="\r";break;case 120:U+=String.fromCharCode(Li(2));break;case 117:U+=String.fromCharCode(Li(4));break;case 85:U+=String.fromCharCode(Li(8));break;case 116:U+="\t";break;case 98:U+="\b";break;case 118:U+="\v";break;case 102:U+="\f";break;case 48:U+="\0";break;case 13:10===_.charCodeAt(w)&&++w;case 10:C.locations&&(H=w,++z);break;default:U+=String.fromCharCode(Z)}}else(13===Z||10===Z||8232===Z||8233===Z)&&tt(E,"Unterminated string constant"),U+=String.fromCharCode(Z),++w}}(N);case 47:return function In(){var N=_.charCodeAt(w+1);return R?(++w,tn()):61===N?fe(Ae,2):fe(Yt,1)}();case 37:case 42:return function Pn(){return 61===_.charCodeAt(w+1)?fe(Ae,2):fe(vn,1)}();case 124:case 38:return function An(N){var U=_.charCodeAt(w+1);return U===N?fe(124===N?De:Fe,2):61===U?fe(Ae,2):fe(124===N?ln:cn,1)}(N);case 94:return function En(){return 61===_.charCodeAt(w+1)?fe(Ae,2):fe(fn,1)}();case 43:case 45:return function Tn(N){var U=_.charCodeAt(w+1);return U===N?45==U&&62==_.charCodeAt(w+2)&&Ei.test(_.slice(Y,w))?(w+=3,Vi(),oi(),Je()):fe(Ge,2):61===U?fe(Ae,2):fe(_n,1)}(N);case 60:case 62:return function Ln(N){var U=_.charCodeAt(w+1),Z=1;return U===N?(Z=62===N&&62===_.charCodeAt(w+2)?3:2,61===_.charCodeAt(w+Z)?fe(Ae,Z+1):fe(gn,Z)):33==U&&60==N&&45==_.charCodeAt(w+2)&&45==_.charCodeAt(w+3)?(w+=4,Vi(),oi(),Je()):(61===U&&(Z=61===_.charCodeAt(w+2)?3:2),fe(pn,Z))}(N);case 61:case 33:return function On(N){return 61===_.charCodeAt(w+1)?fe(dn,61===_.charCodeAt(w+2)?3:2):fe(61===N?Oe:Ye,1)}(N);case 126:return fe(Ye,1)}return!1}(U);if(!1===Z){var J=String.fromCharCode(U);if("\\"===J||Qi.test(J))return rn();tt(w,"Unexpected character '"+J+"'")}return Z}function fe(N,U){var Z=_.slice(w,w+U);w+=U,le(N,Z)}function tn(){for(var N,U,Z=w;;){w>=b&&tt(Z,"Unterminated regular expression");var J=_.charAt(w);if(Ei.test(J)&&tt(Z,"Unterminated regular expression"),N)N=!1;else{if("["===J)U=!0;else if("]"===J&&U)U=!1;else if("/"===J&&!U)break;N="\\"===J}++w}var mt=_.slice(Z,w);++w;var Ct=nn();Ct&&!/^[gmsiy]*$/.test(Ct)&&tt(Z,"Invalid regexp flag");try{var kt=new RegExp(mt,Ct)}catch(Ft){Ft instanceof SyntaxError&&tt(Z,Ft.message),tt(Ft)}return le(ct,kt)}function vi(N,U){for(var Z=w,J=0,mt=0,Ct=null==U?1/0:U;mt<Ct;++mt){var Ft,kt=_.charCodeAt(w);if((Ft=kt>=97?kt-97+10:kt>=65?kt-65+10:kt>=48&&kt<=57?kt-48:1/0)>=N)break;++w,J=J*N+Ft}return w===Z||null!=U&&w-Z!==U?null:J}function en(N){var U=w,Z=!1,J=48===_.charCodeAt(w);!N&&null===vi(10)&&tt(U,"Invalid number"),46===_.charCodeAt(w)&&(++w,vi(10),Z=!0);var mt=_.charCodeAt(w);(69===mt||101===mt)&&((43===(mt=_.charCodeAt(++w))||45===mt)&&++w,null===vi(10)&&tt(U,"Invalid number"),Z=!0),Ti(_.charCodeAt(w))&&tt(w,"Identifier directly after number");var kt,Ct=_.slice(U,w);return Z?kt=parseFloat(Ct):J&&1!==Ct.length?/[89]/.test(Ct)||K?tt(U,"Invalid number"):kt=parseInt(Ct,8):kt=parseInt(Ct,10),le(dt,kt)}function Li(N){var U=vi(16,N);return null===U&&tt(E,"Bad character escape sequence"),U}function nn(){hi=!1;for(var N,U=!0,Z=w;;){var J=_.charCodeAt(w);if(Ji(J))hi&&(N+=_.charAt(w)),++w;else{if(92!==J)break;hi||(N=_.slice(Z,w)),hi=!0,117!=_.charCodeAt(++w)&&tt(w,"Expecting Unicode escape sequence \\uXXXX"),++w;var mt=Li(4),Ct=String.fromCharCode(mt);Ct||tt(w-1,"Invalid Unicode escape"),(U?Ti(mt):Ji(mt))||tt(w-4,"Invalid Unicode escape"),N+=Ct}U=!1}return hi?N:_.slice(Z,w)}function rn(){var N=nn(),U=gt;return!hi&&yn(N)&&(U=gi[N]),le(U,N)}function Bt(){G=E,Y=T,it=B,Je()}function Bi(N){if(K=N,w=E,C.locations)for(;w<H;)H=_.lastIndexOf("\n",H-2)+1,--z;oi(),Je()}function sn(){this.type=null,this.start=E,this.end=null}function an(){this.start=O,this.end=null,null!==d&&(this.source=d)}function ge(){var N=new sn;return C.locations&&(N.loc=new an),C.directSourceFile&&(N.sourceFile=C.directSourceFile),C.ranges&&(N.range=[E,0]),N}function je(N){var U=new sn;return U.start=N.start,C.locations&&(U.loc=new an,U.loc.start=N.loc.start),C.ranges&&(U.range=[N.range[0],0]),U}function Mt(N,U){return N.type=U,N.end=Y,C.locations&&(N.loc.end=it),C.ranges&&(N.range[1]=Y),N}function Di(N){return C.ecmaVersion>=5&&"ExpressionStatement"===N.type&&"Literal"===N.expression.type&&"use strict"===N.expression.value}function Qt(N){if(M===N)return Bt(),!0}function Oi(){return!C.strictSemicolons&&(M===yt||M===I||Ei.test(_.slice(Y,E)))}function $e(){!Qt(st)&&!Oi()&&ze()}function se(N){M===N?Bt():ze()}function ze(){tt(E,"Unexpected token")}function Ni(N){"Identifier"!==N.type&&"MemberExpression"!==N.type&&tt(N.start,"Assigning to rvalue"),K&&"Identifier"===N.type&&Ai(N.name)&&tt(N.start,"Assigning to "+N.name+" in strict mode")}var Fi={kind:"loop"},Bn={kind:"switch"};function Ne(){(M===Yt||M===Ae&&"/="==D)&&Je(!0);var N=M,U=ge();switch(N){case It:case ie:Bt();var Z=N===It;Qt(st)||Oi()?U.label=null:M!==gt?ze():(U.label=Ze(),$e());for(var J=0;J<ft.length;++J){var mt=ft[J];if((null==U.label||mt.name===U.label.name)&&(null!=mt.kind&&(Z||"loop"===mt.kind)||U.label&&Z))break}return J===ft.length&&tt(U.start,"Unsyntactic "+N.keyword),Mt(U,Z?"BreakStatement":"ContinueStatement");case re:return Bt(),$e(),Mt(U,"DebuggerStatement");case Lt:return Bt(),ft.push(Fi),U.body=Ne(),ft.pop(),se(me),U.test=mi(),$e(),Mt(U,"DoWhileStatement");case ne:if(Bt(),ft.push(Fi),se(L),M===st)return zi(U,null);if(M===Le){var Ct=ge();return Bt(),on(Ct,!0),Mt(Ct,"VariableDeclaration"),1===Ct.declarations.length&&Qt(ai)?un(U,Ct):zi(U,Ct)}return Ct=xe(!1,!0),Qt(ai)?(Ni(Ct),un(U,Ct)):zi(U,Ct);case Se:return Bt(),Gi(U,!0);case Be:return Bt(),U.test=mi(),U.consequent=Ne(),U.alternate=Qt(Xt)?Ne():null,Mt(U,"IfStatement");case Pe:return!lt&&!C.allowReturnOutsideFunction&&tt(E,"'return' outside of function"),Bt(),Qt(st)||Oi()?U.argument=null:(U.argument=xe(),$e()),Mt(U,"ReturnStatement");case _e:Bt(),U.discriminant=mi(),U.cases=[],se(m),ft.push(Bn);for(var kt,Ft;M!=I;)if(M===bt||M===Dt){var Me=M===bt;kt&&Mt(kt,"SwitchCase"),U.cases.push(kt=ge()),kt.consequent=[],Bt(),Me?kt.test=xe():(Ft&&tt(G,"Multiple default clauses"),Ft=!0,kt.test=null),se(ht)}else kt||ze(),kt.consequent.push(Ne());return kt&&Mt(kt,"SwitchCase"),Bt(),ft.pop(),Mt(U,"SwitchStatement");case pe:return Bt(),Ei.test(_.slice(Y,E))&&tt(Y,"Illegal newline after throw"),U.argument=xe(),$e(),Mt(U,"ThrowStatement");case ve:if(Bt(),U.block=xi(),U.handler=null,M===te){var ti=ge();Bt(),se(L),ti.param=Ze(),K&&Ai(ti.param.name)&&tt(ti.param.start,"Binding "+ti.param.name+" in strict mode"),se(W),ti.guard=null,ti.body=xi(),U.handler=Mt(ti,"CatchClause")}return U.guardedHandlers=nt,U.finalizer=Qt(de)?xi():null,!U.handler&&!U.finalizer&&tt(U.start,"Missing catch or finally clause"),Mt(U,"TryStatement");case Le:return Bt(),on(U),$e(),Mt(U,"VariableDeclaration");case me:return Bt(),U.test=mi(),ft.push(Fi),U.body=Ne(),ft.pop(),Mt(U,"WhileStatement");case Ot:return K&&tt(E,"'with' in strict mode"),Bt(),U.object=mi(),U.body=Ne(),Mt(U,"WithStatement");case m:return xi();case st:return Bt(),Mt(U,"EmptyStatement");default:var Zi=D,Mi=xe();if(N===gt&&"Identifier"===Mi.type&&Qt(ht)){for(J=0;J<ft.length;++J)ft[J].name===Zi&&tt(Mi.start,"Label '"+Zi+"' is already declared");return ft.push({name:Zi,kind:M.isLoop?"loop":M===_e?"switch":null}),U.body=Ne(),ft.pop(),U.label=Mi,Mt(U,"LabeledStatement")}return U.expression=Mi,$e(),Mt(U,"ExpressionStatement")}}function mi(){se(L);var N=xe();return se(W),N}function xi(N){var mt,U=ge(),Z=!0,J=!1;for(U.body=[],se(m);!Qt(I);){var Ct=Ne();U.body.push(Ct),Z&&N&&Di(Ct)&&(mt=J,Bi(J=!0)),Z=!1}return J&&!mt&&Bi(!1),Mt(U,"BlockStatement")}function zi(N,U){return N.init=U,se(st),N.test=M===st?null:xe(),se(st),N.update=M===W?null:xe(),se(W),N.body=Ne(),ft.pop(),Mt(N,"ForStatement")}function un(N,U){return N.left=U,N.right=xe(),se(W),N.body=Ne(),ft.pop(),Mt(N,"ForInStatement")}function on(N,U){for(N.declarations=[],N.kind="var";;){var Z=ge();if(Z.id=Ze(),K&&Ai(Z.id.name)&&tt(Z.id.start,"Binding "+Z.id.name+" in strict mode"),Z.init=Qt(Oe)?xe(!0,U):null,N.declarations.push(Mt(Z,"VariableDeclarator")),!Qt(j))break}return N}function xe(N,U){var Z=Ui(U);if(!N&&M===j){var J=je(Z);for(J.expressions=[Z];Qt(j);)J.expressions.push(Ui(U));return Mt(J,"SequenceExpression")}return Z}function Ui(N){var U=function Dn(N){var U=function Fn(N){return qi(Hi(),-1,N)}(N);if(Qt(Nt)){var Z=je(U);return Z.test=U,Z.consequent=xe(!0),se(ht),Z.alternate=xe(!0,N),Mt(Z,"ConditionalExpression")}return U}(N);if(M.isAssign){var Z=je(U);return Z.operator=D,Z.left=U,Bt(),Z.right=Ui(N),Ni(U),Mt(Z,"AssignmentExpression")}return U}function qi(N,U,Z){var J=M.binop;if(null!=J&&(!Z||M!==ai)&&J>U){var mt=je(N);mt.left=N,mt.operator=D;var Ct=M;return Bt(),mt.right=qi(Hi(),J,Z),qi(Mt(mt,Ct===De||Ct===Fe?"LogicalExpression":"BinaryExpression"),U,Z)}return N}function Hi(){if(M.prefix){var N=ge(),U=M.isUpdate;return N.operator=D,N.prefix=!0,R=!0,Bt(),N.argument=Hi(),U?Ni(N.argument):K&&"delete"===N.operator&&"Identifier"===N.argument.type&&tt(N.start,"Deleting local variable in strict mode"),Mt(N,U?"UpdateExpression":"UnaryExpression")}for(var Z=function zn(){return yi(Wi())}();M.postfix&&!Oi();)(N=je(Z)).operator=D,N.prefix=!1,N.argument=Z,Ni(Z),Bt(),Z=Mt(N,"UpdateExpression");return Z}function yi(N,U){var Z;return Qt(Pt)?((Z=je(N)).object=N,Z.property=Ze(!0),Z.computed=!1,yi(Mt(Z,"MemberExpression"),U)):Qt(i)?((Z=je(N)).object=N,Z.property=xe(),Z.computed=!0,se(a),yi(Mt(Z,"MemberExpression"),U)):!U&&Qt(L)?((Z=je(N)).callee=N,Z.arguments=ji(W,!1),yi(Mt(Z,"CallExpression"),U)):N}function Wi(){switch(M){case ci:var J=ge();return Bt(),Mt(J,"ThisExpression");case gt:return Ze();case dt:case Q:case ct:return(J=ge()).value=D,J.raw=_.slice(E,T),Bt(),Mt(J,"Literal");case di:case pi:case Pi:return(J=ge()).value=M.atomValue,J.raw=M.keyword,Bt(),Mt(J,"Literal");case L:var N=O,U=E;Bt();var Z=xe();return Z.start=U,Z.end=T,C.locations&&(Z.loc.start=N,Z.loc.end=B),C.ranges&&(Z.range=[U,T]),se(W),Z;case i:return J=ge(),Bt(),J.elements=ji(a,!0,!0),Mt(J,"ArrayExpression");case m:return function qn(){var N=ge(),U=!0,Z=!1;for(N.properties=[],Bt();!Qt(I);){if(U)U=!1;else if(se(j),C.allowTrailingCommas&&Qt(I))break;var Ct,J={key:hn()},mt=!1;if(Qt(ht)?(J.value=xe(!0),Ct=J.kind="init"):C.ecmaVersion>=5&&"Identifier"===J.key.type&&("get"===J.key.name||"set"===J.key.name)?(mt=Z=!0,Ct=J.kind=J.key.name,J.key=hn(),M!==L&&ze(),J.value=Gi(ge(),!1)):ze(),"Identifier"===J.key.type&&(K||Z))for(var kt=0;kt<N.properties.length;++kt){var Ft=N.properties[kt];if(Ft.key.name===J.key.name){var Me=Ct==Ft.kind||mt&&"init"===Ft.kind||"init"===Ct&&("get"===Ft.kind||"set"===Ft.kind);Me&&!K&&"init"===Ct&&"init"===Ft.kind&&(Me=!1),Me&&tt(J.key.start,"Redefinition of property")}}N.properties.push(J)}return Mt(N,"ObjectExpression")}();case Se:return J=ge(),Bt(),Gi(J,!1);case Ii:return function Un(){var N=ge();return Bt(),N.callee=yi(Wi(),!0),N.arguments=Qt(L)?ji(W,!1):nt,Mt(N,"NewExpression")}();default:ze()}}function hn(){return M===dt||M===Q?Wi():Ze(!0)}function Gi(N,U){M===gt?N.id=Ze():U?ze():N.id=null,N.params=[];var Z=!0;for(se(L);!Qt(W);)Z?Z=!1:se(j),N.params.push(Ze());var J=lt,mt=ft;if(lt=!0,ft=[],N.body=xi(!0),lt=J,ft=mt,K||N.body.body.length&&Di(N.body.body[0]))for(var Ct=N.id?-1:0;Ct<N.params.length;++Ct){var kt=Ct<0?N.id:N.params[Ct];if((Xi(kt.name)||Ai(kt.name))&&tt(kt.start,"Defining '"+kt.name+"' in strict mode"),Ct>=0)for(var Ft=0;Ft<Ct;++Ft)kt.name===N.params[Ft].name&&tt(kt.start,"Argument name clash in strict mode")}return Mt(N,U?"FunctionDeclaration":"FunctionExpression")}function ji(N,U,Z){for(var J=[],mt=!0;!Qt(N);){if(mt)mt=!1;else if(se(j),U&&C.allowTrailingCommas&&Qt(N))break;J.push(Z&&M===j?null:xe(!0))}return J}function Ze(N){var U=ge();return N&&"everywhere"==C.forbidReserved&&(N=!1),M===gt?(!N&&(C.forbidReserved&&(3===C.ecmaVersion?mn:xn)(D)||K&&Xi(D))&&-1==_.slice(E,T).indexOf("\\")&&tt(E,"The keyword '"+D+"' is reserved"),U.name=D):N&&M.keyword?U.name=M.keyword:ze(),R=!1,Bt(),Mt(U,"Identifier")}},"object"==typeof n&&"object"==typeof r?C(n):(Gt=[n],(Ee="function"==typeof(ye=C)?ye.apply(n,Gt):ye)!==ot&&(r.exports=Ee)),e.version||(e=null));var u={"+":"__add","-":"__subtract","*":"__multiply","/":"__divide","%":"__modulo","==":"__equals","!=":"__equals"},h={"-":"__negate","+":"__self"},o=V.each(["add","subtract","multiply","divide","modulo","equals","negate"],function(x){this["__"+x]="#"+x},{__self:function(){return this}});function l(x,C,_){var b=u[C];if(x&&x[b]){var d=x[b](_);return"!="===C?!d:d}switch(C){case"+":return x+_;case"-":return x-_;case"*":return x*_;case"/":return x/_;case"%":return x%_;case"==":return x==_;case"!=":return x!=_}}function f(x,C){var _=h[x];if(C&&C[_])return C[_]();switch(x){case"+":return+C;case"-":return-C}}function p(x,C){if(!x)return"";var _=[];function b(K){for(var tt=0,nt=_.length;tt<nt;tt++){var dt=_[tt];if(dt[0]>=K)break;K+=dt[1]}return K}function d(K){return x.substring(b(K.range[0]),b(K.range[1]))}function S(K,tt){for(var nt=b(K.range[0]),dt=b(K.range[1]),ct=0,Q=_.length-1;Q>=0;Q--)if(nt>_[Q][0]){ct=Q+1;break}_.splice(ct,0,[nt,tt.length-dt+nt]),x=x.substring(0,nt)+tt+x.substring(dt)}var it,O=(C=C||{}).url||"",B=C.sourceMaps,M=C.paperFeatures||{},D=C.source||x,R=C.offset||0,z=rt.agent,H=z.versionNumber,G=!1,Y=/\r\n|\n|\r/gm;if(B&&(z.chrome&&H>=30||z.webkit&&H>=537.76||z.firefox&&H>=23||z.node)){if(z.node)R-=2;else if(qt&&O&&!qt.location.href.indexOf(O)){var lt=et.getElementsByTagName("html")[0].innerHTML;R=lt.substr(0,lt.indexOf(x)+1).match(Y).length+1}var ft=["AA"+function T(K){var tt="";for(K=(Math.abs(K)<<1)+(K<0?1:0);K||!tt;){var dt=31&K;(K>>=5)&&(dt|=32),tt+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[dt]}return tt}((G=R>0&&!(z.chrome&&H>=36||z.safari&&H>=600||z.firefox&&H>=40||z.node))?0:R)+"A"];ft.length=(x.match(Y)||[]).length+1+(G?R:0),it={version:3,file:O,names:[],mappings:ft.join(";AACA"),sourceRoot:"",sources:[O],sourcesContent:[D]}}return(!1!==M.operatorOverloading||!1!==M.moduleExports)&&function E(K,tt,nt){if(K){for(var dt in K)if("range"!==dt&&"loc"!==dt){var ct=K[dt];if(Array.isArray(ct))for(var Q=0,gt=ct.length;Q<gt;Q++)E(ct[Q],K,nt);else ct&&"object"==typeof ct&&E(ct,K,nt)}!1!==nt.operatorOverloading&&function P(K,tt){switch(K.type){case"UnaryExpression":if(K.operator in h&&"Literal"!==K.argument.type){var nt=d(K.argument);S(K,'$__("'+K.operator+'", '+nt+")")}break;case"BinaryExpression":if(K.operator in u&&"Literal"!==K.left.type){var dt=d(K.left),ct=d(K.right),Q=function y(K,tt){return x.substring(b(K.range[1]),b(tt.range[0]))}(K.left,K.right),gt=K.operator;S(K,"__$__("+dt+","+Q.replace(new RegExp("\\"+gt),'"'+gt+'"')+", "+ct+")")}break;case"UpdateExpression":case"AssignmentExpression":var yt=tt&&tt.type;if(!("ForStatement"===yt||"BinaryExpression"===yt&&/^[=!<>]/.test(tt.operator)||"MemberExpression"===yt&&tt.computed))if("UpdateExpression"===K.type){var bt=(nt=d(K.argument))+" = "+(It="__$__("+nt+', "'+K.operator[0]+'", 1)');K.prefix?bt="("+bt+")":("AssignmentExpression"===yt||"VariableDeclarator"===yt||"BinaryExpression"===yt)&&(d(tt.left||tt.id)===nt&&(bt=It),bt=nt+"; "+bt),S(K,bt)}else if(/^.=$/.test(K.operator)&&"Literal"!==K.left.type){dt=d(K.left),ct=d(K.right);var It=dt+" = __$__("+dt+', "'+K.operator[0]+'", '+ct+")";S(K,/^\(.*\)$/.test(d(K))?"("+It+")":It)}}}(K,tt),!1!==nt.moduleExports&&function w(K){switch(K.type){case"ExportDefaultDeclaration":S({range:[K.start,K.declaration.start]},"module.exports = ");break;case"ExportNamedDeclaration":var tt=K.declaration,nt=K.specifiers;if(tt){var dt=tt.declarations;dt&&(dt.forEach(function(Q){S(Q,"module.exports."+d(Q))}),S({range:[K.start,tt.start+tt.kind.length]},""))}else if(nt){var ct=nt.map(function(Q){var gt=d(Q);return"module.exports."+gt+" = "+gt+"; "}).join("");ct&&S(K,ct)}}}(K)}}(s(x,{ranges:!0,preserveParens:!0,sourceType:"module"}),null,M),it&&(G&&(x=new Array(R+1).join("\n")+x),/^(inline|both)$/.test(B)&&(x+="\n//# sourceMappingURL=data:application/json;base64,"+jt.btoa(unescape(encodeURIComponent(JSON.stringify(it))))),x+="\n//# sourceURL="+(O||"paperscript")),{url:O,source:D,code:x,map:it}}function v(x,C,_){rt=C;var E,b=C.getView(),d=/\btool\.\w+|\s+on(?:Key|Mouse)(?:Up|Down|Move|Drag)\b/.test(x)&&!/\bnew\s+Tool\b/.test(x)?new Si:null,y=d?d._events:[],S=["onFrame","onResize"].concat(y),P=[],w=[],T="object"==typeof x?x:p(x,_);function O(H,G){for(var Y in H)(G||!/^_/.test(Y))&&new RegExp("([\\b\\s\\W]|^)"+Y.replace(/\$/g,"\\$")+"\\b").test(x)&&(P.push(Y),w.push(H[Y]))}x=T.code,O({__$__:l,$__:f,paper:C,tool:d},!0),O(C),x="var module = { exports: {} }; "+x,(R=V.each(S,function(H){new RegExp("\\s+"+H+"\\b").test(x)&&(P.push(H),this.push("module.exports."+H+" = "+H+";"))},[]).join("\n"))&&(x+="\n"+R),x+="\nreturn module.exports;";var B=rt.agent;if(et&&(B.chrome||B.firefox&&B.versionNumber<40)){var M=et.createElement("script"),D=et.head||et.getElementsByTagName("head")[0];B.firefox&&(x="\n"+x),M.appendChild(et.createTextNode("document.__paperscript__ = function("+P+") {"+x+"\n}")),D.appendChild(M),E=et.__paperscript__,delete et.__paperscript__,D.removeChild(M)}else E=Function(P,x);var R,z=(R=E&&E.apply(C,w))||{};return V.each(y,function(H){var G=z[H];G&&(d[H]=G)}),b&&(z.onResize&&b.setOnResize(z.onResize),b.emit("resize",{size:b.size,delta:new q}),z.onFrame&&b.setOnFrame(z.onFrame),b.requestUpdate()),R}function c(x){if(/^text\/(?:x-|)paperscript$/.test(x.type)&&"true"!==he.getAttribute(x,"ignore")){var C=he.getAttribute(x,"canvas"),_=et.getElementById(C),b=x.src||x.getAttribute("data-src"),d=he.hasAttribute(x,"async"),y="data-paper-scope";if(!_)throw new Error('Unable to find canvas with id "'+C+'"');var S=he.get(_.getAttribute(y))||(new he).setup(_);return _.setAttribute(y,S._id),b?Wt_request({url:b,async:d,mimeType:"text/plain",onLoad:function(P){v(P,S,b)}}):v(x.innerHTML,S,x.baseURI),x.setAttribute("data-paper-ignore","true"),S}}function g(){V.each(et&&et.getElementsByTagName("script"),c)}return q.inject(o),at.inject(o),Zt.inject(o),qt&&("complete"===et.readyState?setTimeout(g):$t.add(qt,{load:g})),{compile:p,execute:v,load:function k(x){return x?c(x):g()},parse:s,calculateBinary:l,calculateUnary:f}}.call(this);var rt=new(he.inject(V.exports,{Base:V,Numerical:wt,Key:si,DomEvent:$t,DomElement:Ht,document:et,window:qt,Symbol:we,PlacedSymbol:Jt}));return rt.agent.node&&St(6999)(rt),(Ee="function"==typeof(ye=rt)?ye.call(ei,St,ei,li):ye)!==ot&&(li.exports=Ee),rt}).call(this,"object"==typeof self?self:null)},6999:()=>{},2965:()=>{}}]);